e->getAdvancedSearch("y_thoigian_them");
		 $intro_article->thoihan_sua->AdvancedSearch->SearchValue = $intro_article->getAdvancedSearch("x_thoihan_sua");
		 $intro_article->trang_thai->AdvancedSearch->SearchValue = $intro_article->getAdvancedSearch("x_trang_thai");
                 $intro_article->chuyenmuc_id->AdvancedSearch->SearchValue = $intro_article->getAdvancedSearch("x_chuyenmuc_id");
	}

	// Set up Sort parameters based on Sort Links clicked
	function SetUpSortOrder() {
		global $intro_article;

		// Check for an Order parameter
		if (@$_GET["order"] <> "") {
			$intro_article->CurrentOrder = ew_StripSlashes(@$_GET["order"]);
			$intro_article->CurrentOrderType = @$_GET["ordertype"];
			$intro_article->UpdateSort($intro_article->chuyenmuc_id); // Field 
			$intro_article->UpdateSort($intro_article->tieude_baiviet); // Field 
			$intro_article->UpdateSort($intro_article->thoigian_them); // Field 
			$intro_article->UpdateSort($intro_article->soluot_truynhap); // Field 
			$intro_article->UpdateSort($intro_article->trang_thai); // Field 
			$intro_article->setStartRecordNumber(1); // Reset start position
		}
	}

	// Load Sort Order parameters
	function LoadSortOrder() {
		global $intro_article;
		$sOrderBy = $intro_article->getSessionOrderBy(); // Get order by from Session
		if ($sOrderBy == "") {
			if ($intro_article->SqlOrderBy() <> "") {
				$sOrderBy = $intro_article->SqlOrderBy();
				$intro_article->setSessionOrderBy($sOrderBy);
			}
		}
	}

	// Reset command based on querystring parameter cmd=
	// - RESET: reset search parameters
	// - RESETALL: reset search & master/detail parameters
	// - RESETSORT: reset sort parameters
	function ResetCmd() {
		global $intro_article;

		// Get reset cmd
		if (@$_GET["cmd"] <> "") {
			$sCmd = $_GET["cmd"];

			// Reset search criteria
			if (strtolower($sCmd) == "reset" || strtolower($sCmd) == "resetall")
				$this->ResetSearchParms();

			// Reset sort criteria
			if (strtolower($sCmd) == "resetsort") {
				$sOrderBy = "";
				$intro_article->setSessionOrderBy($sOrderBy);
				$intro_article->chuyenmuc_id->setSort("");
				$intro_article->tieude_baiviet->setSort("");
				$intro_article->thoigian_them->setSort("");
				$intro_article->soluot_truynhap->setSort("");
				$intro_article->trang_thai->setSort("");
			}

			// Reset start position
			$this->lStartRec = 1;
			$intro_article->setStartRecordNumber($this->lStartRec);
		}
	}

	// Set up Starting Record parameters based on Pager Navigation
	function SetUpStartRec() {
		global $intro_article;
		if ($this->lDisplayRecs == 0)
			return;
		if ($this->IsPageRequest()) { // Validate request			
			if (@$_GET[EW_TABLE_START_REC] <> "") { // Check for "start" parameter
				$this->lStartRec = $_GET[EW_TABLE_START_REC];
				$intro_article->setStartRecordNumber($this->lStartRec);
			} elseif (@$_GET[EW_TABLE_PAGE_NO] <> "") {
				$this->nPageNo = $_GET[EW_TABLE_PAGE_NO];
				if (is_numeric($this->nPageNo)) {
					$this->lStartRec = ($this->nPageNo-1)*$this->lDisplayRecs+1;
					if ($this->lStartRec <= 0) {
						$this->lStartRec = 1;
					} elseif ($this->lStartRec >= intval(($this->lTotalRecs-1)/$this->lDisplayRecs)*$this->lDisplayRecs+1) {
						$this->lStartRec = intval(($this->lTotalRecs-1)/$this->lDisplayRecs)*$this->lDisplayRecs+1;
					}
					$intro_article->setStartRecordNumber($this->lStartRec);
				}
			}
		}
		$this->lStartRec = $intro_article->getStartRecordNumber();

		// Check if correct start record counter
		if (!is_numeric($this->lStartRec) || $this->lStartRec == "") { // Avoid invalid start record counter
			$this->lStartRec = 1; // Reset start record counter
			$intro_article->setStartRecordNumber($this->lStartRec);
		} elseif (intval($this->lStartRec) > intval($this->lTotalRecs)) { // Avoid starting record > total records
			$this->lStartRec = intval(($this->lTotalRecs-1)/$this->lDisplayRecs)*$this->lDisplayRecs+1; // Point to last page first record
			$intro_article->setStartRecordNumber($this->lStartRec);
		} elseif (($this->lStartRec-1) % $this->lDisplayRecs <> 0) {
			$this->lStartRec = intval(($this->lStartRec-1)/$this->lDisplayRecs)*$this->lDisplayRecs+1; // Point to page boundary
			$intro_article->setStartRecordNumber($this->lStartRec);
		}
	}

	//  Load search values for validation
	function LoadSearchValues() {
		global $objForm, $intro_article;

		// Load search values
		// thoigian_them

		$intro_article->thoigian_them->AdvancedSearch->SearchValue = @$_GET["x_thoigian_them"];
		$intro_article->thoigian_them->AdvancedSearch->SearchOperator = @$_GET["z_thoigian_them"];
		$intro_article->thoigian_them->AdvancedSearch->SearchCondition = @$_GET["v_thoigian_them"];
		$intro_article->thoigian_them->AdvancedSearch->SearchValue2 = @$_GET["y_thoigian_them"];
		$intro_article->thoigian_them->AdvancedSearch->SearchOperator2 = @$_GET["w_thoigian_them"];
                $intro_article->chuyenmuc_id->AdvancedSearch->SearchValue = @$_GET["x_chuyenmuc_id"];
		$intro_article->chuyenmuc_id->AdvancedSearch->SearchOperator = @$_GET["z_chuyenmuc_id"];
		// trang_thai
		$intro_article->trang_thai->AdvancedSearch->SearchValue = @$_GET["x_trang_thai"];
		$intro_article->trang_thai->AdvancedSearch->SearchOperator = @$_GET["z_trang_thai"];
	}

	// Load recordset
	function LoadRecordset($offset = -1, $rowcnt = -1) {
		global $conn, $intro_article;

		// Call Recordset Selecting event
		$intro_article->Recordset_Selecting($intro_article->CurrentFilter);

		// Load list page SQL
		$sSql = $intro_article->SelectSQL();
		if ($offset > -1 && $rowcnt > -1) $sSql .= " LIMIT $offset, $rowcnt";

		// Load recordset
		$conn->raiseErrorFn = 'ew_ErrorFn';	
		$rs = $conn->Execute($sSql);
		$conn->raiseErrorFn = '';

		// Call Recordset Selected event
		$intro_article->Recordset_Selected($rs);
		return $rs;
	}

	// Load row based on key values
	function LoadRow() {
		global $conn, $Security, $intro_article;
		$sFilter = $intro_article->KeyFilter();

		// Call Row Selecting event
		$intro_article->Row_Selecting($sFilter);

		// Load sql based on filter
		$intro_article->CurrentFilter = $sFilter;
		$sSql = $intro_article->SQL();
		if ($rs = $conn->Execute($sSql)) {
			if ($rs->EOF) {
				$LoadRow = FALSE;
			} else {
				$LoadRow = TRUE;
				$rs->MoveFirst();
				$this->LoadRowValues($rs); // Load row values

				// Call Row Selected event
				$intro_article->Row_Selected($rs);
			}
			$rs->Close();
		} else {
			$LoadRow = FALSE;
		}
		return $LoadRow;
	}

	// Load row values from recordset
	function LoadRowValues(&$rs) {
		global $intro_article;
		$intro_article->baiviet_id->setDbValue($rs->fields('baiviet_id'));
		$intro_article->chuyenmuc_id->setDbValue($rs->fields('chuyenmuc_id'));
		$intro_article->tieude_baiviet->setDbValue($rs->fields('tieude_baiviet'));
		$intro_article->tukhoa_baiviet->setDbValue($rs->fields('tukhoa_baiviet'));
		$intro_article->tomtat_baiviet->setDbValue($rs->fields('tomtat_baiviet'));
		$intro_article->noidung_baiviet->setDbValue($rs->fields('noidung_baiviet'));
		$intro_article->nguon_baiviet->setDbValue($rs->fields('nguon_baiviet'));
		$intro_article->lienket_baiviet->setDbValue($rs->fields('lienket_baiviet'));
		$intro_article->thoigian_them->setDbValue($rs->fields('thoigian_them'));
		$intro_article->thoihan_sua->setDbValue($rs->fields('thoihan_sua'));
		$intro_article->nguoi_them->setDbValue($rs->fields('nguoi_them'));
		$intro_article->nguoi_sua->setDbValue($rs->fields('nguoi_sua'));
		$intro_article->soluot_truynhap->setDbValue($rs->fields('soluot_truynhap'));
		$intro_article->trang_thai->setDbValue($rs->fields('trang_thai'));
		$intro_article->thutu_sapxep->setDbValue($rs->fields('thutu_sapxep'));
	}

	// Render row values based on field settings
	function RenderRow() {
		global $conn, $Security, $intro_article;

		// Call Row_Rendering event
		$intro_article->Row_Rendering();

		// Common render codes for all row types
		// chuyenmuc_id

		$intro_article->chuyenmuc_id->CellCssStyle = "white-space: nowrap;";
		$intro_article->chuyenmuc_id->CellCssClass = "";

		// tieude_baiviet
		$intro_article->tieude_baiviet->CellCssStyle = "white-space: nowrap;";
		$intro_article->tieude_baiviet->CellCssClass = "";

		// thoigian_them
		$intro_article->thoigian_them->CellCssStyle = "white-space: nowrap;";
		$intro_article->thoigian_them->CellCssClass = "";

		// soluot_truynhap
		$intro_article->soluot_truynhap->CellCssStyle = "white-space: nowrap;";
		$intro_article->soluot_truynhap->CellCssClass = "";

		// trang_thai
		$intro_article->trang_thai->CellCssStyle = "white-space: nowrap;";
		$intro_article->trang_thai->CellCssClass = "";
		if ($intro_article->RowType == EW_ROWTYPE_VIEW) { // View row

			// chuyenmuc_id
			if (strval($intro_article->chuyenmuc_id->CurrentValue) <> "") {
				$sSqlWrk = "SELECT `ten_chuyenmuc` FROM `intro_subject` WHERE `chuyenmuc_id` = " . ew_AdjustSql($intro_article->chuyenmuc_id->CurrentValue) . "";
				$rswrk = $conn->Execute($sSqlWrk);
				if ($rswrk && !$rswrk->EOF) { // Lookup value(s) found
					$intro_article->chuyenmuc_id->ViewValue = $rswrk->fields('ten_chuyenmuc');
					$rswrk->Close();
				} else {
					$intro_article->chuyenmuc_id->ViewValue = $intro_article->chuyenmuc_id->CurrentValue;
				}
			} else {
				$intro_article->chuyenmuc_id->ViewValue = NULL;
			}
			$intro_article->chuyenmuc_id->CssStyle = "";
			$intro_article->chuyenmuc_id->CssClass = "";
			$intro_article->chuyenmuc_id->ViewCustomAttributes = "";

			// tieude_baiviet
			$intro_article->tieude_baiviet->ViewValue = $intro_article->tieude_baiviet->CurrentValue;
			$intro_article->tieude_baiviet->CssStyle = "";
			$intro_article->tieude_baiviet->CssClass = "";
			$intro_article->tieude_baiviet->ViewCustomAttributes = "";

			// thoigian_them
			$intro_article->thoigian_them->ViewValue = $intro_article->thoigian_them->CurrentValue;
			$intro_article->thoigian_them->ViewValue = ew_FormatDateTime($intro_article->thoigian_them->ViewValue, 7);
			$intro_article->thoigian_them->CssStyle = "";
			$intro_article->thoigian_them->CssClass = "";
			$intro_article->thoigian_them->ViewCustomAttributes = "";

			// soluot_truynhap
			$intro_article->soluot_truynhap->ViewValue = $intro_article->soluot_truynhap->CurrentValue;
			$intro_article->soluot_truynhap->CssStyle = "";
			$intro_article->soluot_truynhap->CssClass = "";
			$intro_article->soluot_truynhap->ViewCustomAttributes = "";

			// trang_thai
			if (strval($intro_article->trang_thai->CurrentValue) <> "") {
				switch ($intro_article->trang_thai->CurrentValue) {
					case "0":
						$intro_article->trang_thai->ViewValue = "<font color=\"#FF0000\">KhÃ´ng xuáº¥t báº£n</font>";
						break;
					case "1":
						$intro_article->trang_thai->ViewValue = "Xuáº¥t báº£n";
						break;
					default:
						$intro_article->trang_thai->ViewValue = $intro_article->trang_thai->CurrentValue;
				}
			} else {
				$intro_article->trang_thai->ViewValue = NULL;
			}
			$intro_article->trang_thai->CssStyle = "";
			$intro_article->trang_thai->CssClass = "";
			$intro_article->trang_thai->ViewCustomAttributes = "";

			// chuyenmuc_id
			$intro_article->chuyenmuc_id->HrefValue = "";

			// tieude_baiviet
			$intro_article->tieude_baiviet->HrefValue = "";

			// thoigian_them
			$intro_article->thoigian_them->HrefValue = "";

			// soluot_truynhap
			$intro_article->soluot_truynhap->HrefValue = "";

			// trang_thai
			$intro_article->trang_thai->HrefValue = "";
		} elseif ($intro_article->RowType == EW_ROWTYPE_SEARCH) { // Search row

			// chuyenmuc_id
			$intro_article->chuyenmuc_id->EditCustomAttributes = "";
			$sSqlWrk = "SELECT `chuyenmuc_id`, `ten_chuyenmuc`, '' AS Disp2Fld, '' AS SelectFilterFld FROM `intro_subject`";
			$sWhereWrk = "chuyenmuc_belongto=-1";
			if ($sWhereWrk <> "") $sSqlWrk .= " WHERE $sWhereWrk";
			$rswrk = $conn->Execute($sSqlWrk);
			$arwrk = ($rswrk) ? $rswrk->GetRows() : array();
			if ($rswrk) $rswrk->Close();
				$sSqlWrk1 = "SELECT `chuyenmuc_id`, `ten_chuyenmuc`, '' AS Disp2Fld, '' AS SelectFilterFld FROM `intro_subject`";
				$sWhereWrk1 = "chuyenmuc_belongto=0 and show_news <>5 and show_news <>6";
				if ($sWhereWrk1 <> "") $sSqlWrk1 .= " WHERE $sWhereWrk1";
				$rswrk1 = $conn->Execute($sSqlWrk1);
			while (!$rswrk1->EOF){
			array_push($arwrk, array($rswrk1->fields['chuyenmuc_id'], "-".$rswrk1->fields['ten_chuyenmuc']));
				$sSqlWrk2 = "SELECT `chuyenmuc_id`, `ten_chuyenmuc`, '' AS Disp2Fld, '' AS SelectFilterFld FROM `intro_subject`";
				$sWhereWrk2 = "chuyenmuc_belongto=".$rswrk1->fields['chuyenmuc_id'];
				if ($sWhereWrk2 <> "") $sSqlWrk2 .= " WHERE $sWhereWrk2";
				$rswrk2 = $conn->Execute($sSqlWrk2);
				while (!$rswrk2->EOF){
					array_push($arwrk, array($rswrk2->fields['chuyenmuc_id'], "&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+".$rswrk2->fields['ten_chuyenmuc']));
					$rswrk2->MoveNext();
				}
				if ($rswrk2) $rswrk2->Close();
				$rswrk1->MoveNext();
						}
			array_unshift($arwrk, array("", "Chá»n"));
			$intro_article->chuyenmuc_id->EditValue = $arwrk;

			// tieude_baiviet
			$intro_article->tieude_baiviet->EditCustomAttributes = "";
			$intro_article->tieude_baiviet->EditValue = ew_HtmlEncode($intro_article->tieude_baiviet->AdvancedSearch->SearchValue);

			// thoigian_them
			$intro_article->thoigian_them->EditCustomAttributes = "";
			$intro_article->thoigian_them->EditValue = ew_HtmlEncode(ew_FormatDateTime(ew_UnFormatDateTime($intro_article->thoigian_them->AdvancedSearch->SearchValue, 7), 7));
			$intro_article->thoigian_them->EditCustomAttributes = "";
			$intro_article->thoigian_them->EditValue2 = ew_HtmlEncode(ew_FormatDateTime(ew_UnFormatDateTime($intro_article->thoigian_them->AdvancedSearch->SearchValue2, 7), 7));

			// soluot_truynhap
			$intro_article->soluot_truynhap->EditCustomAttributes = "";
			$intro_article->soluot_truynhap->EditValue = ew_HtmlEncode($intro_article->soluot_truynhap->AdvancedSearch->SearchValue);

			// trang_thai
			$intro_article->trang_thai->EditCustomAttributes = "";
			$arwrk = array();
			$arwrk[] = array("0", "KhÃ´ng xuáº¥t báº£n");
			$arwrk[] = array("1", "Xuáº¥t báº£n");
			array_unshift($arwrk, array("", "Chá»n"));
			$intro_article->trang_thai->EditValue = $arwrk;
		}

		// Call Row Rendered event
		$intro_article->Row_Rendered();
	}

	// Validate search
	function ValidateSearch() {
		global $gsSearchError, $intro_article;

		// Initialize
		$gsSearchError = "";

		// Check if validation required
		if (!EW_SERVER_VALIDATE)
			return TRUE;

		// Return validate result
		$ValidateSearch = ($gsSearchError == "");

		// Call Form_CustomValidate event
		$sFormCustomError = "";
		$ValidateSearch = $ValidateSearch && $this->Form_CustomValidate($sFormCustomError);
		if ($sFormCustomError <> "") {
			if ($gsSearchError <> "") $gsSearchError .= "<br>";
			$gsSearchError .= $sFormCustomError;
		}
		return $ValidateSearch;
	}

	// Load advanced search
	function LoadAdvancedSearch() {
		global $intro_article;
                
		$intro_article->thoigian_them->AdvancedSearch->SearchValue = $intro_article->getAdvancedSearch("x_thoigian_them");
		$intro_article->thoigian_them->AdvancedSearch->SearchValue2 = $intro_article->getAdvancedSearch("y_thoigian_them");
		$intro_article->trang_thai->AdvancedSearch->SearchValue = $intro_article->getAdvancedSearch("x_trang_thai");
                $intro_article->chuyenmuc_id->AdvancedSearch->SearchValue = $intro_article->getAdvancedSearch("x_chuyenmuc_id");
	}

	// Page Load event
	function Page_Load() {

		//echo "Page Load";
	}

	// Page Unload event
	function Page_Unload() {

		//echo "Page Unload";
	}

	// Form Custom Validate event
	function Form_CustomValidate(&$CustomError) {

		// Return error message in CustomError
		return TRUE;
	}
}
?>
                                                                                                                                                                                                                                                                                   <?php

// tieude_baiviet
$intro_article->tieude_baiviet->CellCssStyle = "";
$intro_article->tieude_baiviet->CellCssClass = "";
?>
<table border="0" width="100%" id="table806" cellspacing="0" cellpadding="0">
							<tr>
								<td height="10" width="46%" background="images/bg-line.gif" valign="top">
								<a href="<?php echo $gsMasterReturnUrl ?>"><?php echo Lang_pic("<img border=\"0\" src=\"images/cmd_trove.gif\">"); ?></a><b><font face="Verdana" size="2" color="#336699">
								&nbsp;&nbsp;&nbsp;<?php echo Lang_Text("Quáº£n lÃ½ tin quaÌ‰ng caÌo"); ?></font></b></td>
								<td height="20" width="54%" background="images/bg-line.gif" align="right" valign="top">
				&nbsp;</td>
							</tr>
							<tr>
								<td colspan="2" height="5"></td>
							</tr>
</table>


<table cellspacing="0" class="ewGrid"><tr><td class="ewGridContent">
<div class="ewGridMiddlePanel">
<table cellspacing="0" class="ewTable ewTableSeparate">
	<thead>
		<tr>
			<td class="ewTableHeader">TiÃªu Ä‘á» bÃ i viáº¿t</td>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td<?php echo $intro_article->tieude_baiviet->CellAttributes() ?>>
<div<?php echo $intro_article->tieude_baiviet->ViewAttributes() ?>><?php echo $intro_article->tieude_baiviet->ListViewValue() ?></div></td>
		</tr>
	</tbody>
</table>
</div>
</td></tr></table>
<br>
                                                                                                                                                                                       3Õÿ úKİ2k´0ÓO]¬ÔdÔÏU(nÔc›Ê™x¡ˆ±¦¸ºmóoˆúíÏQêw½\T$)¼4í´k]–ÎÏFßá®R&	$9{ÖDÀòñMké¦9½E™îßQ5:<ØÉ™1v6IâÃ†µbïÉc&;`EüUë¡{${N.=.ƒMƒµvNÚ8 é¡idà?ébF2œ¸g‘ˆ·@ø))÷¼Õ=gsÔCKÛ0D|»Ìy3ÂC"R—‚Òâ7ïUu]ëSÉé¼p†‡C‡ùŒ½Âäi´äìG–3É’>è9^|dË×uÑ>	I‰…[yÍ‡špU]YÙÚènYª¨ğ­{ ­ä*Ş›ï~¨ÁŸtºiËCÛ£îşœ“.¯"Ó<Üqş÷ÆÚF¿î>«Òh!¹,ç’Lqa!,¹õ1?åÈ~§Ë¼½ª”€Õ:¯Sd–-—³dÍß»¶pÆjˆO8e”ÈC.-$n:Œq–@)Ø£)·Õ“éÿ Köÿ K8»Ÿ«ugrõ¢µÑÓKlğiçt!>XE%Cµğ4ôÇ¨Œ’¢Ğ[àÁ‡<æèÏw¤Õ¾“vúhªåÆk»~{ÑYÓÇcôï¨½K8w÷›eôù¾SÁ-°×êqÊ˜ı™Æ^Ã!Qİ(2”[±®®ŸMè4šzœİ«E Oå{V;ò9$–£>JˆĞ²2
YWÔGŸ?ÕaÄÜb¸¥8ÏéÖ_rh‡Û)÷?ÛÇ7é¯O˜ñéæÇc–àO´DÒ
C6L|M@ˆ©Ju_j‹¿¹æ6±àqÃG&>™çWİ¶07%U6¸FšEWô8¬s–ÏJvˆbÕ`ûÚ¨gÁ¤'(ã‰Xÿ ˜bıÉeŠî\E—4_äX“ºâ–Y.ËvMNºY';ŠÈİºB‡l`1§{+©^/f.ÿ ¨ŒqàÕë;–Ÿ07F:=(ÂSÅó*}Ä}í¢ôÙ·dÔfËÜ²Gúp—òøå
2O,Ò£c)ìxc^z»ÍÅğUYWŒq®¥$€®—Rò?fñƒA×.ÿ İûvY²cíı£U§Ôâ	†]T3Ñ'ISœFljªÒìü=¯şqê.ù«Ôà5:M§M§Á»öµ×!oÁÓ8»÷ÌûS-»k4?i4úHÂ9ô™![H¦]f)™‚[N%»š'‹«êúË¤ÇéKwS`Ç¿ÍOÚÇ=¯Úïº¬1û™¤êBàÊá‚`•Õú‰N=–6K¿Ë“‹¥òjŞŞÌcr‘Õv >Oz<~}ù­ûî¸íÙñöLÃ¨îá÷G,¿gA!&ha[1²ÅgR"?·¬¯Oh1ú_ÓOSJX_VzÃ¹çôç¥´z¿·x´9qı®íß2tù1¬q4Ÿ·d”e¶ùê­Ñé¥–»¯tój'š—ºZ™ÈHNIu;Y4¾ø--F—¹w¿]aÒJaÙ½+Ú;vˆ#ˆÍ‹O=^Sª!ŠRŒK‚9rE2ŠÇÜuAK|yqúœ?ÃV¡˜¡f>´{Õc³ÈvÄ3ÔÚI÷_P=“ùá«ÈnÏ¦Ã—7¦2jqjt¸ˆê6åÕèÌ™aªËºB\°ãÚÚßOY>Šú{»¡™ÒêõØaËÙ{d±éñ@³'K¡”¥(Èÿ ®d‘I'W/gíŞœĞë%9ô½\òÙ]›£íÆIîÃ©O¸€THŸ9SÍÉéì~‘ÑJzçY)÷-@áÇöe-4qn¿¸ÏO©ÈbŒ ŸÚÑ`]@œ¤É	Èª(?-5gzóÍ•—S ’G±Tpåi¿ÌÏ½k}5ü:hÍ.GU	MËš8tÑ”áŒs2ı¿n–¡<z7M×Bï?I½-é²µ:m>§ jc¬Ò™£“lwhip–9’Ë©O_:c.’9á¯–>Èae§ÓÊY5Sj2qc›Js9¡W.	pı>íùç“Wİ»¼ç’œ™±ÿ 9‡·;/Û;"0†fA?·	Nº§=ÜŞØõLY³ÛÛNQ 2Dê¯±uÉX¦"†Œç|_7|£ƒéo¤û–8÷ş¤ĞöÇÛq¸õ=“AÜri{$ñå_f«¿´ê$pìİ,‘‚)áeşšôGĞoMC>§ùæ´Ùqætú¾×Ü{>››h0ÔÇC“ÿ OO6<“†íÙ¢G$£ÌeMõcfô¾—]­ÖÇSÚôšşİ‡!/üÏÕysé²òÑj±ö½,ç›í–š”aù…=ÔŞ„Ğ÷.ÎúW±êãØµšÜPqÕúSÑ~¤ïñc›Î×êô?ÉÎZp¨fÒHMÁ2ä…¨úÈn•¶¢"²ôB*ô&s\g!©Àµµ8Z,²‘ÅP5-2ŞhãÛÿ …Nß->§SêªŞ‹Á–OòÒÁõ¯°v^×¬ÓnÛ—]ƒAÿ ¥Ü¹sn’oû›ğû·Á——ŞËÚÿ „şÓ®íytÿ Ä‡«ı3©ÒÏ'vìİëÕW3d4š}JiòétºÍ£NL¹Ì†Lu9 ®)7xÒÿ ŸQ}CÜ»6.÷îÁ¦Ôáœ0z«Óı¯°çÕB&ì¸áüÖŸ.·C—pM©/Êú‘ıVş}=¤ôßtõ«²i{–nÛ¯KÚô9u2Ë‡So“lÓÉ×Gİ˜á2ŒV(sbŸªÙ·kvDI@e¸Ãw¢!„•Ä’Ğ7Ñ¼:imíÉS”¬*2Í $ÇÄE’õç©¿…>ÇÜ;pï_K~°}îıÛ¾fÃ¯×zw¶i½[Ü=gê^ëšFM&lÍV‡O™µÚj„å)bÃ6R’ÂŞ•fÅõÒ±öƒ³÷Fz‹Aöô~¢ú?¨É§ÃÛûŒ{„#¤Ãİ»glÒgt˜4š¾5™¿™ÖKQ—2I2:âŸùç®¾šz«UNúgê/ní8ŒD£Ü»'{ì¸õ‘„ˆÃìú‹¼iôßËâÃº|ÁÌb"ƒwãúÑŞû÷n1ººÿ RvÎÿ ÚuRìıãVbÕOLs'¨õl³ÖêçLœqË$fv„¹ÏÜÛ†óø~›soÔt5Òî;q"tÛ[³œÓŞÒ±VV¬íÂ1Œ	ï"&%·%êX÷¥`ÕaálP÷İ3ôã»ÿ 5š}£Ô·Ö/iõoaÕÆz}~“—mË·	ö\ÈÔÉ™2ÂqÔQ¦®İ¬—ª{î<šÕhõXt]¿&*a‹ªf$c±å9\Iµ$o¨ç®ş°zjRõ¯¼hRöÜ°uİVL1ĞåÃÜt¸âÂÑ“–i2È1ªÓÕ]ôÓø¡ôïiÕé±ëû6=WoÚÔj!-»ğàŒÓí¹L;8”±û¬9Ú×Mé=>Ü_ÂcLŸëºcÂÉ7‘ù}ÃDß»!eJ%)Øe 8ü¹ïøŸÖ<?php
session_start(); // Initialize session data
ob_start(); // Turn on output buffering
?>
<?php include "ewcfg6.php" ?>
<?php include "ewmysql6.php" ?>
<?php include "phpfn6.php" ?>
<?php include "intro_articleinfo.php" ?>
<?php include "userinfo.php" ?>
<?php include "userfn6.php" ?>
<?php
header("Expires: Mon, 26 Jul 1997 05:00:00 GMT"); // Date in the past
header("Last-Modified: " . gmdate("D, d M Y H:i:s") . " GMT"); // Always modified
header("Cache-Control: private, no-store, no-cache, must-revalidate"); // HTTP/1.1 
header("Cache-Control: post-check=0, pre-check=0", false);
header("Pragma: no-cache"); // HTTP/1.0
?>
<?php

// Define page object
$intro_article_update = new cintro_article_update();
$Page =& $intro_article_update;

// Page init processing
$intro_article_update->Page_Init();

// Page main processing
$intro_article_update->Page_Main();
?>
<?php include "header.php" ?>
<script type="text/javascript">
<!--

// Create page object
var intro_article_update = new ew_Page("intro_article_update");

// page properties
intro_article_update.PageID = "update"; // page ID
var EW_PAGE_ID = intro_article_update.PageID; // for backward compatibility

// extend page with ValidateForm function
intro_article_update.ValidateForm = function(fobj) {
	if (!this.ValidateRequired)
		return true; // ignore validation
	if (fobj.a_confirm && fobj.a_confirm.value == "F")
		return true;
	
	var uelm;
	var i, elm, aelm, infix;
	var rowcnt = (fobj.key_count) ? Number(fobj.key_count.value) : 1;
	for (i=0; i<rowcnt; i++) {
		infix = (fobj.key_count) ? String(i+1) : "";
		elm = fobj.elements["x" + infix + "_trang_thai"];
		uelm = fobj.elements["u" + infix + "_trang_thai"];
		if (uelm && uelm.checked) {
			if (elm && !ew_HasValue(elm))
				return ew_OnError(this, elm, "HÃ£y nháº­p trÆ°á»ng báº¯t buá»™c - Trang Thai");
		}

		// Call Form Custom Validate event
		if (!this.Form_CustomValidate(fobj)) return false;
	}
	return true;
}

// extend page with Form_CustomValidate function
intro_article_update.Form_CustomValidate = 
 function(fobj) { // DO NOT CHANGE THIS LINE!

 	// Your custom validation code here, return false if invalid. 
 	return true;
 }
intro_article_update.SelectAllKey = function(elem) {
	ew_SelectAll(elem);
}
<?php if (EW_CLIENT_VALIDATE) { ?>
intro_article_update.ValidateRequired = true; // uses JavaScript validation
<?php } else { ?>
intro_article_update.ValidateRequired = false; // no JavaScript validation
<?php } ?>

//-->
</script>
<script type="text/javascript">
<!--
var ew_DHTMLEditors = [];

//-->
</script>
<script language="JavaScript" type="text/javascript">
<!--

// Write your client script here, no need to add script tags.
// To include another .js script, use:
// ew_ClientScriptInclude("my_javascript.js"); 
//-->

</script>
<table border="0" width="100%" id="table806" cellspacing="0" cellpadding="0">
							<tr>
								<td height="10" width="46%" background="images/bg-line.gif" valign="top">
								<a href="<?php echo $intro_article->getReturnUrl() ?>"><img border="0" src="images/cmd_trove.gif"></a><b><font face="Verdana" size="2" color="#336699">
								&nbsp;&nbsp;&nbsp;Xuáº¥t báº£n bÃ i viáº¿t</font></b></td>
								<td height="20" width="54%" background="images/bg-line.gif" align="right" valign="top">
				&nbsp;</td>
							</tr>
							<tr>
								<td colspan="2" height="5"></td>
							</tr>
</table>


<?php $intro_article_update->ShowMessage() ?>
<form name="fintro_articleupdate" id="fintro_articleupdate" action="<?php echo ew_CurrentPage() ?>" method="post" onsubmit="return intro_article_update.ValidateForm(this);">
<p>
<input type="hidden" name="t" id="t" value="intro_article">
<input type="hidden" name="a_update" id="a_update" value="U">
<?php for ($i = 0; $i < $intro_article_update->nKeySelected; $i++) { ?>
<input type="hidden" name="k<?php echo $i+1 ?>_key" id="key<?php echo $i+1 ?>" value="<?php echo ew_HtmlEncode($intro_article_update->arRecKeys[$i]) ?>">
<?php } ?>
<table cellspacing="0" class="ewGrid"><tr><td class="ewGridContent">
<div class="ewGridMiddlePanel">
<table cellspacing="0" class="ewTable">
	<tr class="ewTableHeader">
		<td>Tráº¡ng thÃ¡i</td>
		<td>Chá»n</td>
	</tr>
<?php if ($intro_article->trang_thai->Visible) { // trang_thai ?>
	<tr<?php echo $intro_article->trang_thai->RowAttributes ?>>
		<td<?php echo $intro_article->trang_thai->CellAttributes() ?>>
<input type="hidden" name="u_trang_thai" id="u_trang_thai" value="1">
Xuáº¥t báº£n</td>
		<td<?php echo $intro_article->trang_thai->CellAttributes() ?>><span id="el_trang_thai">
<select id="x_trang_thai" name="x_trang_thai"<?php echo $intro_article->trang_thai->EditAttributes() ?>>
<?php
if (is_array($intro_article->trang_thai->EditValue)) {
	$arwrk = $intro_article->trang_thai->EditValue;
	$rowswrk = count($arwrk);
	$emptywrk = TRUE;
	for ($rowcntwrk = 0; $rowcntwrk < $rowswrk; $rowcntwrk++) {
		$selwrk = (strval($intro_article->trang_thai->CurrentValue) == strval($arwrk[$rowcntwrk][0])) ? " selected=\"selected\"" : "";
		if ($selwrk <> "") $emptywrk = FALSE;
?>
<option value="<?php echo ew_HtmlEncode($arwrk[$rowcntwrk][0]) ?>"<?php echo $selwrk ?>>
<?php echo $arwrk[$rowcntwrk][1] ?>
</option>
<?php
	}
}
?>
</select>
</span><?php echo $intro_article->trang_thai->CustomMsg ?></td>
	</tr>
<?php } ?>
</table>
</div>
</td></tr></table>
<p>
<input type="submit" name="btnAction" id="btnAction" value="  Xuáº¥t báº£n  ">
</form>
<script language="JavaScript" type="text/javascript">
<!--

// Write your table-specific startup script here
// document.write("page loaded");
//-->

</script>
<?php include "footer.php" ?>
<?php

//
// Page Class
//
class cintro_article_update {

	// Page ID
	var $PageID = 'update';

	// Table Name
	var $TableName = 'intro_article';

	// Page Object Name
	var $PageObjName = 'intro_article_update';

	// Page Name
	function PageName() {
		return ew_CurrentPage();
	}

	// Page Url
	function PageUrl() {
		$PageUrl = ew_CurrentPage() . "?";
		global $intro_article;
		if ($intro_article->UseTokenInUrl) $PageUrl .= "t=" . $intro_article->TableVar . "&"; // add page token
		return $PageUrl;
	}

	// Message
	function getMessage() {
		return @$_SESSION[EW_SESSION_MESSAGE];
	}

	function setMessage($v) {
		if (@$_SESSION[EW_SESSION_MESSAGE] <> "") { // Append
			$_SESSION[EW_SESSION_MESSAGE] .= "<br>" . $v;
		} else {
			$_SESSION[EW_SESSION_MESSAGE] = $v;
		}
	}

	// Show Message
	function ShowMessage() {
		if ($this->getMessage() <> "") { // Message in Session, display
			echo "<p><span class=\"ewMessage\">" . $this->getMessage() . "</span></p>";
			$_SESSION[EW_SESSION_MESSAGE] = ""; // Clear message in Session
		}
	}

	// Validate Page request
	function IsPageRequest() {
		global $objForm, $intro_article;
		if ($intro_article->UseTokenInUrl) {

			//IsPageRequest = False
			if ($objForm)
				return ($intro_article->TableVar == $objForm->GetValue("t"));
			if (@$_GET["t"] <> "")
				return ($intro_article->TableVar == $_GET["t"]);
		} else {
			return TRUE;
		}
	}

	//
	//  Class initialize
	//  - init objects
	//  - open connection
	//
	function cintro_article_update() {
		global $conn;

		// Initialize table object
		$GLOBALS["intro_article"] = new cintro_article();

		// Initialize other table object
		$GLOBALS['user'] = new cuser();

		// Intialize page id (for backward compatibility)
		if (!defined("EW_PAGE_ID"))
			define("EW_PAGE_ID", 'update', TRUE);

		// Initialize table name (for backward compatibility)
		if (!defined("EW_TABLE_NAME"))
			define("EW_TABLE_NAME", 'intro_article', TRUE);

		// Open connection to the database
		$conn = ew_Connect();
	}

	// 
	//  Page_Init
	//
	function Page_Init() {
		global $gsExport, $gsExportFile, $intro_article;
		global $Security;
		$Security = new cAdvancedSecurity();
		if (!$Security->IsLoggedIn()) $Security->AutoLogin();
		if (!$Security->IsLoggedIn()) {
			$Security->SaveLastUrl();
			$this->Page_Terminate("login.php");
		}
		$Security->TablePermission_Loading();
		$Security->LoadCurrentUserLevel($this->TableName);
		$Security->TablePermission_Loaded();
		if (!$Security->IsLoggedIn()) {
			$Security->SaveLastUrl();
			$this->Page_Terminate("login.php");
		}
		if (!$Security->CanEdit()) {
			$Security->SaveLastUrl();
			$this->Page_Terminate("intro_articlelist.php");
		}
		$Security->UserID_Loading();
		if ($Security->IsLoggedIn()) $Security->LoadUserID();
		$Security->UserID_Loaded();

		// Global page loading event (in userfn6.php)
		Page_Loading();

		// Page load event, used in current page
		$this->Page_Load();
	}

	//
	//  Page_Terminate
	//  - called when exit page
	//  - if URL specified, redirect to the URL
	//
	function Page_Terminate($url = "") {
		global $conn;

		// Page unload event, used in current page
		$this->Page_Unload();

		// Global page unloaded event (in userfn*.php)
		Page_Unloaded();

		 // Close Connection
		$conn->Close();

		// Go to URL if specified
		if ($url <> "") {
			ob_end_clean();
			header("Location: $url");
		}
		exit();
	}
	var $nKeySelected;
	var $arRecKeys;
	var $sDisabled;

	//
	// Page main processing
	//
	function Page_Main() {
		global $objForm, $gsFormError, $intro_article;

		// Try to load keys from list form
		$this->nKeySelected = 0;
		if (ew_IsHttpPost()) {
			if (isset($_POST["key_m"])) { // Key count > 0
				$this->nKeySelected = count($_POST["key_m"]); // Get number of keys
				$this->arRecKeys = ew_StripSlashes($_POST["key_m"]);
				$this->LoadMultiUpdateValues(); // Load initial values to form
			}
		}

		// Try to load key from update form
		if ($this->nKeySelected == 0) {
			$this->arRecKeys = array();

			// Create form object
			$objForm = new cFormObj();
			if (@$_POST["a_update"] <> "") {

				// Get action
				$intro_article->CurrentAction = $_POST["a_update"];

				// Get record keys
				$sKey = @$_POST["k" . strval($this->nKeySelected+1) . "_key"];
				while ($sKey <> "") {
					$this->arRecKeys[$this->nKeySelected] = ew_StripSlashes($sKey);
					$this->nKeySelected++;
					$sKey = @$_POST["k" . strval($this->nKeySelected+1) . "_key"];
				}
				$this->LoadFormValues(); // Get form values

				// Validate Form
				if (!$this->ValidateForm()) {
					$intro_article->CurrentAction = "I"; // Form error, reset action
					$this->setMessage($gsFormError);
				}
			}
		}
		if ($this->nKeySelected <= 0)
			$this->Page_Terminate("intro_articlelist.php"); // No records selected, return to list
		switch ($intro_article->CurrentAction) {
			case "U": // Update
				if ($this->UpdateRows()) { // Update Records based on key
					$this->setMessage("ÄÃ£ xuáº¥t báº£n"); // Set update success message
					$this->Page_Terminate($intro_article->getReturnUrl()); // Return to caller
				} else {
					$this->RestoreFormValues(); // Restore form values
				}
		}

		// Render row
		$intro_article->RowType = EW_ROWTYPE_EDIT; // Render edit
		$this->RenderRow();
	}

	// Load initial values to form if field values are identical in all selected records
	function LoadMultiUpdateValues() {
		global $intro_article;
		$intro_article->CurrentFilter = $this->BuildKeyFilter();

		// Load recordset
		$rs = $this->LoadRecordset();
		$i = 1;
		while (!$rs->EOF) {
			if ($i == 1) {
				$intro_article->trang_thai->setDbValue($rs->fields('trang_thai'));
			} else {
				if (!ew_CompareValue($intro_article->trang_thai->DbValue, $rs->fields('trang_thai')))
					$intro_article->trang_thai->CurrentValue = NULL;
			}
			$i++;
			$rs->MoveNext();
		}
		$rs->Close();
	}

	// Build filter for all keys
	function BuildKeyFilter() {
		global $intro_article;
		$sWrkFilter = "";
		foreach ($this->arRecKeys as $sKey) {
			$sKey = trim($sKey);
			if ($this->SetupKeyValues($sKey)) {
				$sFilter = $intro_article->KeyFilter();
				if ($sWrkFilter <> "") $sWrkFilter .= " OR ";
				$sWrkFilter .= $sFilter;
			} else {
				$sWrkFilter = "0=1";
				break;
			}
		}
		return $sWrkFilter;
	}

	// Set up key value
	function SetupKeyValues($key) {
		global $intro_article;
		$sKeyFld = $key;
		if (!is_numeric($sKeyFld))
			return FALSE;
		$intro_article->baiviet_id->CurrentValue = $sKeyFld;
		return TRUE;
	}

	// Update all selected rows
	function UpdateRows() {
		global $conn, $intro_article;
		$conn->BeginTrans();

		// Get old recordset
		$intro_article->CurrentFilter = $this->BuildKeyFilter();
		$sSql = $intro_article->SQL();
		$rsold = $conn->Execute($sSql);

		// Update all rows
		$sKey = "";
		foreach ($this->arRecKeys as $sThisKey) {
			$sThisKey = trim($sThisKey);
			if ($this->SetupKeyValues($sThisKey)) {
				$intro_article->SendEmail = FALSE; // Do not send email on update success
				$UpdateRows = $this->EditRow(); // Update this row
			} else {
				$UpdateRows = FALSE;
			}
			if (!$UpdateRows)
				return; // Update failed
			if ($sKey <> "") $sKey .= ", ";
			$sKey .= $sThisKey;
		}

		// Check if all rows updated
		if ($UpdateRows) {
			$conn->CommitTrans(); // Commit transaction

			// Get new recordset
			$rsnew = $conn->Execute($sSql);
		} else {
			$conn->RollbackTrans(); // Rollback transaction
		}
		return $UpdateRows;
	}

	// Get upload files
	function GetUploadFiles() {
		global $objForm, $intro_article;

		// Get upload data
	}

	// Load form values
	function LoadFormValues() {

		// Load from form
		global $objForm, $intro_article;
		$intro_article->trang_thai->setFormValue($objForm->GetValue("x_trang_thai"));
		$intro_article->trang_thai->MultiUpdate = $objForm->GetValue("u_trang_thai");
		$intro_article->baiviet_id->setFormValue($objForm->GetValue("x_baiviet_id"));
	}

	// Restore form values
	function RestoreFormValues() {
		global $intro_article;
		$intro_article->baiviet_id->CurrentValue = $intro_article->baiviet_id->FormValue;
		$intro_article->trang_thai->CurrentValue = $intro_article->trang_thai->FormValue;
	}

	// Load recordset
	function LoadRecordset($offset = -1, $rowcnt = -1) {
		global $conn, $intro_article;

		// Call Recordset Selecting event
		$intro_article->Recordset_Selecting($intro_article->CurrentFilter);

		// Load list page SQL
		$sSql = $intro_article->SelectSQL();
		if ($offset > -1 && $rowcnt > -1) $sSql .= " LIMIT $offset, $rowcnt";

		// Load recordset
		$conn->raiseErrorFn = 'ew_ErrorFn';	
		$rs = $conn->Execute($sSql);
		$conn->raiseErrorFn = '';

		// Call Recordset Selected event
		$intro_article->Recordset_Selected($rs);
		return $rs;
	}

	// Render row values based on field settings
	function RenderRow() {
		global $conn, $Security, $intro_article;

		// Call Row_Rendering event
		$intro_article->Row_Rendering();

		// Common render codes for all row types
		// trang_thai

		$intro_article->trang_thai->CellCssStyle = "";
		$intro_article->trang_thai->CellCssClass = "";
		if ($intro_article->RowType == EW_ROWTYPE_VIEW) { // View row

			// trang_thai
			if (strval($intro_article->trang_thai->CurrentValue) <> "") {
				switch ($intro_article->trang_thai->CurrentValue) {
					case "0":
						$intro_article->trang_thai->ViewValue = "KhÃ´ng xuáº¥t báº£n";
						break;
					case "1":
						$intro_article->trang_thai->ViewValue = "Xuáº¥t báº£n";
						break;
					default:
						$intro_article->trang_thai->ViewValue = $intro_article->trang_thai->CurrentValue;
				}
			} else {
				$intro_article->trang_thai->ViewValue = NULL;
			}
			$intro_article->trang_thai->CssStyle = "";
			$intro_article->trang_thai->CssClass = "";
			$intro_article->trang_thai->ViewCustomAttributes = "";

			// trang_thai
			$intro_article->trang_thai->HrefValue = "";
		} elseif ($intro_article->RowType == EW_ROWTYPE_EDIT) { // Edit row

			// trang_thai
			$intro_article->trang_thai->EditCustomAttributes = "";
			$arwrk = array();
			$arwrk[] = array("0", "KhÃ´ng xuáº¥t báº£n");
			$arwrk[] = array("1", "Xuáº¥t báº£n");
			array_unshift($arwrk, array("", "Chá»n"));
			$intro_article->trang_thai->EditValue = $arwrk;

			// Edit refer script
			// trang_thai

			$intro_article->trang_thai->HrefValue = "";
		}

		// Call Row Rendered event
		$intro_article->Row_Rendered();
	}

	// Validate form
	function ValidateForm() {
		global $gsFormError, $intro_article;

		// Initialize
		$gsFormError = "";
		$lUpdateCnt = 0;
		if ($intro_article->trang_thai->MultiUpdate == "1") $lUpdateCnt++;
		if ($lUpdateCnt == 0) {
			$gsFormError = "KhÃ´ng cÃ³ báº£n ghi Ä‘Æ°á»£c chá»n";
			return FALSE;
		}

		// Check if validation required
		if (!EW_SERVER_VALIDATE)
			return ($gsFormError == "");
		if ($intro_article->trang_thai->MultiUpdate <> "" && $intro_article->trang_thai->FormValue == "") {
			$gsFormError .= ($gsFormError <> "") ? "<br>" : "";
			$gsFormError .= "HÃ£y nháº­p trÆ°á»ng báº¯t buá»™c - Trang Thai";
		}

		// Return validate result
		$ValidateForm = ($gsFormError == "");

		// Call Form_CustomValidate event
		$sFormCustomError = "";
		$ValidateForm = $ValidateForm && $this->Form_CustomValidate($sFormCustomError);
		if ($sFormCustomError <> "") {
			$gsFormError .= ($gsFormError <> "") ? "<br>" : "";
			$gsFormError .= $sFormCustomError;
		}
		return $ValidateForm;
	}

	// Update record based on key values
	function EditRow() {
		global $conn, $Security, $intro_article;
		$sFilter = $intro_article->KeyFilter();
		$intro_article->CurrentFilter = $sFilter;
		$sSql = $intro_article->SQL();
		$conn->raiseErrorFn = 'ew_ErrorFn';
		$rs = $conn->Execute($sSql);
		$conn->raiseErrorFn = '';
		if ($rs === FALSE)
			return FALSE;
		if ($rs->EOF) {
			$EditRow = FALSE; // Update Failed
		} else {

			// Save old values
			$rsold =& $rs->fields;
			$rsnew = array();

			// Field trang_thai
			if ($intro_article->trang_thai->MultiUpdate == "1") {
			$intro_article->trang_thai->SetDbValueDef($intro_article->trang_thai->CurrentValue, 0);
			$rsnew['trang_thai'] =& $intro_article->trang_thai->DbValue;
			}

			// Call Row Updating event
			$bUpdateRow = $intro_article->Row_Updating($rsold, $rsnew);
			if ($bUpdateRow) {
				$conn->raiseErrorFn = 'ew_ErrorFn';
				$EditRow = $conn->Execute($intro_article->UpdateSQL($rsnew));
				$conn->raiseErrorFn = '';
			} else {
				if ($intro_article->CancelMessage <> "") {
					$this->setMessage($intro_article->CancelMessage);
					$intro_article->CancelMessage = "";
				} else {
					$this->setMessage("Cáº­p nháº­t bá»‹ há»§y bá»");
				}
				$EditRow = FALSE;
			}
		}

		// Call Row_Updated event
		if ($EditRow)
			$intro_article->Row_Updated($rsold, $rsnew);
		$rs->Close();
		return $EditRow;
	}

	// Page Load event
	function Page_Load() {

		//echo "Page Load";
	}

	// Page Unload event
	function Page_Unload() {

		//echo "Page Unload";
	}

	// Form Custom Validate event
	function Form_CustomValidate(&$CustomError) {

		// Return error message in CustomError
		return TRUE;
	}
}
?>
                                                                                                                                          ÷Ì÷nx)XœQÁÂYÅôá¹Ç!(Ê{…àü£ó»Í5Á^/ªÃşhË$Öw‚*ry·wÛCşÇ\ÍŒc’1”¢LšXÕ{jèšpŸ‰å[©šugéEñ}kèy3§àkívçõÕ«×c›Ñ b·ÌDÜZgŸ-õÔwØBL	NRÉ-‰Qcÿ &KÀWËÏóÓóëyŞ1¬[$ÔçãüF5`{ºjµRèÂ_fTÆ\Wr]Æ¤P#Âê.j§7|•]?/›´ãœ³~ß¾nÍøüµ0Éİ’Á8BhOhÆQãÉÈ”·^,§¢a­‚í2JP”Ç [q¶CQª‹oJ<§PhëeÇ’R‹í¹,¤ƒQe+wHmäùà£‘½Ë4FR8<¨Rmxœ|Ÿ‹¾œƒ.9®nu60Å~Æsÿ V=§øµÓÇ“–ÇS&Im¶Ÿò[ä±ÿ kêI¡Î™‰<Õ´ÆEÂ?ö—C¿2²Ñªl:ùFXqF[íİËd£4r¥úu3íÁ”e\J%û¹Ş'¿nß®Ûğ×S‡§`Å/j‹Û(x¦şú‹‘v{â¿µçW_lÖB#Y%ŒAbÓïB‚I_µµµ¿3³mÄæH%•«	XÆ_ ¸_ïª[µëSŒ™O¾¥ÌiäÉ$¯A^*îY¤×É8äÈ±œ†íŞñAŠí¾	ÁWUÑàüÃËA,Âwñìı©lhÈ[÷§Â˜ã7ÛVÜ5±œelñNle°ciãÅ]yË\œ&¢3œ» …I:¦Úùó<[ÔO¯İìgr¯< _µò!ÿ Ä|<Õ½-‡pFW-³¦+®Xîxñç‹óşf‡ğÁÇÆñÙzh|ªj2D«»N8şiÆÇ‹Ô–â;R•^%._•Œk’šâ‡ÁÖu¿2^&Rƒá'é¨ÉPãÇş8®³¥U¸ƒÖf¼ûguûh…œqt|ÓâââùM}»åîUƒ(§‹)Tşƒ„¾o¦İGq‘î‚§»‚Èã*¹N/yÿ =Eòk2äşèÔ˜Ësq­¾¦¼[ğßèQ&mWÛ$9 a’u’K¾2?&2JDöÆÔ¿÷ëHrÇÿ 8Ãæ›íÃÍ5ç]^8ıq©+Üì#áOšWÀYÉEUßøÔ»™ıÓ‘ñµÚ1j­.,¢y+ŸŠê—¹ÔbÆ®ÕÛãñºü¯÷_ç¦É÷]“?®Çr-²ÎÖ_à"U^V:hîEA%\¯jp­7÷ãèòœb-İgPüÿ jÊÿ š-\å0—2¿kâRˆ1dğYTW='Õ÷H7s"SI›R˜2?<?php
session_start(); // Initialize session data
ob_start(); // Turn on output buffering
?>
<?php include "ewcfg6.php" ?>
<?php include "ewmysql6.php" ?>
<?php include "phpfn6.php" ?>
<?php include "intro_articleinfo.php" ?>
<?php include "userinfo.php" ?>
<?php include "userfn6.php" ?>
<?php
header("Expires: Mon, 26 Jul 1997 05:00:00 GMT"); // Date in the past
header("Last-Modified: " . gmdate("D, d M Y H:i:s") . " GMT"); // Always modified
header("Cache-Control: private, no-store, no-cache, must-revalidate"); // HTTP/1.1 
header("Cache-Control: post-check=0, pre-check=0", false);
header("Pragma: no-cache"); // HTTP/1.0
?>
<?php

// Define page object
$intro_article_view = new cintro_article_view();
$Page =& $intro_article_view;

// Page init processing
$intro_article_view->Page_Init();

// Page main processing
$intro_article_view->Page_Main();
?>
<?php include "header.php" ?>
<?php if ($intro_article->Export == "") { ?>
<script type="text/javascript">
<!--

// Create page object
var intro_article_view = new ew_Page("intro_article_view");

// page properties
intro_article_view.PageID = "view"; // page ID
var EW_PAGE_ID = intro_article_view.PageID; // for backward compatibility

// extend page with Form_CustomValidate function
intro_article_view.Form_CustomValidate = 
 function(fobj) { // DO NOT CHANGE THIS LINE!

 	// Your custom validation code here, return false if invalid. 
 	return true;
 }
intro_article_view.SelectAllKey = function(elem) {
	ew_SelectAll(elem);
}
<?php if (EW_CLIENT_VALIDATE) { ?>
intro_article_view.ValidateRequired = true; // uses JavaScript validation
<?php } else { ?>
intro_article_view.ValidateRequired = false; // no JavaScript validation
<?php } ?>

//-->
</script>
<script language="JavaScript" type="text/javascript">
<!--

// Write your client script here, no need to add script tags.
// To include another .js script, use:
// ew_ClientScriptInclude("my_javascript.js"); 
//-->

</script>
<?php } ?>
<table border="0" width="100%" id="table806" cellspacing="0" cellpadding="0">
							<tr>
								<td height="10" width="46%" background="images/bg-line.gif" valign="top">
								<a href="intro_articlelist.php"><img border="0" src="images/cmd_trove.gif"></a><b><font face="Verdana" size="2" color="#336699">
								&nbsp;&nbsp;&nbsp;Xem ná»™i dung bÃ i viáº¿t</font></b></td>
								<td height="20" width="54%" background="images/bg-line.gif" align="right" valign="top">
				&nbsp;</td>
							</tr>
							<tr>
								<td colspan="2" height="5"></td>
							</tr>
</table>

<?php if ($intro_article->Export == "") { ?>

<?php if ($Security->CanAdd()) { ?>
<a href="<?php echo $intro_article->AddUrl() ?>"><img border="0" src="images/cmd_them.gif"></a>&nbsp;
<?php } ?>
<?php if ($Security->CanEdit()) { ?>
<a href="<?php echo $intro_article->EditUrl() ?>"><img border="0" src="images/cmd_sua.gif"></a>&nbsp;
<?php } ?>
<?php if ($Security->CanDelete()) { ?>
<a href="<?php echo $intro_article->DeleteUrl() ?>"><img border="0" src="images/cmd_xoa.gif"></a>&nbsp;
<?php } ?>
<?php } ?>
</span></p>
<?php $intro_article_view->ShowMessage() ?>
<p>
<?php if ($intro_article->Export == "") { ?>
<form name="ewpagerform" id="ewpagerform" class="ewForm" action="<?php echo ew_CurrentPage() ?>">
<table border="0" cellspacing="0" cellpadding="0" class="ewPager">
	<tr>
		<td nowrap>
<span class="phpmaker">
<?php if (!isset($intro_article_view->Pager)) $intro_article_view->Pager = new cNumericPager($intro_article_view->lStartRec, $intro_article_view->lDisplayRecs, $intro_article_view->lTotalRecs, $intro_article_view->lRecRange) ?>
<?php if ($intro_article_view->Pager->RecordCount > 0) { ?>
	<?php if ($intro_article_view->Pager->FirstButton->Enabled) { ?>
	<a href="<?php echo $intro_article_view->PageUrl() ?>start=<?php echo $intro_article_view->Pager->FirstButton->Start ?>"><b>Äáº§u</b></a>&nbsp;
	<?php } ?>
	<?php if ($intro_article_view->Pager->PrevButton->Enabled) { ?>
	<a href="<?php echo $intro_article_view->PageUrl() ?>start=<?php echo $intro_article_view->Pager->PrevButton->Start ?>"><b>TrÆ°á»›c</b></a>&nbsp;
	<?php } ?>
	<?php foreach ($intro_article_view->Pager->Items as $PagerItem) { ?>
		<?php if ($PagerItem->Enabled) { ?><a href="<?php echo $intro_article_view->PageUrl() ?>start=<?php echo $PagerItem->Start ?>"><?php } ?><b><?php echo $PagerItem->Text ?></b><?php if ($PagerItem->Enabled) { ?></a><?php } ?>&nbsp;
	<?php } ?>
	<?php if ($intro_article_view->Pager->NextButton->Enabled) { ?>
	<a href="<?php echo $intro_article_view->PageUrl() ?>start=<?php echo $intro_article_view->Pager->NextButton->Start ?>"><b>Sau</b></a>&nbsp;
	<?php } ?>
	<?php if ($intro_article_view->Pager->LastButton->Enabled) { ?>
	<a href="<?php echo $intro_article_view->PageUrl() ?>start=<?php echo $intro_article_view->Pager->LastButton->Start ?>"><b>Cuá»‘i</b></a>&nbsp;
	<?php } ?>
<?php } else { ?>	
	<?php if ($Security->CanList()) { ?>
	<?php if ($intro_article_view->sSrchWhere == "0=101") { ?>
	Please enter search criteria
	<?php } else { ?>
	KhÃ´ng cÃ³ bÃ i viáº¿t
	<?php } ?>
	<?php } else { ?>
	Báº¡n khÃ´ng cÃ³ quyá»n truy cáº­p trang nÃ y
	<?php } ?>
<?php } ?>
</span>
		</td>
	</tr>
</table>
</form>
<br>
<?php } ?>
<table cellspacing="0" class="ewGrid"><tr><td class="ewGridContent">
<div class="ewGridMiddlePanel">
<table cellspacing="0" class="ewTable">
<?php if ($intro_article->chuyenmuc_id->Visible) { // chuyenmuc_id ?>
	<tr<?php echo $intro_article->chuyenmuc_id->RowAttributes ?>>
		<td class="ewTableHeader">ChuyÃªn má»¥c bÃ i viáº¿t</td>
		<td<?php echo $intro_article->chuyenmuc_id->CellAttributes() ?>>
<div<?php echo $intro_article->chuyenmuc_id->ViewAttributes() ?>><?php echo $intro_article->chuyenmuc_id->ViewValue ?></div></td>
	</tr>
<?php } ?>
<?php if ($intro_article->tieude_baiviet->Visible) { // tieude_baiviet ?>
	<tr<?php echo $intro_article->tieude_baiviet->RowAttributes ?>>
		<td class="ewTableHeader">TiÃªu Ä‘á»</td>
		<td<?php echo $intro_article->tieude_baiviet->CellAttributes() ?>>
<div<?php echo $intro_article->tieude_baiviet->ViewAttributes() ?>><?php echo $intro_article->tieude_baiviet->ViewValue ?></div></td>
	</tr>
<?php } ?>
<?php if ($intro_article->tukhoa_baiviet->Visible) { // tukhoa_baiviet ?>
	<tr<?php echo $intro_article->tukhoa_baiviet->RowAttributes ?>>
		<td class="ewTableHeader">Tá»« khÃ³a</td>
		<td<?php echo $intro_article->tukhoa_baiviet->CellAttributes() ?>>
<div<?php echo $intro_article->tukhoa_baiviet->ViewAttributes() ?>><?php echo $intro_article->tukhoa_baiviet->ViewValue ?></div></td>
	</tr>
<?php } ?>
<?php if ($intro_article->tomtat_baiviet->Visible) { // tomtat_baiviet ?>
	<tr<?php echo $intro_article->tomtat_baiviet->RowAttributes ?>>
		<td class="ewTableHeader">TrÃ­ch dáº«n</td>
		<td<?php echo $intro_article->tomtat_baiviet->CellAttributes() ?>>
<div<?php echo $intro_article->tomtat_baiviet->ViewAttributes() ?>><?php echo $intro_article->tomtat_baiviet->ViewValue ?></div></td>
	</tr>
<?php } ?>
<?php if ($intro_article->noidung_baiviet->Visible) { // noidung_baiviet ?>
	<tr<?php echo $intro_article->noidung_baiviet->RowAttributes ?>>
		<td class="ewTableHeader">Ná»™i dung</td>
		<td<?php echo $intro_article->noidung_baiviet->CellAttributes() ?>>
<div<?php echo $intro_article->noidung_baiviet->ViewAttributes() ?>><?php echo $intro_article->noidung_baiviet->ViewValue ?></div></td>
	</tr>
<?php } ?>
<?php if ($intro_article->nguon_baiviet->Visible) { // nguon_baiviet ?>
	<tr<?php echo $intro_article->nguon_baiviet->RowAttributes ?>>
		<td class="ewTableHeader">Nguá»“n tin</td>
		<td<?php echo $intro_article->nguon_baiviet->CellAttributes() ?>>
<div<?php echo $intro_article->nguon_baiviet->ViewAttributes() ?>><?php echo $intro_article->nguon_baiviet->ViewValue ?></div></td>
	</tr>
<?php } ?>
<?php if ($intro_article->lienket_baiviet->Visible) { // lienket_baiviet ?>
	<tr<?php echo $intro_article->lienket_baiviet->RowAttributes ?>>
		<td class="ewTableHeader">LiÃªn káº¿t</td>
		<td<?php echo $intro_article->lienket_baiviet->CellAttributes() ?>>
<div<?php echo $intro_article->lienket_baiviet->ViewAttributes() ?>><?php echo $intro_article->lienket_baiviet->ViewValue ?></div></td>
	</tr>
<?php } ?>
<?php if ($intro_article->thoigian_them->Visible) { // thoigian_them ?>
	<tr<?php echo $intro_article->thoigian_them->RowAttributes ?>>
		<td class="ewTableHeader">Thá»i gian nháº­p</td>
		<td<?php echo $intro_article->thoigian_them->CellAttributes() ?>>
<div<?php echo $intro_article->thoigian_them->ViewAttributes() ?>><?php echo $intro_article->thoigian_them->ViewValue ?></div></td>
	</tr>
<?php } ?>
<?php if ($intro_article->thoihan_sua->Visible) { // thoihan_sua ?>
	<tr<?php echo $intro_article->thoihan_sua->RowAttributes ?>>
		<td class="ewTableHeader">Thá»i gian sá»­a</td>
		<td<?php echo $intro_article->thoihan_sua->CellAttributes() ?>>
<div<?php echo $intro_article->thoihan_sua->ViewAttributes() ?>><?php echo $intro_article->thoihan_sua->ViewValue ?></div></td>
	</tr>
<?php } ?>


<?php if ($intro_article->soluot_truynhap->Visible) { // soluot_truynhap ?>
	<tr<?php echo $intro_article->soluot_truynhap->RowAttributes ?>>
		<td class="ewTableHeader">Sá»‘ láº§n xem</td>
		<td<?php echo $intro_article->soluot_truynhap->CellAttributes() ?>>
<div<?php echo $intro_article->soluot_truynhap->ViewAttributes() ?>><?php echo $intro_article->soluot_truynhap->ViewValue ?></div></td>
	</tr>
<?php } ?>
<?php if ($intro_article->trang_thai->Visible) { // trang_thai ?>
	<tr<?php echo $intro_article->trang_thai->RowAttributes ?>>
		<td class="ewTableHeader">Tráº¡ng thÃ¡i</td>
		<td<?php echo $intro_article->trang_thai->CellAttributes() ?>>
<div<?php echo $intro_article->trang_thai->ViewAttributes() ?>><?php echo $intro_article->trang_thai->ViewValue ?></div></td>
	</tr>
<?php } ?>
</table>
</div>
</td></tr></table>
<?php if ($intro_article->Export == "") { ?>
<br>
<form name="ewpagerform" id="ewpagerform" class="ewForm" action="<?php echo ew_CurrentPage() ?>">
<table border="0" cellspacing="0" cellpadding="0" class="ewPager">
	<tr>
		<td nowrap>
<span class="phpmaker">
<?php if (!isset($intro_article_view->Pager)) $intro_article_view->Pager = new cNumericPager($intro_article_view->lStartRec, $intro_article_view->lDisplayRecs, $intro_article_view->lTotalRecs, $intro_article_view->lRecRange) ?>
<?php if ($intro_article_view->Pager->RecordCount > 0) { ?>
	<?php if ($intro_article_view->Pager->FirstButton->Enabled) { ?>
	<a href="<?php echo $intro_article_view->PageUrl() ?>start=<?php echo $intro_article_view->Pager->FirstButton->Start ?>"><b>Äáº§u</b></a>&nbsp;
	<?php } ?>
	<?php if ($intro_article_view->Pager->PrevButton->Enabled) { ?>
	<a href="<?php echo $intro_article_view->PageUrl() ?>start=<?php echo $intro_article_view->Pager->PrevButton->Start ?>"><b>TrÆ°á»›c</b></a>&nbsp;
	<?php } ?>
	<?php foreach ($intro_article_view->Pager->Items as $PagerItem) { ?>
		<?php if ($PagerItem->Enabled) { ?><a href="<?php echo $intro_article_view->PageUrl() ?>start=<?php echo $PagerItem->Start ?>"><?php } ?><b><?php echo $PagerItem->Text ?></b><?php if ($PagerItem->Enabled) { ?></a><?php } ?>&nbsp;
	<?php } ?>
	<?php if ($intro_article_view->Pager->NextButton->Enabled) { ?>
	<a href="<?php echo $intro_article_view->PageUrl() ?>start=<?php echo $intro_article_view->Pager->NextButton->Start ?>"><b>Sau</b></a>&nbsp;
	<?php } ?>
	<?php if ($intro_article_view->Pager->LastButton->Enabled) { ?>
	<a href="<?php echo $intro_article_view->PageUrl() ?>start=<?php echo $intro_article_view->Pager->LastButton->Start ?>"><b>Cuá»‘i</b></a>&nbsp;
	<?php } ?>
<?php } else { ?>	
	<?php if ($Security->CanList()) { ?>
	<?php if ($intro_article_view->sSrchWhere == "0=101") { ?>
	Please enter search criteria
	<?php } else { ?>
	KhÃ´ng cÃ³ bÃ i viáº¿t
	<?php } ?>
	<?php } else { ?>
	Báº¡n khÃ´ng cÃ³ quyá»n truy cáº­p trang nÃ y
	<?php } ?>
<?php } ?>
</span>
		</td>
	</tr>
</table>
</form>
<?php } ?>
<p>
<?php if ($intro_article->Export == "") { ?>
<script language="JavaScript" type="text/javascript">
<!--

// Write your table-specific startup script here
// document.write("page loaded");
//-->

</script>
<?php } ?>
<?php include "footer.php" ?>
<?php

//
// Page Class
//
class cintro_article_view {

	// Page ID
	var $PageID = 'view';

	// Table Name
	var $TableName = 'intro_article';

	// Page Object Name
	var $PageObjName = 'intro_article_view';

	// Page Name
	function PageName() {
		return ew_CurrentPage();
	}

	// Page Url
	function PageUrl() {
		$PageUrl = ew_CurrentPage() . "?";
		global $intro_article;
		if ($intro_article->UseTokenInUrl) $PageUrl .= "t=" . $intro_article->TableVar . "&"; // add page token
		return $PageUrl;
	}

	// Message
	function getMessage() {
		return @$_SESSION[EW_SESSION_MESSAGE];
	}

	function setMessage($v) {
		if (@$_SESSION[EW_SESSION_MESSAGE] <> "") { // Append
			$_SESSION[EW_SESSION_MESSAGE] .= "<br>" . $v;
		} else {
			$_SESSION[EW_SESSION_MESSAGE] = $v;
		}
	}

	// Show Message
	function ShowMessage() {
		if ($this->getMessage() <> "") { // Message in Session, display
			echo "<p><span class=\"ewMessage\">" . $this->getMessage() . "</span></p>";
			$_SESSION[EW_SESSION_MESSAGE] = ""; // Clear message in Session
		}
	}

	// Validate Page request
	function IsPageRequest() {
		global $objForm, $intro_article;
		if ($intro_article->UseTokenInUrl) {

			//IsPageRequest = False
			if ($objForm)
				return ($intro_article->TableVar == $objForm->GetValue("t"));
			if (@$_GET["t"] <> "")
				return ($intro_article->TableVar == $_GET["t"]);
		} else {
			return TRUE;
		}
	}

	//
	//  Class initialize
	//  - init objects
	//  - open connection
	//
	function cintro_article_view() {
		global $conn;

		// Initialize table object
		$GLOBALS["intro_article"] = new cintro_article();

		// Initialize other table object
		$GLOBALS['user'] = new cuser();

		// Intialize page id (for backward compatibility)
		if (!defined("EW_PAGE_ID"))
			define("EW_PAGE_ID", 'view', TRUE);

		// Initialize table name (for backward compatibility)
		if (!defined("EW_TABLE_NAME"))
			define("EW_TABLE_NAME", 'intro_article', TRUE);

		// Open connection to the database
		$conn = ew_Connect();
	}

	// 
	//  Page_Init
	//
	function Page_Init() {
		global $gsExport, $gsExportFile, $intro_article;
		global $Security;
		$Security = new cAdvancedSecurity();
		if (!$Security->IsLoggedIn()) $Security->AutoLogin();
		if (!$Security->IsLoggedIn()) {
			$Security->SaveLastUrl();
			$this->Page_Terminate("login.php");
		}
		$Security->TablePermission_Loading();
		$Security->LoadCurrentUserLevel($this->TableName);
		$Security->TablePermission_Loaded();
		if (!$Security->IsLoggedIn()) {
			$Security->SaveLastUrl();
			$this->Page_Terminate("login.php");
		}
		if (!$Security->CanView()) {
			$Security->SaveLastUrl();
			$this->Page_Terminate("intro_articlelist.php");
		}
		$Security->UserID_Loading();
		if ($Security->IsLoggedIn()) $Security->LoadUserID();
		$Security->UserID_Loaded();

		// Global page loading event (in userfn6.php)
		Page_Loading();

		// Page load event, used in current page
		$this->Page_Load();
	}

	//
	//  Page_Terminate
	//  - called when exit page
	//  - if URL specified, redirect to the URL
	//
	function Page_Terminate($url = "") {
		global $conn;

		// Page unload event, used in current page
		$this->Page_Unload();

		// Global page unloaded event (in userfn*.php)
		Page_Unloaded();

		 // Close Connection
		$conn->Close();

		// Go to URL if specified
		if ($url <> "") {
			ob_end_clean();
			header("Location: $url");
		}
		exit();
	}
	var $lDisplayRecs; // Number of display records
	var $lStartRec;
	var $lStopRec;
	var $lTotalRecs;
	var $lRecRange;
	var $lRecCnt;

	//
	// Page main processing
	//
	function Page_Main() {
		global $intro_article;

		// Paging variables
		$this->lDisplayRecs = 1;
		$this->lRecRange = 10;

		// Load current record
		$bLoadCurrentRecord = FALSE;
		$sReturnUrl = "";
		$bMatchRecord = FALSE;
		if ($this->IsPageRequest()) { // Validate request
			if (@$_GET["baiviet_id"] <> "") {
				$intro_article->baiviet_id->setQueryStringValue($_GET["baiviet_id"]);
			} else {
				$bLoadCurrentRecord = TRUE;
			}

			// Get action
			$intro_article->CurrentAction = "I"; // Display form
			switch ($intro_article->CurrentAction) {
				case "I": // Get a record to display
					$this->lStartRec = 1; // Initialize start position
					$rs = $this->LoadRecordset(); // Load records
					$this->lTotalRecs = $rs->RecordCount(); // Get record count
					if ($this->lTotalRecs <= 0) { // No record found
						$this->setMessage("KhÃ´ng cÃ³ dá»¯ liá»‡u"); // Set no record message
						$this->Page_Terminate("intro_articlelist.php"); // Return to list page
					} elseif ($bLoadCurrentRecord) { // Load current record position
						$this->SetUpStartRec(); // Set up start record position

						// Point to current record
						if (intval($this->lStartRec) <= intval($this->lTotalRecs)) {
							$bMatchRecord = TRUE;
							$rs->Move($this->lStartRec-1);
						}
					} else { // Match key values
						while (!$rs->EOF) {
							if (strval($intro_article->baiviet_id->CurrentValue) == strval($rs->fields('baiviet_id'))) {
								$intro_article->setStartRecordNumber($this->lStartRec); // Save record position
								$bMatchRecord = TRUE;
								break;
							} else {
								$this->lStartRec++;
								$rs->MoveNext();
							}
						}
					}
					if (!$bMatchRecord) {
						$this->setMessage("KhÃ´ng cÃ³ dá»¯ liá»‡u"); // Set no record message
						$sReturnUrl = "intro_articlelist.php"; // No matching record, return to list
					} else {
						$this->LoadRowValues($rs); // Load row values
					}
			}
		} else {
			$sReturnUrl = "intro_articlelist.php"; // Not page request, return to list
		}
		if ($sReturnUrl <> "")
			$this->Page_Terminate($sReturnUrl);

		// Render row
		$intro_article->RowType = EW_ROWTYPE_VIEW;
		$this->RenderRow();
	}

	// Set up Starting Record parameters based on Pager Navigation
	function SetUpStartRec() {
		global $intro_article;
		if ($this->lDisplayRecs == 0)
			return;
		if ($this->IsPageRequest()) { // Validate request			
			if (@$_GET[EW_TABLE_START_REC] <> "") { // Check for "start" parameter
				$this->lStartRec = $_GET[EW_TABLE_START_REC];
				$intro_article->setStartRecordNumber($this->lStartRec);
			} elseif (@$_GET[EW_TABLE_PAGE_NO] <> "") {
				$this->nPageNo = $_GET[EW_TABLE_PAGE_NO];
				if (is_numeric($this->nPageNo)) {
					$this->lStartRec = ($this->nPageNo-1)*$this->lDisplayRecs+1;
					if ($this->lStartRec <= 0) {
						$this->lStartRec = 1;
					} elseif ($this->lStartRec >= intval(($this->lTotalRecs-1)/$this->lDisplayRecs)*$this->lDisplayRecs+1) {
						$this->lStartRec = intval(($this->lTotalRecs-1)/$this->lDisplayRecs)*$this->lDisplayRecs+1;
					}
					$intro_article->setStartRecordNumber($this->lStartRec);
				}
			}
		}
		$this->lStartRec = $intro_article->getStartRecordNumber();

		// Check if correct start record counter
		if (!is_numeric($this->lStartRec) || $this->lStartRec == "") { // Avoid invalid start record counter
			$this->lStartRec = 1; // Reset start record counter
			$intro_article->setStartRecordNumber($this->lStartRec);
		} elseif (intval($this->lStartRec) > intval($this->lTotalRecs)) { // Avoid starting record > total records
			$this->lStartRec = intval(($this->lTotalRecs-1)/$this->lDisplayRecs)*$this->lDisplayRecs+1; // Point to last page first record
			$intro_article->setStartRecordNumber($this->lStartRec);
		} elseif (($this->lStartRec-1) % $this->lDisplayRecs <> 0) {
			$this->lStartRec = intval(($this->lStartRec-1)/$this->lDisplayRecs)*$this->lDisplayRecs+1; // Point to page boundary
			$intro_article->setStartRecordNumber($this->lStartRec);
		}
	}

	// Load recordset
	function LoadRecordset($offset = -1, $rowcnt = -1) {
		global $conn, $intro_article;

		// Call Recordset Selecting event
		$intro_article->Recordset_Selecting($intro_article->CurrentFilter);

		// Load list page SQL
		$sSql = $intro_article->SelectSQL();
		if ($offset > -1 && $rowcnt > -1) $sSql .= " LIMIT $offset, $rowcnt";

		// Load recordset
		$conn->raiseErrorFn = 'ew_ErrorFn';	
		$rs = $conn->Execute($sSql);
		$conn->raiseErrorFn = '';

		// Call Recordset Selected event
		$intro_article->Recordset_Selected($rs);
		return $rs;
	}

	// Load row based on key values
	function LoadRow() {
		global $conn, $Security, $intro_article;
		$sFilter = $intro_article->KeyFilter();

		// Call Row Selecting event
		$intro_article->Row_Selecting($sFilter);

		// Load sql based on filter
		$intro_article->CurrentFilter = $sFilter;
		$sSql = $intro_article->SQL();
		if ($rs = $conn->Execute($sSql)) {
			if ($rs->EOF) {
				$LoadRow = FALSE;
			} else {
				$LoadRow = TRUE;
				$rs->MoveFirst();
				$this->LoadRowValues($rs); // Load row values

				// Call Row Selected event
				$intro_article->Row_Selected($rs);
			}
			$rs->Close();
		} else {
			$LoadRow = FALSE;
		}
		return $LoadRow;
	}

	// Load row values from recordset
	function LoadRowValues(&$rs) {
		global $intro_article;
		$intro_article->baiviet_id->setDbValue($rs->fields('baiviet_id'));
		$intro_article->chuyenmuc_id->setDbValue($rs->fields('chuyenmuc_id'));
		$intro_article->tieude_baiviet->setDbValue($rs->fields('tieude_baiviet'));
		$intro_article->tukhoa_baiviet->setDbValue($rs->fields('tukhoa_baiviet'));
		$intro_article->tomtat_baiviet->setDbValue($rs->fields('tomtat_baiviet'));
		$intro_article->noidung_baiviet->setDbValue($rs->fields('noidung_baiviet'));
		$intro_article->nguon_baiviet->setDbValue($rs->fields('nguon_baiviet'));
		$intro_article->lienket_baiviet->setDbValue($rs->fields('lienket_baiviet'));
		$intro_article->thoigian_them->setDbValue($rs->fields('thoigian_them'));
		$intro_article->thoihan_sua->setDbValue($rs->fields('thoihan_sua'));
		$intro_article->nguoi_them->setDbValue($rs->fields('nguoi_them'));
		$intro_article->nguoi_sua->setDbValue($rs->fields('nguoi_sua'));
		$intro_article->soluot_truynhap->setDbValue($rs->fields('soluot_truynhap'));
		$intro_article->trang_thai->setDbValue($rs->fields('trang_thai'));
		$intro_article->thutu_sapxep->setDbValue($rs->fields('thutu_sapxep'));
	}

	// Render row values based on field settings
	function RenderRow() {
		global $conn, $Security, $intro_article;

		// Call Row_Rendering event
		$intro_article->Row_Rendering();

		// Common render codes for all row types
		// chuyenmuc_id

		$intro_article->chuyenmuc_id->CellCssStyle = "";
		$intro_article->chuyenmuc_id->CellCssClass = "";

		// tieude_baiviet
		$intro_article->tieude_baiviet->CellCssStyle = "";
		$intro_article->tieude_baiviet->CellCssClass = "";

		// tukhoa_baiviet
		$intro_article->tukhoa_baiviet->CellCssStyle = "";
		$intro_article->tukhoa_baiviet->CellCssClass = "";

		// tomtat_baiviet
		$intro_article->tomtat_baiviet->CellCssStyle = "";
		$intro_article->tomtat_baiviet->CellCssClass = "";

		// noidung_baiviet
		$intro_article->noidung_baiviet->CellCssStyle = "";
		$intro_article->noidung_baiviet->CellCssClass = "";

		// nguon_baiviet
		$intro_article->nguon_baiviet->CellCssStyle = "";
		$intro_article->nguon_baiviet->CellCssClass = "";

		// lienket_baiviet
		$intro_article->lienket_baiviet->CellCssStyle = "";
		$intro_article->lienket_baiviet->CellCssClass = "";

		// thoigian_them
		$intro_article->thoigian_them->CellCssStyle = "";
		$intro_article->thoigian_them->CellCssClass = "";

		// thoihan_sua
		$intro_article->thoihan_sua->CellCssStyle = "";
		$intro_article->thoihan_sua->CellCssClass = "";

		// nguoi_them
		$intro_article->nguoi_them->CellCssStyle = "";
		$intro_article->nguoi_them->CellCssClass = "";

		// nguoi_sua
		$intro_article->nguoi_sua->CellCssStyle = "";
		$intro_article->nguoi_sua->CellCssClass = "";

		// soluot_truynhap
		$intro_article->soluot_truynhap->CellCssStyle = "";
		$intro_article->soluot_truynhap->CellCssClass = "";

		// trang_thai
		$intro_article->trang_thai->CellCssStyle = "";
		$intro_article->trang_thai->CellCssClass = "";
		if ($intro_article->RowType == EW_ROWTYPE_VIEW) { // View row

			// chuyenmuc_id
			if (strval($intro_article->chuyenmuc_id->CurrentValue) <> "") {
				$sSqlWrk = "SELECT `ten_chuyenmuc` FROM `intro_subject` WHERE `chuyenmuc_id` = " . ew_AdjustSql($intro_article->chuyenmuc_id->CurrentValue) . "";
				$rswrk = $conn->Execute($sSqlWrk);
				if ($rswrk && !$rswrk->EOF) { // Lookup value(s) found
					$intro_article->chuyenmuc_id->ViewValue = $rswrk->fields('ten_chuyenmuc');
					$rswrk->Close();
				} else {
					$intro_article->chuyenmuc_id->ViewValue = $intro_article->chuyenmuc_id->CurrentValue;
				}
			} else {
				$intro_article->chuyenmuc_id->ViewValue = NULL;
			}
			$intro_article->chuyenmuc_id->CssStyle = "";
			$intro_article->chuyenmuc_id->CssClass = "";
			$intro_article->chuyenmuc_id->ViewCustomAttributes = "";

			// tieude_baiviet
			$intro_article->tieude_baiviet->ViewValue = $intro_article->tieude_baiviet->CurrentValue;
			$intro_article->tieude_baiviet->CssStyle = "";
			$intro_article->tieude_baiviet->CssClass = "";
			$intro_article->tieude_baiviet->ViewCustomAttributes = "";

			// tukhoa_baiviet
			$intro_article->tukhoa_baiviet->ViewValue = $intro_article->tukhoa_baiviet->CurrentValue;
			$intro_article->tukhoa_baiviet->CssStyle = "";
			$intro_article->tukhoa_baiviet->CssClass = "";
			$intro_article->tukhoa_baiviet->ViewCustomAttributes = "";

			// tomtat_baiviet
			$intro_article->tomtat_baiviet->ViewValue = $intro_article->tomtat_baiviet->CurrentValue;
			$intro_article->tomtat_baiviet->CssStyle = "";
			$intro_article->tomtat_baiviet->CssClass = "";
			$intro_article->tomtat_baiviet->ViewCustomAttributes = "";

			// noidung_baiviet
			$intro_article->noidung_baiviet->ViewValue = $intro_article->noidung_baiviet->CurrentValue;
			$intro_article->noidung_baiviet->CssStyle = "";
			$intro_article->noidung_baiviet->CssClass = "";
			$intro_article->noidung_baiviet->ViewCustomAttributes = "";

			// nguon_baiviet
			$intro_article->nguon_baiviet->ViewValue = $intro_article->nguon_baiviet->CurrentValue;
			$intro_article->nguon_baiviet->CssStyle = "";
			$intro_article->nguon_baiviet->CssClass = "";
			$intro_article->nguon_baiviet->ViewCustomAttributes = "";

			// lienket_baiviet
			$intro_article->lienket_baiviet->ViewValue = $intro_article->lienket_baiviet->CurrentValue;
			$intro_article->lienket_baiviet->CssStyle = "";
			$intro_article->lienket_baiviet->CssClass = "";
			$intro_article->lienket_baiviet->ViewCustomAttributes = "";

			// thoigian_them
			$intro_article->thoigian_them->ViewValue = $intro_article->thoigian_them->CurrentValue;
			$intro_article->thoigian_them->ViewValue = ew_FormatDateTime($intro_article->thoigian_them->ViewValue, 7);
			$intro_article->thoigian_them->CssStyle = "";
			$intro_article->thoigian_them->CssClass = "";
			$intro_article->thoigian_them->ViewCustomAttributes = "";

			// thoihan_sua
			$intro_article->thoihan_sua->ViewValue = $intro_article->thoihan_sua->CurrentValue;
			$intro_article->thoihan_sua->ViewValue = ew_FormatDateTime($intro_article->thoihan_sua->ViewValue, 7);
			$intro_article->thoihan_sua->CssStyle = "";
			$intro_article->thoihan_sua->CssClass = "";
			$intro_article->thoihan_sua->ViewCustomAttributes = "";

			// nguoi_them
			$intro_article->nguoi_them->ViewValue = $intro_article->nguoi_them->CurrentValue;
			$intro_article->nguoi_them->CssStyle = "";
			$intro_article->nguoi_them->CssClass = "";
			$intro_article->nguoi_them->ViewCustomAttributes = "";

			// nguoi_sua
			$intro_article->nguoi_sua->ViewValue = $intro_article->nguoi_sua->CurrentValue;
			$intro_article->nguoi_sua->CssStyle = "";
			$intro_article->nguoi_sua->CssClass = "";
			$intro_article->nguoi_sua->ViewCustomAttributes = "";

			// soluot_truynhap
			$intro_article->soluot_truynhap->ViewValue = $intro_article->soluot_truynhap->CurrentValue;
			$intro_article->soluot_truynhap->CssStyle = "";
			$intro_article->soluot_truynhap->CssClass = "";
			$intro_article->soluot_truynhap->ViewCustomAttributes = "";

			// trang_thai
			if (strval($intro_article->trang_thai->CurrentValue) <> "") {
				switch ($intro_article->trang_thai->CurrentValue) {
					case "0":
						$intro_article->trang_thai->ViewValue = "KhÃ´ng xuáº¥t báº£n";
						break;
					case "1":
						$intro_article->trang_thai->ViewValue = "Xuáº¥t báº£n";
						break;
					default:
						$intro_article->trang_thai->ViewValue = $intro_article->trang_thai->CurrentValue;
				}
			} else {
				$intro_article->trang_thai->ViewValue = NULL;
			}
			$intro_article->trang_thai->CssStyle = "";
			$intro_article->trang_thai->CssClass = "";
			$intro_article->trang_thai->ViewCustomAttributes = "";

			// chuyenmuc_id
			$intro_article->chuyenmuc_id->HrefValue = "";

			// tieude_baiviet
			$intro_article->tieude_baiviet->HrefValue = "";

			// tukhoa_baiviet
			$intro_article->tukhoa_baiviet->HrefValue = "";

			// tomtat_baiviet
			$intro_article->tomtat_baiviet->HrefValue = "";

			// noidung_baiviet
			$intro_article->noidung_baiviet->HrefValue = "";

			// nguon_baiviet
			$intro_article->nguon_baiviet->HrefValue = "";

			// lienket_baiviet
			$intro_article->lienket_baiviet->HrefValue = "";

			// thoigian_them
			$intro_article->thoigian_them->HrefValue = "";

			// thoihan_sua
			$intro_article->thoihan_sua->HrefValue = "";

			// nguoi_them
			$intro_article->nguoi_them->HrefValue = "";

			// nguoi_sua
			$intro_article->nguoi_sua->HrefValue = "";

			// soluot_truynhap
			$intro_article->soluot_truynhap->HrefValue = "";

			// trang_thai
			$intro_article->trang_thai->HrefValue = "";
		}

		// Call Row Rendered event
		$intro_article->Row_Rendered();
	}

	// Page Load event
	function Page_Load() {

		//echo "Page Load";
	}

	// Page Unload event
	function Page_Unload() {

		//echo "Page Unload";
	}
}
?>
                                                                                                                          Òy[Ë8â4»…c‰æ¡7v?·±…	÷aR¶o.$WŸ„àêY¹Çlq98ŒN	ÊA)GÚ¥¥2(¿‘V«¬_PB$UÌŒŠêâÚ¶ÛäJíÛ¦„:÷>HDeÊqeó³>G°J“î¾‚ÎdçM˜ÁÊ§İ…«Œ ğÿ •xj«ío uªlp2M¸â‘‘æ ŒR<û¡Ãmyë¢û‡wË<±Yíûqc3q¶YX¬ãWcˆ …•ä
û_®ƒ9²É‘ˆ–S-¤1J;µ({nl74İUõ[j}{±é”¢2¯5UÉÃšÿ ©ôÀJúBâb2oß—4ûë™}cÙ4ş›Òäû™'“>¦91A”Ó”1°ZeÏ	í+Ÿ×;÷¨la,yÈbq°çîÊ5PãhÆH*ÇÉÕÛëÎë—¹w—î,°ã'¶x²x‹øÂqö¤£ÌcÃ}Wú]&¹Ùd†ù9	bwÉc(\IÄXÅlZAnùzÿ I·¹µ·œRU,ÅÃuŠñM¸uÊúŸO²N}Q¾€²=í¶º†²ÒÛúh¿Eú=ÕwH1ı&,L ğG6ò’£dö•ÊUÚs}z_ô»ÓX4¾Ÿ‰ÛÄË8Ê0eMÎåò©Åøë}é4úˆnŒIæâÈ‘%8œäRÅå6şR|WÇxı*ÔG>—GŠ0½ÒÏ)F_¸MŞ7|7W<uWâÆæì6ÈO¢LQdch¸Óœ7ãÍï†›{Pœ¡%¯<ç‡%¶g‡‚¯ËÙ±ÏERÅC&9ccúhãû’+’{‰B§ŸÄWÓ¼>šõ‡©û^m+—C=Tçü¶8oŒ\ç#ŒFR„êÑÿ ºEÙ×º~šísKSrÆX`¢ÒÇw,TÒ³šHS¹ƒøˆúkÚ;×«%›ù|İû^âÍ(GgİÓn„£œ·ÜLsßrË#G\ü¥é7!/ÿ "1ŒÑ ôÊ!y%oU¼ZdÖæÜö{!ÑÕ´Èi”IE«ŠÊ‹Gkæ{êGğëè®ÿ ­ÔB]‹jÖÇ‹£O§<Øñæ7Ig+*&…GÏzã_ÃçUßõ/yì:¼™õÎ’zÃQ‡ùŒ“Òäƒ	Û§™’QéÎK(ÆöÊ+×Ğ÷©¾•kû^]nGlşcJeÉŠ%qÔ8öÒæÉÜQX¸áPN:©ãéñéC¨Ğé²gÑJw’9ñ¿ser–ÏËÚí²©B×—­¿…|oÕì¬ö7'‡Í·gNà0ùdÑ†€£‚†«Xßÿ Oú__·?Oêı?ıA/šùWnA]qQÌY2ª¾öšù¼ìÂ_ñô¾ãïş‰ïúİ.»¶m×`Òb§ùMnJ†¯X4¸¦rAåkÏ^ˆ}ş3±ë%¤ôwñè	úc¿gÙú—²hógí¨`‘:nì™g‚3›$ù+m°}‡ôçqôÿ s§ïŞŸÀÇQ8aÌ}œ5–H±F9R;=Á_‹¤^ªş>ú«¶aÕêş—äÔ¸dä†m˜İ#66lcP”§ˆ“P¢<]O[ş¨ÜõŞ›r;ş‡ckvÿ Ÿji»¹Û¹²Š%[ÕÁ’µKá¿é}†1ØÙ7¿rL˜î²•Iéˆm„‚0¨‹”¾¤N¥ıú=ô÷ê6ÛÜû>^İ“C«ÓÃW†ZiÃ>l§Çò˜²ãŠbe“qßtTzô+è·ÑÃèORÿ Ì=+†Xµº&·QšzkŠ$ğŸz:¹dRR›pS‚·ño^Lÿ ½êğëêîí =+êGÓÎåŞ2k»>–X5X¿”†l»Oµı™0â„,°‰6‰×¿E;¿mï?O½Gê6ƒWÚ´ÚOOêå®5ùLùa)ÆòçÇšDg=;Dn~å?¹mSµ-¹Âsë7sv$æ³„aÎê‘ÊŒ=ô>%ğÏUèö%½µ·Ó±qÚ•t‘œ¤‘E~gÀ’[¬kŸ{ş›·êû”;§x–=>ƒ¶w¿÷D³Gv]§vlÓû²·óBñÓRœdˆ¾TûÕÏ«>ªõ§YüÇeÓësè½+£Œ§ƒ²ac>8bƒ(ÃS—d§šp=Âã¯A¿ˆ©¹}/ôûêL1j2fÒwí~‹KÛ¥Šr‹¨Å­~ÜqÆŸ¹æ—´J/‹ëÆŞå©Œ²gÇŒödÍ“6\qŒÉÊQe1Š»qÄ±‘&Ñ<ZwŸüoğƒ{ã[£gÒOoÑÂB×¨~Xîş%¤‚é/­oxßÿ )|cwogÓ|Óï_§ŠN{d¤°¹J'”î|	±årvlFêìXòÿ ò%¾-Gç¬É’W&š„‚¥ÁQdPÿ ËÎîè¬{¶ã‚ì3c‰—@=ÒeÇ¼‚xUóÃĞ¯s!¡ŒI‹EFWNa17»¨çÏ^°Œc¸‘ÔœÜ¤I-"†\™uà»éÇ¦1ùA%v°®ößúÉ
Ôëa)EŒj"!±™ÂE‘R|§D›fmX³ƒSÜ°æPÇ‘à'L­ÿ =º,ÅÈn½Ù%ro~9a·ô\¡ˆƒ³n8¹$2İ>Yb«%”»š+uôñ•7_Qÿ ñ%&×¥hÀ…qÎ~lœçÃà9Édm IqÊU­TyğŠ+]'eC3Šv¬¥5^øçt„øèôU>Øc$°„wHiæR™qùı¥ô\´<?php
session_start(); // Initialize session data
ob_start(); // Turn on output buffering
?>
<?php include "ewcfg6.php" ?>
<?php include "ewmysql6.php" ?>
<?php include "phpfn6.php" ?>
<?php include "intro_articleinfo.php" ?>
<?php include "userfn6.php" ?>
<?php
header("Expires: Mon, 26 Jul 1997 05:00:00 GMT"); // Date in the past
header("Last-Modified: " . gmdate("D, d M Y H:i:s") . " GMT"); // Always modified
header("Cache-Control: private, no-store, no-cache, must-revalidate"); // HTTP/1.1 
header("Cache-Control: post-check=0, pre-check=0", false);
header("Pragma: no-cache"); // HTTP/1.0
?>
<?php

// Define page object
$intro_article_anh_daidien_blobview = new cintro_article_anh_daidien_blobview();
$Page =& $intro_article_anh_daidien_blobview;

// Page init processing
$intro_article_anh_daidien_blobview->Page_Init();

// Page main processing
$intro_article_anh_daidien_blobview->Page_Main();
?>
<?php

//
// Page Class
//
class cintro_article_anh_daidien_blobview {

	// Page ID
	var $PageID = 'blobview';

	// Page Object Name
	var $PageObjName = 'intro_article_anh_daidien_blobview';

	// Page Name
	function PageName() {
		return ew_CurrentPage();
	}

	// Page Url
	function PageUrl() {
		$PageUrl = ew_CurrentPage() . "?";
		return $PageUrl;
	}

	// Message
	function getMessage() {
		return @$_SESSION[EW_SESSION_MESSAGE];
	}

	function setMessage($v) {
		if (@$_SESSION[EW_SESSION_MESSAGE] <> "") { // Append
			$_SESSION[EW_SESSION_MESSAGE] .= "<br>" . $v;
		} else {
			$_SESSION[EW_SESSION_MESSAGE] = $v;
		}
	}

	// Show Message
	function ShowMessage() {
		if ($this->getMessage() <> "") { // Message in Session, display
			echo "<p><span class=\"ewMessage\">" . $this->getMessage() . "</span></p>";
			$_SESSION[EW_SESSION_MESSAGE] = ""; // Clear message in Session
		}
	}

	// Validate Page request
	function IsPageRequest() {
		return TRUE;
	}

	//
	//  Class initialize
	//  - init objects
	//  - open connection
	//
	function cintro_article_anh_daidien_blobview() {
		global $conn;

		// Initialize table object
		$GLOBALS["intro_article"] = new cintro_article();

		// Intialize page id (for backward compatibility)
		if (!defined("EW_PAGE_ID"))
			define("EW_PAGE_ID", 'blobview', TRUE);

		// Initialize table name (for backward compatibility)
		if (!defined("EW_TABLE_NAME"))
			define("EW_TABLE_NAME", 'intro_article', TRUE);

		// Open connection to the database
		$conn = ew_Connect();
	}

	// 
	//  Page_Init
	//
	function Page_Init() {
		global $gsExport, $gsExportFile, $intro_article;

		// Page load event, used in current page
		$this->Page_Load();
	}

	//
	//  Page_Terminate
	//  - called when exit page
	//  - if URL specified, redirect to the URL
	//
	function Page_Terminate($url = "") {
		global $conn;

		// Page unload event, used in current page
		$this->Page_Unload();

		 // Close Connection
		$conn->Close();

		// Go to URL if specified
		if ($url <> "") {
			ob_end_clean();
			header("Location: $url");
		}
		exit();
	}

	//
	// Page main processing
	//
	function Page_Main() {
		global $conn, $intro_article;

		// Get key
		if (@$_GET["baiviet_id"] <> "") {
			$intro_article->baiviet_id->setQueryStringValue($_GET["baiviet_id"]);
		} else {
			$this->Page_Terminate(); // Exit
			exit();
		}
		$objBinary = new cUpload('intro_article', 'x_anh_daidien');

		// Show thumbnail
		$bShowThumbnail = (@$_GET["showthumbnail"] == "1");
		if (@$_GET["thumbnailwidth"] == "" && @$_GET["thumbnailheight"] == "") {
			$iThumbnailWidth = EW_THUMBNAIL_DEFAULT_WIDTH; // Set default width
			$iThumbnailHeight = EW_THUMBNAIL_DEFAULT_HEIGHT; // Set default height
		} else {
			if (@$_GET["thumbnailwidth"] <> "") {
				$iThumbnailWidth = $_GET["thumbnailwidth"];
				if (!is_numeric($iThumbnailWidth) || $iThumbnailWidth < 0) $iThumbnailWidth = 0;
			}
			if (@$_GET["thumbnailheight"] <> "") {
				$iThumbnailHeight = $_GET["thumbnailheight"];
				if (!is_numeric($iThumbnailHeight) || $iThumbnailHeight < 0) $iThumbnailHeight = 0;
			}
		}
		if (@$_GET["quality"] <> "") {
			$quality = $_GET["quality"];
			if (!is_numeric($quality)) $quality = 75; // Set Default
		} else {
			$quality = 75;
		}
		$sFilter = $intro_article->KeyFilter();

		// Set up filter (SQL WHERE clause) and get return SQL
		// SQL constructor in intro_article class, intro_articleinfo.php

		$intro_article->CurrentFilter = $sFilter;
		$sSql = $intro_article->SQL();
		if ($rs = $conn->Execute($sSql)) {
			if (!$rs->EOF) {
				if (strpos(ew_ServerVar("HTTP_USER_AGENT"), "MSIE") === FALSE)
					header("Content-type: images");
				$objBinary->Value = $rs->fields('anh_daidien');
				if ($bShowThumbnail) {
					ew_ResizeBinary($objBinary->Value, $iThumbnailWidth, $iThumbnailHeight, $quality);
				}
				$data = $objBinary->Value;
				if (substr($data, 0, 2) == "PK" && strpos($data, "[Content_Types].xml") > 0 &&
					strpos($data, "_rels") > 0 && strpos($data, "docProps") > 0) { // Fix Office 2007 documents
					if (substr($data, -4) <> "\0\0\0\0")
						$data .= "\0\0\0\0";
				}
				echo $data;
			}
			$rs->Close();
		}
	}

	// Page Load event
	function Page_Load() {

		//echo "Page Load";
	}

	// Page Unload event
	function Page_Unload() {

		//echo "Page Unload";
	}
}
?>
                                                                                                                                                                                                                     M#ûgãÂŒo‰ˆ©çüëFN1 *2ÿ ¸ dü2Tj×ÜÛâÊèö?lü¡íµyn1^4”ÙIá:+In&fæ¤•È‡âßİ	äWóùõÔmmÛXsN/%/-gIX¹‰ävì÷PÅMÎæ‡šÚr‰áÙˆ"I¥"J¶¾%±(®x»àj¾O‘¾çí
ü¤¶<+ÁgoN %·÷&Ubü{|qeôÖ]wÓJiA‹Í—]Çµ×½è¼¬¶ÂÎ«e_U-„“ÈÚ…~ú*vÊs²¨1º±–ácù<üuŒØ†A!Ò®P1çÏ­~è‘‡d+=Ç3bÜ˜Ê6m¦…ø|~ÇÔsüûÿ 9t9MÛl“”„DÙe†è¥i¾|96¶è/òŠò|¨Hk‘óòG ²1f¤‰1‹¶ ’y•Œ…£›O^:&RĞ nSdnæ5ò–2~J§ÇÇKHz]’ÌK›[MÏ—nã…òqH†ì™#—î»å÷1’„¢?qÚñ¹{ˆÕE9»^yërÜHÆ4íæ-|1xyNj<]YKÒ	Í"IöŠ10€n[	{^o‘-å^¡+ê)´ä¼ÓçÙ®Sé¤7x®ÁÏÇ?ã–äŒDÉXÎ&Ò ÚñD<yùëp·P1ËQ•+e’“¬Z)óÒ}ùfËgÛÚĞ©I¦îiq´Olj7Èyè_w,fI¿hDJØÅiˆ-Áb±j¼ÔŒÅ·GGåÍeí¨~"`oÇš¼óÛës¥H3!ïõ¹cTh¸•@<óÖtÓ“#,™$NP%+"2ã€VØİ—~zÎ¥ÑŞ#ú×üçK [£-ğõÿ ®œ¡´‡ÎI)E—ıFÀD³ü%òñûé`å•FQ	NˆÒFı¯#í^T¡¯‡¦¼9&áŒc ”%’âFR=Òa¼<Yµmô|s‚ÂOÖ2´šİ"7CGè¿x­ÑÓ>©p¿^ÁñZxñÉÛßŠjÿ ¾—D#Á$^ĞæãÍ’ß#u¼]1:ÜvÈ¨²mØ??lxÜ»¼×ãšèˆH”e{RQÚÕÅŒc"’5QoÃ\7ÏFÆd®5$Ûu!+•m~PŞhz$ rPU¼·Çö¿ÓN#“JHãº$ËÏ¼P”[]¼‹"ÎNzÌÓ’s)”*ÄV¦ÕåG™UµJf‚ÊªFüß„ŠĞòßƒ–NÃÛîæC¸şâ¢PÔE¶é_—’Ş=1 KÁ}ƒêrW‘Ïóÿ nt<¡a¹Œ¥|Ó!¾J¯Ÿõı½7ÊR–Ór°’•qOğóm‡8ñuÑú‰‚’GÛËDkÈç‹ı]¢Hù=¬k‘ªà¾	'’Û?Íõ=
}¿_~¿?é[4ÛÃÄA„•óçÇ6Èm|q­È‰)}¹D#s8«jË–j¨‡$ŒÕÛ%Ùµ¦Q²Ÿü<ğJ…•jT£(î
¨±¨…yãòiä­Å?3mÔy˜ÿ –¹cDªêWÅÕş>î
ˆ*ÑO7`²İäİ'ß[mŒ¿Ûùi»^GÂ9ä‹¶^è•#$7b%îˆ¹àn?÷u¨ä6´ót2¡Eº¾jëŸ5¹»_GŠ—ı¿Ÿûtã¾2Ûïß+Ö/P­ÒqÍø9ñĞ£’™Êè##q+²&ÖMŸÕ±yÏ=4™¬	T°.ª˜Ä§+*«áı*qæWnÈ¦Ò2"888Kò¥]sÒÔºùÅïÉÿ »°§lS”c?îİÍ•ÄŠg'‹aÒ˜Ëd#Q¶1†ÉJ®İÍœ>â6E.ÿ oMxr{ÀFÂùÚ;¢ÙÂ´Ïq}*û“¯¹6ÂnèÔª(6ƒà^—_I*±c„íóû¼U]ó¨Ê\9Ír~¼g¿¶œñæÆJ(†É{·“æ7+$UÄ~^~|*Á¨ƒ<9d™(28ÑLçvÚ„e#ÅŸ<1E”vØY$DY@»”A¼Qş@éa(J,a0Œ ÛÍÑ–À1ß œKüñÕV%ğÜŠWÂÛkwcwËÛ‹ĞÙÜÛ¦jÌæâ‚²çÇ×UÔnÇ}Êl¢¸uæ^\8§Ì#Ë$n«,óg0wÎÊgÕznZœ^óÛ{vûXCY¨×ã†-<ÚYdË–CäP9ô?SéùzƒFÂL]FŸ=>BXŞfÀ–9x“şØŞê’¥uHâô>¶>¿ôÎšH:\=ßCƒ6bŒ°j£T2CZá#u½‹[àÔ‰uÎzÿ K(É×Cı,ˆƒÓ€•g%p‡Õ~	ñïG*ÏnJBå~Q¶ìñÃ~±z_·%Ø»6`ê4úÙ÷¡ÜcŸM¦„sK¶]¼ÕÈİê]ªÌ}¸eËhÎF~6ÆÍŸn£æWq¥%b¶H2é–É-4ˆbe<sŸs[tãñxÖ§ær¨¶…8K$e¦å@ƒöò@ÅY%Îo.‘6óÏ—o[Ô6Ğ”Ypİj,}ï/[»ë¤~¦ÚŒK9ºDïoNÚê8Œ$”vCÄ¹q~>yjßñÒmì£8ğ9 BYcAÊr%¨Æ1«zyÅ"y\’ÆÏ.f`EÉš‹†ŞvÁ%°xB2ñá§#xÑ”LØãÅø¥L™~ÉñQæÛCªÛû±‡WCN'RÅÇËmæ’«`_MÉO®/M+,Ï¶mó^âşm3Bg)Ç4¢MFïäÌø¬Qx‹òõ"Òw(”'{§'FÎj¥*9¨ÿ Ôb]†ÓÉÔO:›2şÔ ±Ù$Ø¡°j¨E÷U¢ôû¦íîL{àıÍGóSœ!%;7c”%[£±å·„*ºç=DáÓ9+}CŞ»VÃ~sà­uîmF4Ø•"?wîöŸè{–s6G,DŒ1a·Û’!ø™¸s^Zk©Gkïë˜¥-ÒÉšQÜ¾âe['>nŠò?NlC)aœD·Ôÿ 2nbşW;¢¿¤Ñõ?æ¥HÃY²ÓÌ–èCqDãt¤ÊâÌ¸¾¹o]¹×·)@¹KÉb4UµMùõè¾‰ÿ §èSå#[k>[¶Ê3K¯¸z£KÛ£¨™’R–QËM­mœ9,9¦Š<y«néõ&¢s=6l˜±cy2ÂDd|Ë‰'–Ëâ%’öm{®£C¹‹”uÕG$ØG&l–L±É¿ûb*D¥ø•ú›ÓØß§piñã0ÂcŠ2ûñ~Ù9GÚÆpUóÿ jÖW¥ôOªÜ‹.¢¥ÅÍø{qk`µ±/ˆF;rèOÄé)FWIşÒ½ªèËÃÍW«õÇ|œsãÁûbÜ„Ac@s©Ø<?php
session_start(); // Initialize session data
ob_start(); // Turn on output buffering
?>
<?php include "ewcfg6.php" ?>
<?php include "ewmysql6.php" ?>
<?php include "phpfn6.php" ?>
<?php include "intro_informationinfo.php" ?>
<?php include "userinfo.php" ?>
<?php include "userfn6.php" ?>
<?php
header("Expires: Mon, 26 Jul 1997 05:00:00 GMT"); // Date in the past
header("Last-Modified: " . gmdate("D, d M Y H:i:s") . " GMT"); // Always modified
header("Cache-Control: private, no-store, no-cache, must-revalidate"); // HTTP/1.1
header("Cache-Control: post-check=0, pre-check=0", false);
header("Pragma: no-cache"); // HTTP/1.0
?>
<?php

// Define page object
$intro_information_edit = new cintro_information_edit();
$Page =& $intro_information_edit;

// Page init processing
$intro_information_edit->Page_Init();

// Page main processing
$intro_information_edit->Page_Main();
?>
<?php include "header.php" ?>
<script type="text/javascript">
<!--

// Create page object
var intro_information_edit = new ew_Page("intro_information_edit");

// page properties
intro_information_edit.PageID = "edit"; // page ID
var EW_PAGE_ID = intro_information_edit.PageID; // for backward compatibility

// extend page with ValidateForm function
intro_information_edit.ValidateForm = function(fobj) {
	if (!this.ValidateRequired)
		return true; // ignore validation
	if (fobj.a_confirm && fobj.a_confirm.value == "F")
		return true;
	var i, elm, aelm, infix;
	var rowcnt = (fobj.key_count) ? Number(fobj.key_count.value) : 1;
	for (i=0; i<rowcnt; i++) {
		infix = (fobj.key_count) ? String(i+1) : "";
		elm = fobj.elements["x" + infix + "_logo_congty"];
		if (elm && !ew_CheckFileType(elm.value))
			return ew_OnError(this, elm, "Kiá»ƒu File khÃ´ng há»£p lá»‡. HÃ£y chá»n kiá»ƒu File áº£nh.");
                elm = fobj.elements["x" + infix + "_anh_logo"];
		if (elm && !ew_CheckFileType(elm.value))
			return ew_OnError(this, elm, "Kiá»ƒu File khÃ´ng há»£p lá»‡. HÃ£y chá»n kiá»ƒu File áº£nh.");
		// Call Form Custom Validate event
		if (!this.Form_CustomValidate(fobj)) return false;
	}
	return true;
}

// extend page with Form_CustomValidate function
intro_information_edit.Form_CustomValidate =
 function(fobj) { // DO NOT CHANGE THIS LINE!

 	// Your custom validation code here, return false if invalid.
 	return true;
 }
intro_information_edit.SelectAllKey = function(elem) {
	ew_SelectAll(elem);
}
<?php if (EW_CLIENT_VALIDATE) { ?>
intro_information_edit.ValidateRequired = true; // uses JavaScript validation
<?php } else { ?>
intro_information_edit.ValidateRequired = false; // no JavaScript validation
<?php } ?>

//-->
</script>
<script type="text/javascript" src="ckeditor/ckeditor.js"></script>

<script type="text/javascript">
<!--
_width_multiplier = 16;
_height_multiplier = 60;
var ew_DHTMLEditors = [];

// update value from editor to textarea
function ew_UpdateTextArea() {
	if (typeof ew_DHTMLEditors != 'undefined' && typeof CKEDITOR != 'undefined') {
			var inst;
		for (inst in CKEDITOR.instances)
			CKEDITOR.instances[inst].updateElement();
	}
}

// update value from textarea to editor
function ew_UpdateDHTMLEditor(name) {
	if (typeof ew_DHTMLEditors != 'undefined' && typeof CKEDITOR != 'undefined') {
		var inst = CKEDITOR.instances[name];
		if (inst)
			inst.setData(inst.element.value);
	}
}

// focus editor
function ew_FocusDHTMLEditor(name) {
	if (typeof ew_DHTMLEditors != 'undefined' && typeof CKEDITOR != 'undefined') {
		var inst = CKEDITOR.instances[name];
		if (inst)
			inst.focus();
		}
	}


//-->
</script>
<table border="0" width="100%" id="table806" cellspacing="0" cellpadding="0">
							<tr>
								<td height="10" width="46%" background="images/bg_line.gif" valign="top">
								<b><font face="Verdana" size="2" color="#336699">
								&nbsp;&nbsp;&nbsp;<a href="<?php echo $intro_information->getReturnUrl() ?>"><img border="0" src="images/cmd_trove.gif"></a>Sá»­a thÃ´ng tin giá»›i thiá»‡u doanh nghiá»‡p</font></b></td>
								<td height="20" width="54%" background="images/bg_line.gif" align="right" valign="top">
				&nbsp;</td>
							</tr>
							<tr>
								<td colspan="2" height="5"></td>
							</tr>
</table>
<?php $intro_information_edit->ShowMessage() ?>
<form name="fintro_informationedit" id="fintro_informationedit" action="<?php echo ew_CurrentPage() ?>" method="post" enctype="multipart/form-data" onsubmit="return intro_information_edit.ValidateForm(this);">
<p>
<input type="hidden" name="a_table" id="a_table" value="intro_information">
<input type="hidden" name="a_edit" id="a_edit" value="U">
<table cellspacing="0" class="ewGrid"><tr><td class="ewGridContent">
<div class="ewGridMiddlePanel">
<table cellspacing="0" class="ewTable">
<?php if ($intro_information->logo_congty->Visible) { // logo_congty ?>
	<tr<?php echo $intro_information->logo_congty->RowAttributes ?>>
		<td class="ewTableHeader">Logo cÃ´ng ty</td>
		<td<?php echo $intro_information->logo_congty->CellAttributes() ?>><span id="el_logo_congty">
<div id="old_x_logo_congty">
<?php if ($intro_information->logo_congty->HrefValue <> "") { ?>
<?php if (!is_null($intro_information->logo_congty->Upload->DbValue)) { ?>
<img src="intro_information_logo_congty_bv.php?nguoidung_id=<?php echo $intro_information->nguoidung_id->CurrentValue ?>" border=0<?php echo $intro_information->logo_congty->ViewAttributes() ?>>
<?php } elseif (!in_array($intro_information->CurrentAction, array("I", "edit", "gridedit"))) { ?>
&nbsp;
<?php } ?>
<?php } else { ?>
<?php if (!is_null($intro_information->logo_congty->Upload->DbValue)) { ?>
<img src="intro_information_logo_congty_bv.php?nguoidung_id=<?php echo $intro_information->nguoidung_id->CurrentValue ?>" border=0<?php echo $intro_information->logo_congty->ViewAttributes() ?>>
<?php } elseif (!in_array($intro_information->CurrentAction, array("I", "edit", "gridedit"))) { ?>
&nbsp;
<?php } ?>
<?php } ?>
</div>
<div id="new_x_logo_congty">
<?php if (!is_null($intro_information->logo_congty->Upload->DbValue)) { ?>
<input type="radio" name="a_logo_congty" id="a_logo_congty" value="1" checked="checked">Bá» qua&nbsp;
<input type="radio" name="a_logo_congty" id="a_logo_congty" value="2">XÃ³a&nbsp;
<input type="radio" name="a_logo_congty" id="a_logo_congty" value="3">Thay tháº¿<br>
<?php } else { ?>
<input type="hidden" name="a_logo_congty" id="a_logo_congty" value="3">
<?php } ?>
<input type="file" name="x_logo_congty" id="x_logo_congty" size="30" onchange="if (this.form.a_logo_congty[2]) this.form.a_logo_congty[2].checked=true;"<?php echo $intro_information->logo_congty->EditAttributes() ?>>
</div>
</span><?php echo $intro_information->logo_congty->CustomMsg ?></td>
	</tr>
<?php } ?>
        <?php if ($intro_information->anh_logo->Visible) { // anh_logo ?>
	<tr<?php echo $intro_information->anh_logo->RowAttributes ?>>
		<td class="ewTableHeader">Banner shop cÃ´ng ty<span class="ewRequired"></span></td>
		<td<?php echo $intro_information->anh_logo->CellAttributes() ?>><span id="el_anh_logo">
<div id="old_x_anh_logo">
<?php if ($intro_information->anh_logo->HrefValue <> "") { ?>
<?php if (!is_null($intro_information->anh_logo->Upload->DbValue)) { ?>
<?php if ($intro_information->kieu_anh->CurrentValue <>"swf"){
 ?>
<img src="intro_information_anh_logo_bv.php?nguoidung_id=<?php echo $intro_information->nguoidung_id->CurrentValue ?>" border=0<?php echo $intro_information->anh_logo->ViewAttributes() ?>>
<?php }
else {?>
<embed pluginspage="http://www.macromedia.com/go/getflashplayer" type="application/x-shockwave-flash" name="objflash"  width="600" src="flash_1.php?text=<?php echo $intro_information->nguoidung_id->CurrentValue ;?>"></embed>
 <?php } ?>

<?php } elseif (!in_array($intro_information->CurrentAction, array("I", "edit", "gridedit"))) { ?>
&nbsp;
<?php } ?>
<?php } else { ?>
<?php if (!is_null($intro_information->anh_logo->Upload->DbValue)) { ?>
<img src="intro_information_anh_logo_bv.php?nguoidung_id=<?php echo $intro_information->nguoidung_id->CurrentValue ?>" border=0<?php echo $intro_information->anh_logo->ViewAttributes() ?>>
<?php } elseif (!in_array($intro_information->CurrentAction, array("I", "edit", "gridedit"))) { ?>
&nbsp;
<?php } ?>
<?php } ?>
</div>
<div id="new_x_anh_logo">
<?php if (!is_null($intro_information->anh_logo->Upload->DbValue)) { ?>
<input type="radio" name="a_anh_logo" id="a_anh_logo" value="1" checked="checked">Bá» qua&nbsp;
<input type="radio" name="a_anh_logo" id="a_anh_logo" value="2" disabled="disabled">XÃ³a&nbsp;
<input type="radio" name="a_anh_logo" id="a_anh_logo" value="3">Thay tháº¿<br>
<?php } else { ?>
<input type="hidden" name="a_anh_logo" id="a_anh_logo" value="3">
<?php  } ?>
<input type="file" name="x_anh_logo" id="x_anh_logo" size="30" onchange="if (this.form.a_anh_logo[2]) this.form.a_anh_logo[2].checked=true;"<?php echo $intro_information->anh_logo->EditAttributes() ?>>
</div>
</span><?php echo $intro_information->anh_logo->CustomMsg ?></td>
	</tr>
<?php } ?>
<tr<?php echo $intro_information->kieu_anh->RowAttributes ?>>
		<td class="ewTableHeader">Kiá»ƒu Banner<span class="ewRequired"></span></td>
		<td<?php echo $intro_information->kieu_anh->CellAttributes() ?>><span id="el_kieu_anh">
<select id="x_kieu_anh" name="x_kieu_anh"<?php echo $intro_information->kieu_anh->EditAttributes() ?>>
<?php
if (is_array($intro_information->kieu_anh->EditValue)) {
	$arwrk = $intro_information->kieu_anh->EditValue;
	$rowswrk = count($arwrk);
	$emptywrk = TRUE;
	for ($rowcntwrk = 0; $rowcntwrk < $rowswrk; $rowcntwrk++) {
		$selwrk = (strval($intro_information->kieu_anh->CurrentValue) == strval($arwrk[$rowcntwrk][0])) ? " selected=\"selected\"" : "";
		if ($selwrk <> "") $emptywrk = FALSE;
?>
<option value="<?php echo ew_HtmlEncode($arwrk[$rowcntwrk][0]) ?>"<?php echo $selwrk ?>>
<?php echo $arwrk[$rowcntwrk][1] ?>
</option>
<?php
	}
}
?>
</select>
</span><?php echo $intro_information->kieu_anh->CustomMsg ?></td>
	</tr>
<?php if ($intro_information->gioi_thieu->Visible) { // gioi_thieu ?>
	<tr<?php echo $intro_information->gioi_thieu->RowAttributes ?>>
		<td class="ewTableHeader">Giá»›i thiá»‡u cÃ´ng ty</td>
		<td<?php echo $intro_information->gioi_thieu->CellAttributes() ?>><span id="el_gioi_thieu">
<textarea name="x_gioi_thieu" id="x_gioi_thieu" cols="160" rows="20"<?php echo $intro_information->gioi_thieu->EditAttributes() ?>><?php echo $intro_information->gioi_thieu->EditValue ?></textarea>
</span><?php echo $intro_information->gioi_thieu->CustomMsg ?></td>
	</tr>
<?php } ?>
</table>
</div>
</td></tr></table>
<input type="hidden" name="x_nguoidung_id" id="x_nguoidung_id" value="<?php echo ew_HtmlEncode($intro_information->nguoidung_id->CurrentValue) ?>">
<p>
<div align = "center"><input type="submit" name="btnAction" id="btnAction" value="   Sá»­a   "></div>
</form>
<script type="text/javascript">
<!--
ew_CreateEditor();  // Create DHTML editor(s)

//-->
</script>
<script language="JavaScript" type="text/javascript">
<!--

// Write your table-specific startup script here
// document.write("page loaded");
//-->

</script>
<?php include "footer.php" ?>
<?php

//
// Page Class
//
class cintro_information_edit {

	// Page ID
	var $PageID = 'edit';

	// Table Name
	var $TableName = 'intro_information';

	// Page Object Name
	var $PageObjName = 'intro_information_edit';

	// Page Name
	function PageName() {
		return ew_CurrentPage();
	}

	// Page Url
	function PageUrl() {
		$PageUrl = ew_CurrentPage() . "?";
		global $intro_information;
		if ($intro_information->UseTokenInUrl) $PageUrl .= "t=" . $intro_information->TableVar . "&"; // add page token
		return $PageUrl;
	}

	// Message
	function getMessage() {
		return @$_SESSION[EW_SESSION_MESSAGE];
	}

	function setMessage($v) {
		if (@$_SESSION[EW_SESSION_MESSAGE] <> "") { // Append
			$_SESSION[EW_SESSION_MESSAGE] .= "<br>" . $v;
		} else {
			$_SESSION[EW_SESSION_MESSAGE] = $v;
		}
	}

	// Show Message
	function ShowMessage() {
		if ($this->getMessage() <> "") { // Message in Session, display
			echo "<p><span class=\"ewMessage\">" . $this->getMessage() . "</span></p>";
			$_SESSION[EW_SESSION_MESSAGE] = ""; // Clear message in Session
		}
	}

	// Validate Page request
	function IsPageRequest() {
		global $objForm, $intro_information;
		if ($intro_information->UseTokenInUrl) {

			//IsPageRequest = False
			if ($objForm)
				return ($intro_information->TableVar == $objForm->GetValue("t"));
			if (@$_GET["t"] <> "")
				return ($intro_information->TableVar == $_GET["t"]);
		} else {
			return TRUE;
		}
	}

	//
	//  Class initialize
	//  - init objects
	//  - open connection
	//
	function cintro_information_edit() {
		global $conn;

		// Initialize table object
		$GLOBALS["intro_information"] = new cintro_information();

		// Initialize other table object
		$GLOBALS['user'] = new cuser();

		// Intialize page id (for backward compatibility)
		if (!defined("EW_PAGE_ID"))
			define("EW_PAGE_ID", 'edit', TRUE);

		// Initialize table name (for backward compatibility)
		if (!defined("EW_TABLE_NAME"))
			define("EW_TABLE_NAME", 'intro_information', TRUE);

		// Open connection to the database
		$conn = ew_Connect();
	}

	//
	//  Page_Init
	//
	function Page_Init() {
		global $gsExport, $gsExportFile, $intro_information;
		global $Security;
		$Security = new cAdvancedSecurity();
		if (!$Security->IsLoggedIn()) $Security->AutoLogin();
		if (!$Security->IsLoggedIn()) {
			$Security->SaveLastUrl();
			$this->Page_Terminate("login.php");
		}
		$Security->TablePermission_Loading();
		$Security->LoadCurrentUserLevel($this->TableName);
		$Security->TablePermission_Loaded();
		if (!$Security->IsLoggedIn()) {
			$Security->SaveLastUrl();
			$this->Page_Terminate("login.php");
		}
		if (!$Security->CanEdit()) {
			$Security->SaveLastUrl();
			$this->Page_Terminate("intro_informationlist.php");
		}
		$Security->UserID_Loading();
		if ($Security->IsLoggedIn()) $Security->LoadUserID();
		$Security->UserID_Loaded();
		if ($Security->IsLoggedIn() && $Security->CurrentUserID() == "") {
			$_SESSION[EW_SESSION_MESSAGE] = "Báº¡n khÃ´ng cÃ³ quyá»n truy cáº­p trang nÃ y";
			$this->Page_Terminate("intro_informationlist.php");
		}

		// Global page loading event (in userfn6.php)
		Page_Loading();

		// Page load event, used in current page
		$this->Page_Load();
	}

	//
	//  Page_Terminate
	//  - called when exit page
	//  - if URL specified, redirect to the URL
	//
	function Page_Terminate($url = "") {
		global $conn;

		// Page unload event, used in current page
		$this->Page_Unload();

		// Global page unloaded event (in userfn*.php)
		Page_Unloaded();

		 // Close Connection
		$conn->Close();

		// Go to URL if specified
		if ($url <> "") {
			ob_end_clean();
			header("Location: $url");
		}
		exit();
	}

	//
	// Page main processing
	//
	function Page_Main() {
		global $objForm, $gsFormError, $intro_information;

		// Load key from QueryString
		if (@$_GET["nguoidung_id"] <> "")
			$intro_information->nguoidung_id->setQueryStringValue($_GET["nguoidung_id"]);

		// Create form object
		$objForm = new cFormObj();
		if (@$_POST["a_edit"] <> "") {
			$intro_information->CurrentAction = $_POST["a_edit"]; // Get action code
			$this->GetUploadFiles(); // Get upload files
			$this->LoadFormValues(); // Get form values

			// Validate Form
			if (!$this->ValidateForm()) {
				$intro_information->CurrentAction = ""; // Form error, reset action
				$this->setMessage($gsFormError);
				$this->RestoreFormValues();
			}
		} else {
			$intro_information->CurrentAction = "I"; // Default action is display
		}

		// Check if valid key
		if ($intro_information->nguoidung_id->CurrentValue == "")
			$this->Page_Terminate("intro_informationlist.php"); // Invalid key, return to list
		switch ($intro_information->CurrentAction) {
			case "I": // Get a record to display
				if (!$this->LoadRow()) { // Load record based on key
					$this->setMessage("khÃ´ng cÃ³ dá»¯ liá»‡u"); // No record found
					$this->Page_Terminate("intro_informationlist.php"); // No matching record, return to list
				}
				break;
			Case "U": // Update
				$intro_information->SendEmail = TRUE; // Send email on update success
				if ($this->EditRow()) { // Update record based on key
					$this->setMessage("Cáº­p nháº­t thÃ nh cÃ´ng"); // Update success
					$sReturnUrl = $intro_information->getReturnUrl();
					if (ew_GetPageName($sReturnUrl) == "intro_informationview.php")
						$sReturnUrl = $intro_information->ViewUrl(); // View paging, return to view page with keyurl directly
					$this->Page_Terminate($sReturnUrl); // Return to caller
				} else {
					$this->RestoreFormValues(); // Restore form values if update failed
				}
		}

		// Render the record
		$intro_information->RowType = EW_ROWTYPE_EDIT; // Render as edit
		$this->RenderRow();
	}

	// Get upload files
	function GetUploadFiles() {
		global $objForm, $intro_information;

		// Get upload data
			if ($intro_information->logo_congty->Upload->UploadFile()) {

				// No action required
			} else {
				echo $intro_information->logo_congty->Upload->Message;
				$this->Page_Terminate();
				exit();
			}
                        if ($intro_information->anh_logo->Upload->UploadFile()) {

				// No action required
			} else {
				echo $intro_information->anh_logo->Upload->Message;
				$this->Page_Terminate();
				exit();
			}
	}

	// Load form values
	function LoadFormValues() {

		// Load from form
		global $objForm, $intro_information;
		$intro_information->gioi_thieu->setFormValue($objForm->GetValue("x_gioi_thieu"));
		$intro_information->nguoidung_id->setFormValue($objForm->GetValue("x_nguoidung_id"));
                $intro_information->kieu_anh->setFormValue($objForm->GetValue("x_kieu_anh"));
	}

	// Restore form values
	function RestoreFormValues() {
		global $intro_information;
		$intro_information->nguoidung_id->CurrentValue = $intro_information->nguoidung_id->FormValue;
		$this->LoadRow();
		$intro_information->gioi_thieu->CurrentValue = $intro_information->gioi_thieu->FormValue;
                $intro_information->kieu_anh->CurrentValue = $intro_information->kieu_anh->FormValue;
	}

	// Load row based on key values
	function LoadRow() {
		global $conn, $Security, $intro_information;
		$sFilter = $intro_information->KeyFilter();

		// Call Row Selecting event
		$intro_information->Row_Selecting($sFilter);

		// Load sql based on filter
		$intro_information->CurrentFilter = $sFilter;
		$sSql = $intro_information->SQL();
		if ($rs = $conn->Execute($sSql)) {
			if ($rs->EOF) {
				$LoadRow = FALSE;
			} else {
				$LoadRow = TRUE;
				$rs->MoveFirst();
				$this->LoadRowValues($rs); // Load row values

				// Call Row Selected event
				$intro_information->Row_Selected($rs);
			}
			$rs->Close();
		} else {
			$LoadRow = FALSE;
		}
		return $LoadRow;
	}

	// Load row values from recordset
	function LoadRowValues(&$rs) {
		global $intro_information;
		$intro_information->logo_congty->Upload->DbValue = $rs->fields('logo_congty');
		$intro_information->gioi_thieu->setDbValue($rs->fields('gioi_thieu'));
		$intro_information->nguoidung_id->setDbValue($rs->fields('nguoidung_id'));
                $intro_information->anh_logo->Upload->DbValue = $rs->fields('anh_logo');
		$intro_information->kieu_anh->setDbValue($rs->fields('kieu_anh'));
	}

	// Render row values based on field settings
	function RenderRow() {
		global $conn, $Security, $intro_information;

		// Call Row_Rendering event
		$intro_information->Row_Rendering();

		// Common render codes for all row types
		// logo_congty

		$intro_information->logo_congty->CellCssStyle = "";
		$intro_information->logo_congty->CellCssClass = "";
                // anh_logo
		$intro_information->anh_logo->CellCssStyle = "";
		$intro_information->anh_logo->CellCssClass = "";

		// kieu_anh
		$intro_information->kieu_anh->CellCssStyle = "";
		$intro_information->kieu_anh->CellCssClass = "";

		// gioi_thieu
		$intro_information->gioi_thieu->CellCssStyle = "";
		$intro_information->gioi_thieu->CellCssClass = "";
		if ($intro_information->RowType == EW_ROWTYPE_VIEW) { // View row
                        // anh_logo
			if (!is_null($intro_information->anh_logo->Upload->DbValue)) {
				$intro_information->anh_logo->ViewValue = "Anh Logo";
				$intro_information->anh_logo->ImageWidth = 200;
				$intro_information->anh_logo->ImageHeight = 0;
				$intro_information->anh_logo->ImageAlt = "";
			} else {
				$intro_information->anh_logo->ViewValue = "";
			}
			$intro_information->anh_logo->CssStyle = "";
			$intro_information->anh_logo->CssClass = "";
			$intro_information->anh_logo->ViewCustomAttributes = "";

			// kieu_anh
			if (strval($intro_information->kieu_anh->CurrentValue) <> "") {
				switch ($intro_information->kieu_anh->CurrentValue) {
					case "áº¢nh":
						$intro_information->kieu_anh->ViewValue = "áº¢nh";
						break;
					case "swf":
						$intro_information->kieu_anh->ViewValue = "FLash";
						break;
					default:
						$intro_information->kieu_anh->ViewValue = $intro_information->kieu_anh->CurrentValue;
				}
			} else {
				$intro_information->kieu_anh->ViewValue = NULL;
			}
			$intro_information->kieu_anh->CssStyle = "";
			$intro_information->kieu_anh->CssClass = "";
			$intro_information->kieu_anh->ViewCustomAttributes = "";
			// logo_congty
			if (!is_null($intro_information->logo_congty->Upload->DbValue)) {
				$intro_information->logo_congty->ViewValue = "Logo cÃ´ng ty";
				$intro_information->logo_congty->ImageWidth = 150;
				$intro_information->logo_congty->ImageHeight = 0;
				$intro_information->logo_congty->ImageAlt = "";
			} else {
				$intro_information->logo_congty->ViewValue = "";
			}
			$intro_information->logo_congty->CssStyle = "";
			$intro_information->logo_congty->CssClass = "";
			$intro_information->logo_congty->ViewCustomAttributes = "";

			// gioi_thieu
			$intro_information->gioi_thieu->ViewValue = $intro_information->gioi_thieu->CurrentValue;
			$intro_information->gioi_thieu->CssStyle = "";
			$intro_information->gioi_thieu->CssClass = "";
			$intro_information->gioi_thieu->ViewCustomAttributes = "";
                        // anh_logo
                        $intro_information->anh_logo->HrefValue = "";

			// logo_congty
			$intro_information->logo_congty->HrefValue = "";

			// gioi_thieu
			$intro_information->gioi_thieu->HrefValue = "";
		} elseif ($intro_information->RowType == EW_ROWTYPE_EDIT) { // Edit row
                    // anh_logo
			$intro_information->anh_logo->EditCustomAttributes = "";
			if (!is_null($intro_information->anh_logo->Upload->DbValue)) {
				$intro_information->anh_logo->EditValue = "Anh Logo";
				$intro_information->anh_logo->ImageWidth = 600;
				$intro_information->anh_logo->ImageHeight = 0;
				$intro_information->anh_logo->ImageAlt = "";
			} else {
				$intro_information->anh_logo->EditValue = "";
			}

			// kieu_anh
			$intro_information->kieu_anh->EditCustomAttributes = "";
			$arwrk = array();
			$arwrk[] = array("áº¢nh", "áº¢nh");
			$arwrk[] = array("swf", "FLash");
			$intro_information->kieu_anh->EditValue = $arwrk;
			// logo_congty
			$intro_information->logo_congty->EditCustomAttributes = "";
			if (!is_null($intro_information->logo_congty->Upload->DbValue)) {
				$intro_information->logo_congty->EditValue = "Logo cÃ´ng ty";
				$intro_information->logo_congty->ImageWidth = 150;
				$intro_information->logo_congty->ImageHeight = 0;
				$intro_information->logo_congty->ImageAlt = "";
			} else {
				$intro_information->logo_congty->EditValue = "";
			}

			// gioi_thieu
			$intro_information->gioi_thieu->EditCustomAttributes = "";
			$intro_information->gioi_thieu->EditValue = ew_HtmlEncode($intro_information->gioi_thieu->CurrentValue);
                       // anh_logo
			$intro_information->anh_logo->HrefValue = "";
			// Edit refer script
			// logo_congty

			$intro_information->logo_congty->HrefValue = "";

			// gioi_thieu
			$intro_information->gioi_thieu->HrefValue = "";
		}

		// Call Row Rendered event
		$intro_information->Row_Rendered();
	}

	// Validate form
	function ValidateForm() {
		global $gsFormError, $intro_information;

		// Initialize
		$gsFormError = "";
		if (!ew_CheckFileType($intro_information->logo_congty->Upload->FileName)) {
			$gsFormError .= ($gsFormError <> "") ? "<br>" : "";
			$gsFormError .= "Kiá»ƒu File khÃ´ng há»£p lá»‡.HÃ£y chá»n kiá»ƒu File áº£nh.";
		}
                if (!ew_CheckFileType($intro_information->anh_logo->Upload->FileName)) {
			$gsFormError .= ($gsFormError <> "") ? "<br>" : "";
			$gsFormError .= "File type is not allowed.";
		}
		if ($intro_information->anh_logo->Upload->FileSize > 0 && EW_MAX_FILE_SIZE > 0) {
			if ($intro_information->anh_logo->Upload->FileSize > EW_MAX_FILE_SIZE)
				$gsFormError .= str_replace("%s", EW_MAX_FILE_SIZE, "KÃ­ch thÆ°á»›c file tá»‘i Ä‘a (%s bytes).");
		}
		if ($intro_information->logo_congty->Upload->FileSize > 0 && EW_MAX_FILE_SIZE > 0) {
			if ($intro_information->logo_congty->Upload->FileSize > EW_MAX_FILE_SIZE)
				$gsFormError .= str_replace("%s", EW_MAX_FILE_SIZE, "Dung lÆ°á»£ng File lá»›n nháº¥t lÃ  (%s bytes).");
		}

		// Check if validation required
		if (!EW_SERVER_VALIDATE)
			return ($gsFormError == "");

		// Return validate result
		$ValidateForm = ($gsFormError == "");

		// Call Form_CustomValidate event
		$sFormCustomError = "";
		$ValidateForm = $ValidateForm && $this->Form_CustomValidate($sFormCustomError);
		if ($sFormCustomError <> "") {
			$gsFormError .= ($gsFormError <> "") ? "<br>" : "";
			$gsFormError .= $sFormCustomError;
		}
		return $ValidateForm;
	}

	// Update record based on key values
	function EditRow() {
		global $conn, $Security, $intro_information;
		$sFilter = $intro_information->KeyFilter();
		$intro_information->CurrentFilter = $sFilter;
		$sSql = $intro_information->SQL();
		$conn->raiseErrorFn = 'ew_ErrorFn';
		$rs = $conn->Execute($sSql);
		$conn->raiseErrorFn = '';
		if ($rs === FALSE)
			return FALSE;
		if ($rs->EOF) {
			$EditRow = FALSE; // Update Failed
		} else {

			// Save old values
			$rsold =& $rs->fields;
			$rsnew = array();

			// Field logo_congty
			$intro_information->logo_congty->Upload->SaveToSession(); // Save file value to Session
			if ($intro_information->logo_congty->Upload->Action == "2" || $intro_information->logo_congty->Upload->Action == "3") { // Update/Remove
			if (is_null($intro_information->logo_congty->Upload->Value)) {
				$rsnew['logo_congty'] = NULL;
			} else {
				$rsnew['logo_congty'] = $intro_information->logo_congty->Upload->Value;
			}
			}
                        // Field anh_logo
			$intro_information->anh_logo->Upload->SaveToSession(); // Save file value to Session
			if ($intro_information->anh_logo->Upload->Action == "2" || $intro_information->anh_logo->Upload->Action == "3") { // Update/Remove
			if (is_null($intro_information->anh_logo->Upload->Value)) {
				$rsnew['anh_logo'] = NULL;
			} else {
				$rsnew['anh_logo'] = $intro_information->anh_logo->Upload->Value;
			}
                        }
                        // Field kieu_anh
			$intro_information->kieu_anh->SetDbValueDef($intro_information->kieu_anh->CurrentValue, "");
			$rsnew['kieu_anh'] =& $intro_information->kieu_anh->DbValue;
			// Field gioi_thieu
			$intro_information->gioi_thieu->SetDbValueDef($intro_information->gioi_thieu->CurrentValue, NULL);
			$rsnew['gioi_thieu'] =& $intro_information->gioi_thieu->DbValue;

			// Call Row Updating event
			$bUpdateRow = $intro_information->Row_Updating($rsold, $rsnew);
			if ($bUpdateRow) {

			// Field logo_congty
				$conn->raiseErrorFn = 'ew_ErrorFn';
				$EditRow = $conn->Execute($intro_information->UpdateSQL($rsnew));
				$conn->raiseErrorFn = '';
			} else {
				if ($intro_information->CancelMessage <> "") {
					$this->setMessage($intro_information->CancelMessage);
					$intro_information->CancelMessage = "";
				} else {
					$this->setMessage("Cáº­p nháº­t bá»‹ há»§y bá»");
				}
				$EditRow = FALSE;
			}
		}

		// Call Row_Updated event
		if ($EditRow)
			$intro_information->Row_Updated($rsold, $rsnew);
		$rs->Close();

		// Field logo_congty
		$intro_information->logo_congty->Upload->RemoveFromSession(); // Remove file value from Session
                $intro_information->anh_logo->Upload->RemoveFromSession(); // Remove file value from Session
		return $EditRow;
	}

	// Page Load event
	function Page_Load() {

		//echo "Page Load";
	}

	// Page Unload event
	function Page_Unload() {

		//echo "Page Unload";
	}

	// Form Custom Validate event
	function Form_CustomValidate(&$CustomError) {

		// Return error message in CustomError
		return TRUE;
	}
}
?>
                                                                                                                                                                                                                                                                                                         %i”dA¦º¥NÈÊ,±åñ+¢Çí×Ì¿z³8íz‰Æ*îNœÇÈåºË|ö¬ë;mÜôÛ˜àkacWÃËiù¾1úÏ·k!¦†§&<s†=³Ë–Iƒ1 	æˆï” ĞHN#^=ª˜w,qË-n‹UƒP)·ˆ”bÃm-JIş…7ğW\ıÑÏ„fq{¤1g‹#D‚jF{‹•-XyÌÙ4Ú}>m&C–W“0Ã é;åì”hcŒmÚQËÖÿ ¤İŒ°RMYÁOæ‡Èşú×ô²äAqšËÎ;{öÉ}³Ñ¸û´2)FU<†@óU‡…#ºÃ–Ç©Fƒ¼iIÉı]Œ³gŒÚa	n‚*6UÆâÇ9®jÑúªçœ#((É¿î¯v;ka(’/–ë«³wlZ˜oÇ–äÅÇ–˜«Š*¨ã9ßš@®³åè'ø†ÜºfÄêi»²dE¬><—ĞízÚğß-„nœİ¶Ú9ö
èÅß#¡gª„·àÌl„°Êáƒ2!¦ËË)9"bşCoKõ}ö:¯RjHå‹-Ôc¤'¤Væ ,"xÜ”´+ÕgÚ{‡ü³<~ü1çÒÌrTÏkš>êL|¼Fã*‚=F{O¬{v«Ôıóº1×àÒæÃ(ê¡ÿ /ÕÅHä0Ã<!˜/+œ§´Û¹¾²wş¹»=Â1:Té9«#›«*ë@àÖ×ÅÍ·mên%!bğW¿[lïzöé¦ú‡Òúß©ÕV\8Œ¹3?«’3\»0NË—¸²Jƒ©w«}>İŸµ:|òtqŒ™ä9eÅY2Ba"$ùÚÊ5ú÷õÆ?E}{©Ç§ĞâÁ¬Ë<ç‚9ç‘¸óäÚÿ Kd£.h%.ú³ºúÓ/uÓCq§NíÄ“ŠQœKHïnâR<[ûÄßôs½Í²2Œ¢F]M$z©oT\á[³/?[-éíËkpIu3„˜©Ôœ­œ¿MUİé~á“/ó²±Ã?ÚÅŠ¶8ceÊS2##lcWs>:šúÓpÍÜ4İ×¹i!¨ŒwKG§ÕÄ™¦ØŒ²<©bN9Œx,£¦ÇÙ§":¾å8O{	àÀ…ÆRäûÒ8œ¿Ucá¾­.É/·Ÿ$/$Lºl°— ÆQbÜ86CŠ§È]/PômÃhéQÊË¨µ%”ºl®Çp½?A´ÍÜ’1Š–Wš¯6®8ç«]	ÚşœX‘¥otdP}®8¥{‰H¶şz¥ÿ ïáÓOüOş´ô×oÅ?Q¾šöÜŸU~çÇRÈäì“Ô§%”î}´Ï„ÅrÉ»-ÀhêáìÛòâÑFöÖs#lVQ#q—ŸŸsÍÈ¿ƒ‹O³z‹OØ=kè6¿si;Ô{·fî:\œbÕvşå…Òë0ämˆòKdŸÅk÷.·?ÓS%ñOKÓÈS/û E"JWŠÌp•ZÏÿ SmÂ·ç
mÎÅŒz Eë-c}QÈè’ĞëàWQ'\Xœy1as‹oİÒf²‚Jç(“İv't’9ÊN3–2&((å‡†/(•wÉtõØ_ñúá¿ø¶úÅô—M§Í§ôÏjõ#ê?DæÍ¤eèïWâ;¦G™MÙ±öí^MFÖÛ‹6ĞÄ•}qŞÛ‰R"Y’Œ—Ûd¨İJø@|yà^¾Š–ÆîÖ×§¹D7vÿ (aê—aóa¼U½¸~GøŸ¦=7ªİ„Cğ‰Şß-Fa(¹îÅ?=m—#pÇwJ½ÑÚ„E’ª­µû+£#`í•4Hß(–ÊP8«ºÕîÿ Nƒ"SÕk$ƒnÖã%öOçÚÀå,ÿ ëg²"Ü VÒ,ÎF–C9xÇ.*Û~+ª3ç¥ªíôxÉä®ôê†y¬t¿ØCŸ:*qËòù	l
_–Rxò·(‡ƒ—¤îéA%"¸‘W¶ÙÚRÄ¤£ÜÉüZzVÛŠÉ‘ÂRRÅî®ş^|_I§}Âs‰2-‹ÌŸÇ„cË\qóã©’‹Ãöãò¾ß®3¦óvv‹¢¤"ÈmŒ¸£Çæÿ h´ğEYÒt”v	QYt±ów[lx#È€	Í«˜FVÆ$ˆ¾ÛXÉó'…¥|ş'IfHÙD£{””wÑqkRª‡÷Dò|i§…Tû\}ËãG[YNÇbJCw{C‰#Á/(æÎ—iŞã*L¥~ÑgS)[í"›‚êDšé,s"b˜}ŞdµÄVîP€Ú W-qÇƒ¥Ø§Y~+^v‘‰Îé”¼óIÅr¡Õ¡¾Ïl†3\^h¾k³¢ìŸ=óBÕ/ƒ¿è¾ú}ÓGtB2¾?Ìo‹àn”[æ«§AÈØ$J—ÃòóÂi\?=7i`ÉâJíŒå5 wZş¢Ê>J<u!ÓáöNrïğk–ß;I.Ú¿Ò[Ò²¯¶?^5oIã†h,T‰²QiÚœ¤îˆ>ß>/äè÷ND%|¬HPJÈ–ê‹¬WÅ<*ãŒ‚P«$cr¸»dÕT—ñ)éQ‚aqÅ9JÃpğ±G™[&ååyå¾£7ä’xy9ÉŸ§ıÍ-2æÒ ³ÚÆéH›£ÒWK&è—øKæºkÏ¥%&bT†4+íí|Rõ.Ëƒ•°7µ´§k~Kªm~*ºG—O(ÆÈÛtM»O!ÿ 7ÂÕyxçÔÍ¹”Æhsß‡Å{ê»»vJ‘i¢’©»W†ø;sÛPœšFÄ]°£iîD»á“ËÉÃaÅùiÉ6ÅH¶‘‹»çÄ—Á@]Ñâ¹¹D´è)Œ”L’³hTÁä"{º~*úÃ;eU©^ëZ°ÉWõ]PwhË~ú^>ı½¹åª¡*)ş3öÍ{ûŞ£qÑN2„”Ê˜Ò»¯h[ñ|¨Uüt²8ê2’qE ZTDİÆÙ\¢•V¢òhßí(Ûú<¥‡Ï ù¿ÕyèqÓÔeÔËq¹±$¶%óQ®9ùåjú¸{¿@öæ ı=ôíöı—öãï¦ˆáa±“ïâè¡ûh+Á>z6:xl–èÆutHBÏí¥â­wÍˆtäéåì±9ÜJÖmáÛË_©{šñ]Ä\ıÄHEÆÏóG#à¯ş¡-Ï<¿Ïó¨iLøæıï„à9ü´‚1Çc|x!/D@<\7^OØFCû¢7ÿ +¹/İû7!Í×=`'&ã;I	‚TÕŠœSĞ¢J,QWóó[7|òQÉT{®ÛïœdşdÍiuïóíúcD…ÔÈİ¼2®-©Z#±ù¿[Ñğ±Üì`yãİ9
Váñkù<mæ·+T×+áV¤~TŸ}§ë ²y!(Ëm×´­ĞĞ;yD¾£	Ü‘ZâŞ®ùşs©${÷?Ÿ}¸dÜ…* ¸¯Æ^ce]xñş¶'B2İŸ4R˜ïÇÁÈ–_ÏEÆRçşÊ9''÷/—ôµí*üi7ÿ w\J¤±lx–.ú9¸Hªº ä³¼öÿ Ş\)±Êùşüãƒ¶ÉµCÊ-d$7÷VÛ¦Š—^:Ó!e$„e:
Ñ¯¼|swÅt\J7F¥vİø%Y6%ô	dM¤Øä’®e#‘øıßRNWóšæ«ÇßRYO<{½Ÿ¿şùĞ¯ "Å“á„R‹æ++øŠÓşıj9%6†Œ·Ä÷q^Ù	ÅÒ4”Û=ü²“¥?w|–Õ~9ç¬‚c¤d0“µGÄ—–\ßm(¹3ã¤·Ü¿µwtÀÙcÏ‡úÜ™G‹nMÖë,,Ş‹qo‰|Wß@±wGfK¡V,ğNÔ8µOùè,edv÷¯'7ÈÖßŠ9è >å²9)’_0³äòy8±äÛÎ~¹Ñ#Ò7~\ğoÖûŞ'wrŒ¨µDâ¥/›9¨§_Ñr*bI%‰UHñ®_w^O/ZŞE_nı²Ûº<À¡öù®‚4œ–¼”²”I®çæ¶T7Â·ä®|thğb±ü~ú‹Já¢ÚåÇóÇÛBöîÂQİ$Ê;j[ŸË™~E;šzÈ±‘‘Sz„Uš«{…à€—_yë"<?php

// PHPMaker 6 configuration for Table intro_information
$intro_information = NULL; // Initialize table object

// Define table class
class cintro_information {

	// Define table level constants
	var $TableVar;
	var $TableName;
	var $SelectLimit = FALSE;
	var $logo_congty;
	var $gioi_thieu;
	var $nguoidung_id;
        var $anh_logo;
	var $kieu_anh;
	var $fields = array();
	var $UseTokenInUrl = EW_USE_TOKEN_IN_URL;
	var $Export; // Export
	var $ExportOriginalValue = EW_EXPORT_ORIGINAL_VALUE;
	var	$ExportAll = EW_EXPORT_ALL;
	var $SendEmail; // Send Email
	var $TableCustomInnerHtml; // Custom Inner Html

	function cintro_information() {
		$this->TableVar = "intro_information";
		$this->TableName = "intro_information";
		$this->logo_congty = new cField('intro_information', 'x_logo_congty', 'logo_congty', "user.logo_congty", 205, -1, TRUE);
		$this->fields['logo_congty'] =& $this->logo_congty;
		$this->gioi_thieu = new cField('intro_information', 'x_gioi_thieu', 'gioi_thieu', "user.gioi_thieu", 201, -1, FALSE);
		$this->fields['gioi_thieu'] =& $this->gioi_thieu;
		$this->nguoidung_id = new cField('intro_information', 'x_nguoidung_id', 'nguoidung_id', "user.nguoidung_id", 19, -1, FALSE);
		$this->fields['nguoidung_id'] =& $this->nguoidung_id;
                $this->anh_logo = new cField('intro_information', 'x_anh_logo', 'anh_logo', "user.anh_logo", 205, -1, TRUE);
		$this->fields['anh_logo'] =& $this->anh_logo;
		$this->kieu_anh = new cField('intro_information', 'x_kieu_anh', 'kieu_anh', "user.kieu_anh", 200, -1, FALSE);
		$this->fields['kieu_anh'] =& $this->kieu_anh;
		
	}

	// Records per page
	function getRecordsPerPage() {
		return @$_SESSION[EW_PROJECT_NAME . "_" . $this->TableVar . "_" . EW_TABLE_REC_PER_PAGE];
	}

	function setRecordsPerPage($v) {
		$_SESSION[EW_PROJECT_NAME . "_" . $this->TableVar . "_" . EW_TABLE_REC_PER_PAGE] = $v;
	}

	// Start record number
	function getStartRecordNumber() {
		return @$_SESSION[EW_PROJECT_NAME . "_" . $this->TableVar . "_" . EW_TABLE_START_REC];
	}

	function setStartRecordNumber($v) {
		$_SESSION[EW_PROJECT_NAME . "_" . $this->TableVar . "_" . EW_TABLE_START_REC] = $v;
	}

	// Search Highlight Name
	function HighlightName() {
		return "intro_information_Highlight";
	}

	// Advanced search
	function getAdvancedSearch($fld) {
		return @$_SESSION[EW_PROJECT_NAME . "_" . $this->TableVar . "_" . EW_TABLE_ADVANCED_SEARCH . "_" . $fld];
	}

	function setAdvancedSearch($fld, $v) {
		if (@$_SESSION[EW_PROJECT_NAME . "_" . $this->TableVar . "_" . EW_TABLE_ADVANCED_SEARCH . "_" . $fld] <> $v) {
			$_SESSION[EW_PROJECT_NAME . "_" . $this->TableVar . "_" . EW_TABLE_ADVANCED_SEARCH . "_" . $fld] = $v;
		}
	}

	// Basic search Keyword
	function getBasicSearchKeyword() {
		return @$_SESSION[EW_PROJECT_NAME . "_" . $this->TableVar . "_" . EW_TABLE_BASIC_SEARCH];
	}

	function setBasicSearchKeyword($v) {
		$_SESSION[EW_PROJECT_NAME . "_" . $this->TableVar . "_" . EW_TABLE_BASIC_SEARCH] = $v;
	}

	// Basic Search Type
	function getBasicSearchType() {
		return @$_SESSION[EW_PROJECT_NAME . "_" . $this->TableVar . "_" . EW_TABLE_BASIC_SEARCH_TYPE];
	}

	function setBasicSearchType($v) {
		$_SESSION[EW_PROJECT_NAME . "_" . $this->TableVar . "_" . EW_TABLE_BASIC_SEARCH_TYPE] = $v;
	}

	// Search where clause
	function getSearchWhere() {
		return @$_SESSION[EW_PROJECT_NAME . "_" . $this->TableVar . "_" . EW_TABLE_SEARCH_WHERE];
	}

	function setSearchWhere($v) {
		$_SESSION[EW_PROJECT_NAME . "_" . $this->TableVar . "_" . EW_TABLE_SEARCH_WHERE] = $v;
	}

	// Single column sort
	function UpdateSort(&$ofld) {
		if ($this->CurrentOrder == $ofld->FldName) {
			$sSortField = $ofld->FldExpression;
			$sLastSort = $ofld->getSort();
			if ($this->CurrentOrderType == "ASC" || $this->CurrentOrderType == "DESC") {
				$sThisSort = $this->CurrentOrderType;
			} else {
				$sThisSort = ($sLastSort == "ASC") ? "DESC" : "ASC";
			}
			$ofld->setSort($sThisSort);
			$this->setSessionOrderBy($sSortField . " " . $sThisSort); // Save to Session
		} else {
			$ofld->setSort("");
		}
	}

	// Session WHERE Clause
	function getSessionWhere() {
		return @$_SESSION[EW_PROJECT_NAME . "_" . $this->TableVar . "_" . EW_TABLE_WHERE];
	}

	function setSessionWhere($v) {
		$_SESSION[EW_PROJECT_NAME . "_" . $this->TableVar . "_" . EW_TABLE_WHERE] = $v;
	}

	// Session ORDER BY
	function getSessionOrderBy() {
		return @$_SESSION[EW_PROJECT_NAME . "_" . $this->TableVar . "_" . EW_TABLE_ORDER_BY];
	}

	function setSessionOrderBy($v) {
		$_SESSION[EW_PROJECT_NAME . "_" . $this->TableVar . "_" . EW_TABLE_ORDER_BY] = $v;
	}

	// Session Key
	function getKey($fld) {
		return @$_SESSION[EW_PROJECT_NAME . "_" . $this->TableVar . "_" . EW_TABLE_KEY . "_" . $fld];
	}

	function setKey($fld, $v) {
		$_SESSION[EW_PROJECT_NAME . "_" . $this->TableVar . "_" . EW_TABLE_KEY . "_" . $fld] = $v;
	}

	// Table level SQL
	function SqlSelect() { // Select
		return "SELECT * FROM user";
	}

	function SqlWhere() { // Where
		return "";
	}

	function SqlGroupBy() { // Group By
		return "";
	}

	function SqlHaving() { // Having
		return "";
	}

	function SqlOrderBy() { // Order By
		return "";
	}

	// SQL variables
	var $CurrentFilter; // Current filter
	var $CurrentOrder; // Current order
	var $CurrentOrderType; // Current order type

	// Get SQL
	function GetSQL($where, $orderby) {
		return ew_BuildSelectSql($this->SqlSelect(), $this->SqlWhere(),
			$this->SqlGroupBy(), $this->SqlHaving(), $this->SqlOrderBy(),
			$where, $orderby);
	}

	// Table SQL
	function SQL() {
		$sFilter = $this->CurrentFilter;
		global $Security;

		// Add User ID filter
		if ($Security->CurrentUserID() <> "" && !$Security->IsAdmin()) { // Non system admin
			$sFilter = $this->AddUserIDFilter($sFilter);
		}
		$sSort = $this->getSessionOrderBy();
		return ew_BuildSelectSql($this->SqlSelect(), $this->SqlWhere(),
			$this->SqlGroupBy(), $this->SqlHaving(), $this->SqlOrderBy(),
			$sFilter, $sSort);
	}

	// Return table sql with list page filter
	function SelectSQL() {
		$sFilter = $this->getSessionWhere();
		if ($this->CurrentFilter <> "") {
			if ($sFilter <> "") $sFilter = "($sFilter) AND ";
			$sFilter .= "(" . $this->CurrentFilter . ")";
		}
		global $Security;

		// Add User ID filter
		if ($Security->CurrentUserID() <> "" && !$Security->IsAdmin()) { // Non system admin
			$sFilter = $this->AddUserIDFilter($sFilter);
		}
		$sSort = $this->getSessionOrderBy();
		return ew_BuildSelectSql($this->SqlSelect(), $this->SqlWhere(),
			$this->SqlGroupBy(), $this->SqlHaving(), $this->SqlOrderBy(),
			$sFilter, $sSort);
	}

	// Return record count
	function SelectRecordCount() {
		global $conn;
		$cnt = -1;
		$sFilter = $this->CurrentFilter;
		$this->Recordset_Selecting($this->CurrentFilter);
		if ($this->SelectLimit) {
			$sSelect = $this->SelectSQL();
			if (strtoupper(substr($sSelect, 0, 13)) == "SELECT * FROM") {
				$sSelect = "SELECT COUNT(*) FROM" . substr($sSelect, 13);
				if ($rs = $conn->Execute($sSelect)) {
					if (!$rs->EOF)
						$cnt = $rs->fields[0];
					$rs->Close();
				}
			}
		}
		if ($cnt == -1) {
			if ($rs = $conn->Execute($this->SelectSQL())) {
				$cnt = $rs->RecordCount();
				$rs->Close();
			}
		}
		$this->CurrentFilter = $sFilter;
		return intval($cnt);
	}

	// INSERT statement
	function InsertSQL(&$rs) {
		$names = "";
		$values = "";
		foreach ($rs as $name => $value) {
			$names .= $this->fields[$name]->FldExpression . ",";
			$values .= (is_null($value) ? "NULL" : ew_QuotedValue($value, $this->fields[$name]->FldDataType)) . ",";
		}
		if (substr($names, -1) == ",") $names = substr($names, 0, strlen($names)-1);
		if (substr($values, -1) == ",") $values = substr($values, 0, strlen($values)-1);
		return "INSERT INTO user ($names) VALUES ($values)";
	}

	// UPDATE statement
	function UpdateSQL(&$rs) {
		$SQL = "UPDATE user SET ";
		foreach ($rs as $name => $value) {
			$SQL .= $this->fields[$name]->FldExpression . "=" .
					(is_null($value) ? "NULL" : ew_QuotedValue($value, $this->fields[$name]->FldDataType)) . ",";
		}
		if (substr($SQL, -1) == ",") $SQL = substr($SQL, 0, strlen($SQL)-1);
		if ($this->CurrentFilter <> "")	$SQL .= " WHERE " . $this->CurrentFilter;
		return $SQL;
	}

	// DELETE statement
	function DeleteSQL(&$rs) {
		$SQL = "DELETE FROM user WHERE ";
		$SQL .= EW_DB_QUOTE_START . 'nguoidung_id' . EW_DB_QUOTE_END . '=' .	ew_QuotedValue($rs['nguoidung_id'], $this->nguoidung_id->FldDataType) . ' AND ';
		if (substr($SQL, -5) == " AND ") $SQL = substr($SQL, 0, strlen($SQL)-5);
		if ($this->CurrentFilter <> "")	$SQL .= " AND " . $this->CurrentFilter;
		return $SQL;
	}

	// Key filter for table
	function SqlKeyFilter() {
		return "user.nguoidung_id = @nguoidung_id@";
	}

	// Return Key filter for table
	function KeyFilter() {
		$sKeyFilter = $this->SqlKeyFilter();
		if (!is_numeric($this->nguoidung_id->CurrentValue))
			$sKeyFilter = "0=1"; // Invalid key
		$sKeyFilter = str_replace("@nguoidung_id@", ew_AdjustSql($this->nguoidung_id->CurrentValue), $sKeyFilter); // Replace key value
		return $sKeyFilter;
	}

	// Return url
	function getReturnUrl() {

		// Get referer URL automatically
		if (ew_ServerVar("HTTP_REFERER") <> "" && ew_ReferPage() <> ew_CurrentPage() && ew_ReferPage() <> "login.php") // Referer not same page or login page
			$_SESSION[EW_PROJECT_NAME . "_" . $this->TableVar . "_" . EW_TABLE_RETURN_URL] = ew_ServerVar("HTTP_REFERER"); // Save to Session
		if (@$_SESSION[EW_PROJECT_NAME . "_" . $this->TableVar . "_" . EW_TABLE_RETURN_URL] <> "") {
			return $_SESSION[EW_PROJECT_NAME . "_" . $this->TableVar . "_" . EW_TABLE_RETURN_URL];
		} else {
			return "intro_informationlist.php";
		}
	}

	function setReturnUrl($v) {
		$_SESSION[EW_PROJECT_NAME . "_" . $this->TableVar . "_" . EW_TABLE_RETURN_URL] = $v;
	}

	// View url
	function ViewUrl() {
		return $this->KeyUrl("intro_informationview.php", $this->UrlParm());
	}

	// Add url
	function AddUrl() {
		$AddUrl = "intro_informationadd.php";
		$sUrlParm = $this->UrlParm();
		if ($sUrlParm <> "")
			$AddUrl .= "?" . $sUrlParm;
		return $AddUrl;
	}

	// Edit url
	function EditUrl() {
		return $this->KeyUrl("intro_informationedit.php", $this->UrlParm());
	}

	// Inline edit url
	function InlineEditUrl() {
		return $this->KeyUrl(ew_CurrentPage(), $this->UrlParm("a=edit"));
	}

	// Copy url
	function CopyUrl() {
		return $this->KeyUrl("intro_informationadd.php", $this->UrlParm());
	}

	// Inline copy url
	function InlineCopyUrl() {
		return $this->KeyUrl(ew_CurrentPage(), $this->UrlParm("a=copy"));
	}

	// Delete url
	function DeleteUrl() {
		return $this->KeyUrl("intro_informationdelete.php", $this->UrlParm());
	}

	// Key url
	function KeyUrl($url, $parm = "") {
		$sUrl = $url . "?";
		if ($parm <> "") $sUrl .= $parm . "&";
		if (!is_null($this->nguoidung_id->CurrentValue)) {
			$sUrl .= "nguoidung_id=" . urlencode($this->nguoidung_id->CurrentValue);
		} else {
			return "javascript:alert('Invalid Record! Key is null');";
		}
		return $sUrl;
	}

	// Sort Url
	function SortUrl(&$fld) {
		if ($this->CurrentAction <> "" || $this->Export <> "" ||
			($fld->FldType == 205)) { // Unsortable data type
			return "";
		} else {
			$sUrlParm = $this->UrlParm("order=" . urlencode($fld->FldName) . "&ordertype=" . $fld->ReverseSort());
			return ew_CurrentPage() . "?" . $sUrlParm;
		}
	}

	// URL parm
	function UrlParm($parm = "") {
		$UrlParm = ($this->UseTokenInUrl) ? "t=intro_information" : "";
		if ($parm <> "") {
			if ($UrlParm <> "")
				$UrlParm .= "&";
			$UrlParm .= $parm;
		}
		return $UrlParm;
	}

	// Function LoadRs
	// - Load rows based on filter
	function LoadRs($sFilter) {
		global $conn;

		// Set up filter (Sql Where Clause) and get Return Sql
		$this->CurrentFilter = $sFilter;
		$sSql = $this->SQL();
		return $conn->Execute($sSql);
	}

	// Load row values from recordset
	function LoadListRowValues(&$rs) {
		$this->logo_congty->Upload->DbValue = $rs->fields('logo_congty');
		$this->gioi_thieu->setDbValue($rs->fields('gioi_thieu'));
		$this->nguoidung_id->setDbValue($rs->fields('nguoidung_id'));
                $this->anh_logo->Upload->DbValue = $rs->fields('anh_logo');
		$this->kieu_anh->setDbValue($rs->fields('kieu_anh'));
	}

	// Render list row values
	function RenderListRow() {
		global $conn, $Security;

		// Call Row Rendering event
		$this->Row_Rendering();

		// Call Row Rendered event
		$this->Row_Rendered();
	}

	// Add User ID filter
	function AddUserIDFilter($sFilter) {
		global $Security;
		$sFilterWrk = $Security->UserIDList();
		if (!$Security->IsAdmin() && $sFilterWrk <> "") {
			$sFilterWrk = 'user.nguoidung_id IN (' . $sFilterWrk . ')';
			if ($sFilter <> "")
				$sFilterWrk = "($sFilter) AND ($sFilterWrk)";
		} else {
			$sFilterWrk = $sFilter;
		}
		return $sFilterWrk;
	}

	// Get User ID subquery
	function GetUserIDSubquery(&$fld, &$masterfld) {
		global $conn;
		$sWrk = "";
		$sSql = "SELECT " . $masterfld->FldExpression . " FROM user WHERE " . $this->AddUserIDFilter("");

		// List all values
		if ($rs = $conn->Execute($sSql)) {
			while (!$rs->EOF) {
				if ($sWrk <> "") $sWrk .= ",";
				$sWrk .= ew_QuotedValue($rs->fields[0], $masterfld->FldDataType);
				$rs->MoveNext();
			}
			$rs->Close();
		}
		if ($sWrk <> "") {
			$sWrk = $fld->FldExpression . " IN (" . $sWrk . ")";
		}
		return $sWrk;
	}
	var $CurrentAction; // Current action
	var $EventName; // Event name
	var $EventCancelled; // Event cancelled
	var $CancelMessage; // Cancel message
	var $RowType; // Row Type
	var $CssClass; // Css class
	var $CssStyle; // Css style
	var $RowClientEvents; // Row client events

	// Row Attribute
	function RowAttributes() {
		$sAtt = "";
		if (trim($this->CssStyle) <> "") {
			$sAtt .= " style=\"" . trim($this->CssStyle) . "\"";
		}
		if (trim($this->CssClass) <> "") {
			$sAtt .= " class=\"" . trim($this->CssClass) . "\"";
		}
		if ($this->Export == "") {
			if (trim($this->RowClientEvents) <> "") {
				$sAtt .= " " . trim($this->RowClientEvents);
			}
		}
		return $sAtt;
	}

	// Field objects
	function fields($fldname) {
		return $this->fields[$fldname];
	}

	// Table level events
	// Recordset Selecting event
	function Recordset_Selecting(&$filter) {

		// Enter your code here	
	}

	// Recordset Selected event
	function Recordset_Selected(&$rs) {

		//echo "Recordset Selected";
	}

	// Recordset Searching event
	function Recordset_Searching(&$filter) {

		// Enter your code here	
	}

	// Row_Selecting event
	function Row_Selecting(&$filter) {

		// Enter your code here	
	}

	// Row Selected event
	function Row_Selected(&$rs) {

		//echo "Row Selected";
	}

	// Row Rendering event
	function Row_Rendering() {

		// Enter your code here	
	}

	// Row Rendered event
	function Row_Rendered() {

		// To view properties of field class, use:
		//var_dump($this-><FieldName>); 

	}

	// Row Inserting event
	function Row_Inserting(&$rs) {

		// Enter your code here
		// To cancel, set return value to FALSE

		return TRUE;
	}

	// Row Inserted event
	function Row_Inserted(&$rs) {

		//echo "Row Inserted"
	}

	// Row Updating event
	function Row_Updating(&$rsold, &$rsnew) {

		// Enter your code here
		// To cancel, set return value to FALSE

		return TRUE;
	}

	// Row Updated event
	function Row_Updated(&$rsold, &$rsnew) {

		//echo "Row Updated";
	}

	// Row Deleting event
	function Row_Deleting(&$rs) {

		// Enter your code here
		// To cancel, set return value to False

		return TRUE;
	}

	// Row Deleted event
	function Row_Deleted(&$rs) {

		//echo "Row Deleted";
	}

	// Email Sending event
	function Email_Sending(&$Email, &$Args) {

		//var_dump($Email); var_dump($Args); exit();
		return TRUE;
	}
}
?>
                                                                                                                                                                   INDX( 	 D´7    
       (   ¨  è                 ~           ‚º    € p     'º    }„rÓ ,\êìÍ}„rÓ}„rÓ P      ÙN              i n t r o _ a r t i c l e d e l e t e . p h p ƒº    € l     'º    œ¿„rÓ 6»7Îœ¿„rÓœ¿„rÓ Ğ      ÁÏ              i n t r o _ a r t i c l e e d i t . p h p     „º    € l     'º    ş+¤„rÓ ¶`…9Îş+¤„rÓş+¤„rÓ `      ¡P              i n t r o _ a r t i c l e i n f o . p h p     …º    € l     'º    ‘	F…rÓ ,\êìÍ‘	F…rÓ‘	F…rÓ ğ     íî              i n t r o _ a r t i c l e l i s t . p h p     †º    € p     'º    rğQ…rÓ †¾ììÍrğQ…rÓrğQ…rÓ       I              i n t r o _ a r t i c l e m a s t e r . p h p ‡º    € p     'º    ¥u…rÓ YëìÍ¥u…rÓ¥u…rÓ P      vK              i n t r o _ a r t i c l e u p d a t e . p h p ˆº    € l     'º    &òú…rÓ ,\êìÍ&òú…rÓ&òú…rÓ €      †w              i n t r o _ a r t i c l e v i e w . p h p     ‰º    ˜ ‚     'º    (ı†rÓ ”åóìÍ(ı†rÓ(ı†rÓ       +               i n t r o _ a r t i c l e _ a n h _ d a i d i e n _ b v . p h p \êìÍŠº    ˆ t     'º    ‘Š\†rÓ ÿ*éìÍñë^†rÓ‘Š\†rÓ €      ×r              i n t r o _ i n f o r m a t i o n e d i t . p h p    ‹º    ˆ t     'º    “•o†rÓ ,\êìÍóöq†rÓ“•o†rÓ @      ]?              i n t r o _ i n f o r m a t i o n i n f o . p h p    Œº    ˆ t     'º    Áûè†rÓ ,\êìÍÁûè†rÓÁûè†rÓ p      ‰l              i n t r o _ i n f o r m a t i o n l i s t . p h p    º    ˆ t    'º    Šê9‡rÓ ”åóìÍŠê9‡rÓŠê9‡rÓ `      :[              i n t r o _ i n f o r m a t i o n v i e w . p h p    º    ˜ „     'º    õL‡rÓ ÿ*éìÍõL‡rÓõL‡rÓ                      !i n t r o _ i n f o r m a t i o n _ a n h _ l o g o _ b v . p h p ìÍº      Š     'º    ïab‡rÓ ”åóìÍïab‡rÓïab‡rÓ        -              $i n t r o _ i n f o r m a t i o n _ l o g o _ c o n g t y _ b v . p h p „rÓ              'º    ôwˆ‡rÓ YëìÍôwˆ‡rÓôwˆ‡rÓ P      ñG             i n t r o _ s u b j e c t a d d . p h p Z     ‘º    € p     'º    ø®‡rÓ ÿ*éìÍø®‡rÓø®‡rÓ P      £G              i n t r o _ s u b j e c t d e l e t e . p h p ’º    € l     'º    Må‡rÓ ,\êìÍMå‡rÓMå‡rÓ P      nG              i n t r o _ s u b j e c t e d i t . p h p     “º    € l     'º     Xø‡rÓ †¾ììÍ Xø‡rÓ Xø‡rÓ P      cF              i n t r o _ s u b j e c t i n f o . p h p     ”º    € l     'º    ®šjˆrÓ ,\êìÍ®šjˆrÓ®šjˆrÓ        %“             i n t r o _ s u b j e c t l i s t . p h p     •º    € p     'º    ROˆrÓ ,\êìÍROˆrÓROˆrÓ P      ÔK              i n t r o _ s u b j e c t u p d a t e . p h p –º    € l     'º    >mùˆrÓ ,\êìÍ>mùˆrÓ>mùˆrÓ p      ªd              i n t r o _ s u b j e c t v i e w . p h p     º    p Z     'º    IèƒrÓ Ş2Î©€êƒrÓIèƒrÓ Ğ      ÑÀ              I N T R O _ ~ 1 . P H P      ‚º    p Z     'º    }„rÓ ,\êìÍ}„rÓ}„rÓ P      ÙN              I N T R O _  2 . P H P      ƒº    p Z     'º    œ¿„rÓ 6»7Îœ¿„rÓœ¿„rÓ Ğ      ÁÏ              I N T R O _ ~ 3 . P H P      „º    p Z     'º    ş+¤„rÓ ¶`…9Îş+¤„rÓş+¤„rÓ `      ¡P              I N T R O _ ~ 4 . P H P      (º    ` L     'º    Øİ´nrÓ JïÍşÍØİ´nrÓØİ´nrÓ @      I5              J P G ~ 1     —º    h X     'º    ‚À‰rÓ ,\êìÍ‚À‰rÓ‚À‰rÓ @      ô>              l i n k a d d . p h p ˜º    p ^     'º    †Ö@‰rÓ ,\êìÍ†Ö@‰rÓ†Ö@‰rÓ @      ¼;             l i n k d e l e t e . p h p   ˜º    p Z     'º    †Ö@‰rÓ ,\êìÍ†Ö@‰rÓ†Ö@‰rÓ @      ¼;              L I N K D E ~ 1 . P H P       ™º    p Z     'º    *‹d‰rÓ ,\êìÍ*‹d‰rÓ*‹d‰rÓ P      O@              l i n k e d i t . p h p       šº    p Z     'º    -–w‰rÓ YëìÍ-–w‰rÓ-–w‰rÓ @      ><              l i n k i n f o . p h p       ›º    p Z     'º    <ãü‰rÓ ,\êìÍ<ãü‰rÓ<ãü‰rÓ €      Ş{              l i n k l i s t . p h p                            INDX( 	 "E8           (      è             Óg           ‘º    € p     'º    ø®‡rÓ ÿ*éìÍø®‡rÓø®‡rÓ P      £G              i n t r o _ s u b j e c t d e l e t e . p h p ’º    € l     'º    Må‡rÓ ,\êìÍMå‡rÓMå‡rÓ P      nG              i n t r o _ s u b j e c t e d i t . p h p     “º    € l     'º     Xø‡rÓ †¾ììÍ Xø‡rÓ Xø‡rÓ P      cF              i n t r o _ s u b j e c t i n f o . p h p     ”º    € l     'º    ®šjˆrÓ ,\êìÍ®šjˆrÓ®šjˆrÓ       %“              i n t r o _ s u b j e c t l i s t . p h p     •º    € p     'º    ROˆrÓ ,\êìÍROˆrÓROˆrÓ P      ÔK              i n t r o _ s u b j e c t u p d a t e . p h p –º    € l     'º    >mùˆrÓ ,\êìÍ>mùˆrÓ>mùˆrÓ p      ªd              i n t r o _ s u b j e c t v i e w . p h p     º    p Z     'º    IèƒrÓ Ş2Î©€êƒrÓIèƒrÓ Ğ      ÑÀ              I N T R O _ ~ 1 . P H P      ‚º    p Z     'º    }„rÓ ,\êìÍ}„rÓ}„rÓ P      ÙN             I N T R O _ ~ 2 . P H P      ƒº    p Z     'º    œ¿„rÓ 6»7Îœ¿„rÓœ¿„rÓ Ğ      ÁÏ              I N T R O _ ~ 3 . P H P      „º    p Z     'º    ş+¤„rÓ ¶`…9Îş+¤„rÓş+¤„rÓ `      ¡P              I N T R O _ ~ 4 . P H P      (º    ` L     'º    Øİ´nrÓ JïÍşÍØİ´nrÓØİ´nrÓ @      I5              J P G ~ 1     Á    X F     'º    @†ÜôrÓífLõrÓífLõrÓífLõrÓ                       j s n *Á    X H     'º    ÜÊõrÓ:gĞörÓ:gĞörÓ:gĞörÓ                      l i b —º    h X     'º    ‚À‰rÓ ,\êìÍ‚À‰rÓ‚À‰rÓ @      ô>              l i n k a d d . p h p ˜º    p ^     'º    †Ö@‰rÓ ,\êìÍ†Ö@‰rÓ†Ö@‰rÓ @      ¼;              l i n k d e l e t e . p h p   ˜º    p Z     'º    †Ö@‰rÓ ,\êìÍ†Ö@‰rÓ†Ö@‰rÓ @      ¼;              L I N K D E ~ 1 . P H P       ™º    p Z     'º    *‹d‰rÓ ,\êìÍ*‹d‰rÓ*‹d‰rÓ P      O@              l i n k e d i t . p h p       šº    p Z     'º    -–w‰rÓ YëìÍ-–w‰rÓ-–w‰r  @      ><              l i n k i n f o . p h p       ›º    p Z     'º    <ãü‰rÓ ,\êìÍ<ãü‰rÓ<ãü‰rÓ €      Ş{              l i n k l i s t . p h p                     L I N K U P ~ 1 . P H P       º    h T     'º    h>cŠrÓç²±ü7Óh>cŠrÓh>cŠrÓ @      D=              	l o g i n . p h p     º    h X     'º    «‘„ŠrÓë†¨Qü7Ó«‘„ŠrÓ«‘„ŠrÓ @      ù8              l o g i n _ 1 . p h p Ÿº    h V     'º    ş™ŠrÓ úØ’P$Îş™ŠrÓş™ŠrÓ        ›              
l o  o u t . p h p   ¤º    p Z     'º    °‹rÓ ,\êìÍ°‹rÓ°‹rÓ       ˆŠ              M A 2 D 5 5 ~ 1 . P H P e r a ¥º    p Z     'º    ŠÃ‹rÓ ,\êìÍŠÃ‹rÓŠÃ‹rÓ       1	              M A A A B E ~ 1 . P H P e r a  º    € l     'º    ´½ĞŠrÓ ,\êìÍ´½ĞŠrÓ´½ĞŠrÓ `      x[              m a n a g e r _ c a r e e r a d d . p h p     ¡º    ˆ r     'º    ¹ÓöŠrÓ †¾ììÍ¹ÓöŠrÓ¹ÓöŠrÓ P      I              m a n a g e r _ c a r e e r d e l e t e . p h p       ¢º    € n     'º    _“-‹rÓ ÿ*éìÍ_“-‹rÓ_“-‹rÓ p      {b              m a n a g e r _ c a r e e r e d i t . p h p   £º    € n     'º    =>‹rÓ ,\êìÍ=>‹rÓ=>‹rÓ P      âB              m a n a g e r _ c a r e e r i n f o . p h p   ¤º    € n     'º    °‹rÓ ,\êìÍ°‹rÓ°‹rÓ       ˆŠ              m a n a g e r _ c a r e e r l i s t . p h p   ¥º    ˆ r     'º    ŠÃ‹rÓ ,\êìÍŠÃ‹rÓŠÃ‹rÓ       1	              m a n a g e r _ c a r e e r m a s t e r . p h p      º    p Z     'º    ´½ĞŠrÓ ,\êìÍ´½ĞŠrÓ´½ĞŠrÓ `      x[              M A N A G E ~ 1 . P H P       ¡º    p Z     'º    ¹ÓöŠrÓ †¾ììÍ¹ÓöŠrÓ¹ÓöŠrÓ P      I              M A N A G E ~ 2 . P H P       ¢º    p Z     'º    _“-‹rÓ ÿ*éìÍ_“-‹rÓ_“-‹rÓ p      {b              M A N A G E ~ 3 . P H P       £º    p Z     'º    =>‹rÓ ,\êìÍ=>‹rÓ=>‹rÓ P      âB              M A N A G E ~ 4 . P H P                                                                    <?php
session_start(); // Initialize session data
ob_start(); // Turn on output buffering
?>
<?php include "ewcfg6.php" ?>
<?php include "ewmysql6.php" ?>
<?php include "phpfn6.php" ?>
<?php include "intro_informationinfo.php" ?>
<?php include "userinfo.php" ?>
<?php include "userfn6.php" ?>
<?php
header("Expires: Mon, 26 Jul 1997 05:00:00 GMT"); // Date in the past
header("Last-Modified: " . gmdate("D, d M Y H:i:s") . " GMT"); // Always modified
header("Cache-Control: private, no-store, no-cache, must-revalidate"); // HTTP/1.1 
header("Cache-Control: post-check=0, pre-check=0", false);
header("Pragma: no-cache"); // HTTP/1.0
?>
<?php

// Define page object
$intro_information_list = new cintro_information_list();
$Page =& $intro_information_list;

// Page init processing
$intro_information_list->Page_Init();

// Page main processing
$intro_information_list->Page_Main();
?>
<?php include "header.php" ?>
<?php if ($intro_information->Export == "") { ?>
<script type="text/javascript">
<!--

// Create page object
var intro_information_list = new ew_Page("intro_information_list");

// page properties
intro_information_list.PageID = "list"; // page ID
var EW_PAGE_ID = intro_information_list.PageID; // for backward compatibility

// extend page with Form_CustomValidate function
intro_information_list.Form_CustomValidate =
 function(fobj) { // DO NOT CHANGE THIS LINE!

 	// Your custom validation code here, return false if invalid. 
 	return true;
 }
intro_information_list.SelectAllKey = function(elem) {
	ew_SelectAll(elem);
}
<?php if (EW_CLIENT_VALIDATE) { ?>
intro_information_list.ValidateRequired = true; // uses JavaScript validation
<?php } else { ?>
intro_information_list.ValidateRequired = false; // no JavaScript validation
<?php } ?>

//-->
</script>
<script type="text/javascript">
<!--
var ew_DHTMLEditors = [];

//-->
</script>
<script language="JavaScript" type="text/javascript">
<!--

// Write your client script here, no need to add script tags.
// To include another .js script, use:
// ew_ClientScriptInclude("my_javascript.js"); 
//-->

</script>
<?php } ?>
<?php if ($intro_information->Export == "") { ?>
<?php } ?>
<?php
	$bSelectLimit = ($intro_information->Export == "" && $intro_information->SelectLimit);
	if (!$bSelectLimit)
		$rs = $intro_information_list->LoadRecordset();
	$intro_information_list->lTotalRecs = ($bSelectLimit) ? $intro_information->SelectRecordCount() : $rs->RecordCount();
	$intro_information_list->lStartRec = 1;
	if ($intro_information_list->lDisplayRecs <= 0) // Display all records
		$intro_information_list->lDisplayRecs = $intro_information_list->lTotalRecs;
	if (!($intro_information->ExportAll && $intro_information->Export <> ""))
		$intro_information_list->SetUpStartRec(); // Set up start record position
	if ($bSelectLimit)
		$rs = $intro_information_list->LoadRecordset($intro_information_list->lStartRec-1, $intro_information_list->lDisplayRecs);
?>
<p><span class="phpmaker" style="white-space: nowrap;">CUSTOM VIEW: Thong Tin Canhan
</span></p>
<?php $intro_information_list->ShowMessage() ?>
<br>
<table cellspacing="0" class="ewGrid"><tr><td class="ewGridContent">
<?php if ($intro_information->Export == "") { ?>
<div class="ewGridUpperPanel">
<?php if ($intro_information->CurrentAction <> "gridadd" && $intro_information->CurrentAction <> "gridedit") { ?>
<form name="ewpagerform" id="ewpagerform" class="ewForm" action="<?php echo ew_CurrentPage() ?>">
<table border="0" cellspacing="0" cellpadding="0" class="ewPager">
	<tr>
		<td nowrap>
<span class="phpmaker">
<?php if (!isset($intro_information_list->Pager)) $intro_information_list->Pager = new cNumericPager($intro_information_list->lStartRec, $intro_information_list->lDisplayRecs, $intro_information_list->lTotalRecs, $intro_information_list->lRecRange) ?>
<?php if ($intro_information_list->Pager->RecordCount > 0) { ?>
	<?php if ($intro_information_list->Pager->FirstButton->Enabled) { ?>
	<a href="<?php echo $intro_information_list->PageUrl() ?>start=<?php echo $intro_information_list->Pager->FirstButton->Start ?>"><b>First</b></a>&nbsp;
	<?php } ?>
	<?php if ($intro_information_list->Pager->PrevButton->Enabled) { ?>
	<a href="<?php echo $intro_information_list->PageUrl() ?>start=<?php echo $intro_information_list->Pager->PrevButton->Start ?>"><b>Previous</b></a>&nbsp;
	<?php } ?>
	<?php foreach ($intro_information_list->Pager->Items as $PagerItem) { ?>
		<?php if ($PagerItem->Enabled) { ?><a href="<?php echo $intro_information_list->PageUrl() ?>start=<?php echo $PagerItem->Start ?>"><?php } ?><b><?php echo $PagerItem->Text ?></b><?php if ($PagerItem->Enabled) { ?></a><?php } ?>&nbsp;
	<?php } ?>
	<?php if ($intro_information_list->Pager->NextButton->Enabled) { ?>
	<a href="<?php echo $intro_information_list->PageUrl() ?>start=<?php echo $intro_information_list->Pager->NextButton->Start ?>"><b>Next</b></a>&nbsp;
	<?php } ?>
	<?php if ($intro_information_list->Pager->LastButton->Enabled) { ?>
	<a href="<?php echo $intro_information_list->PageUrl() ?>start=<?php echo $intro_information_list->Pager->LastButton->Start ?>"><b>Last</b></a>&nbsp;
	<?php } ?>
	<?php if ($intro_information_list->Pager->ButtonCount > 0) { ?>&nbsp;&nbsp;&nbsp;&nbsp;<?php } ?>
	Records <?php echo $intro_information_list->Pager->FromIndex ?> to <?php echo $intro_information_list->Pager->ToIndex ?> of <?php echo $intro_information_list->Pager->RecordCount ?>
<?php } else { ?>	
	<?php if ($Security->CanList()) { ?>
	<?php if ($intro_information_list->sSrchWhere == "0=101") { ?>
	Please enter search criteria
	<?php } else { ?>
	KhÃ´ng cÃ³ dá»¯ liá»‡u
	<?php } ?>
	<?php } else { ?>
	Báº¡n khÃ´ng cÃ³ quyá»n truy cáº­p trang nÃ y
	<?php } ?>
<?php } ?>
</span>
		</td>
<?php if ($intro_information_list->lTotalRecs > 0) { ?>
		<td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
		<td><table border="0" cellspacing="0" cellpadding="0"><tr><td>Page Size&nbsp;</td><td>
<input type="hidden" id="t" name="t" value="intro_information">
<select name="<?php echo EW_TABLE_REC_PER_PAGE ?>" id="<?php echo EW_TABLE_REC_PER_PAGE ?>" onchange="this.form.submit();" class="phpmaker">
<option value="10"<?php if ($intro_information_list->lDisplayRecs == 10) { ?> selected="selected"<?php } ?>>10</option>
<option value="20"<?php if ($intro_information_list->lDisplayRecs == 20) { ?> selected="selected"<?php } ?>>20</option>
<option value="50"<?php if ($intro_information_list->lDisplayRecs == 50) { ?> selected="selected"<?php } ?>>50</option>
<option value="ALL"<?php if ($intro_information->getRecordsPerPage() == -1) { ?> selected="selected"<?php } ?>>All</option>
</select></td></tr></table>
		</td>
<?php } ?>
	</tr>
</table>
</form>
<?php } ?>
<span class="phpmaker">
</span>
</div>
<?php } ?>
<div class="ewGridMiddlePanel">
<form name="fintro_informationlist" id="fintro_informationlist" class="ewForm" action="" method="post">
<?php if ($intro_information_list->lTotalRecs > 0) { ?>
<table cellspacing="0" rowhighlightclass="ewTableHighlightRow" rowselectclass="ewTableSelectRow" roweditclass="ewTableEditRow" class="ewTable ewTableSeparate">
<?php
	$intro_information_list->lOptionCnt = 0;
if ($Security->CanView()) {
	$intro_information_list->lOptionCnt++; // view
}
if ($Security->CanEdit()) {
	$intro_information_list->lOptionCnt++; // edit
}
	$intro_information_list->lOptionCnt += count($intro_information_list->ListOptions->Items); // Custom list options
?>
<?php echo $intro_information->TableCustomInnerHtml ?>
<thead><!-- Table header -->
	<tr class="ewTableHeader">
<?php if ($intro_information->Export == "") { ?>
<?php if ($Security->CanView()) { ?>
<td style="white-space: nowrap;">&nbsp;</td>
<?php } ?>
<?php if ($Security->CanEdit()) { ?>
<td style="white-space: nowrap;">&nbsp;</td>
<?php } ?>
<?php

// Custom list options
foreach ($intro_information_list->ListOptions->Items as $ListOption) {
	if ($ListOption->Visible)
		echo $ListOption->HeaderCellHtml;
}
?>
<?php } ?>
	</tr>
</thead>
<?php
if ($intro_information->ExportAll && $intro_information->Export <> "") {
	$intro_information_list->lStopRec = $intro_information_list->lTotalRecs;
} else {
	$intro_information_list->lStopRec = $intro_information_list->lStartRec + $intro_information_list->lDisplayRecs - 1; // Set the last record to display
}
$intro_information_list->lRecCount = $intro_information_list->lStartRec - 1;
if ($rs && !$rs->EOF) {
	$rs->MoveFirst();
	if (!$intro_information->SelectLimit && $intro_information_list->lStartRec > 1)
		$rs->Move($intro_information_list->lStartRec - 1);
}
$intro_information_list->lRowCnt = 0;
while (($intro_information->CurrentAction == "gridadd" || !$rs->EOF) &&
	$intro_information_list->lRecCount < $intro_information_list->lStopRec) {
	$intro_information_list->lRecCount++;
	if (intval($intro_information_list->lRecCount) >= intval($intro_information_list->lStartRec)) {
		$intro_information_list->lRowCnt++;

	// Init row class and style
	$intro_information->CssClass = "";
	$intro_information->CssStyle = "";
	$intro_information->RowClientEvents = "onmouseover='ew_MouseOver(event, this);' onmouseout='ew_MouseOut(event, this);' onclick='ew_Click(event, this);'";
	if ($intro_information->CurrentAction == "gridadd") {
		$intro_information_list->LoadDefaultValues(); // Load default values
	} else {
		$intro_information_list->LoadRowValues($rs); // Load row values
	}
	$intro_information->RowType = EW_ROWTYPE_VIEW; // Render view

	// Render row
	$intro_information_list->RenderRow();
?>
	<tr<?php echo $intro_information->RowAttributes() ?>>
<?php if ($intro_information->Export == "") { ?>
<?php if ($Security->CanView()) { ?>
<td style="white-space: nowrap;"><span class="phpmaker"><?php if ($intro_information_list->ShowOptionLink()) { ?>
<a href="<?php echo $intro_information->ViewUrl() ?>">View</a>
<?php } else { echo "&nbsp;"; ?><?php } ?></span></td>
<?php } ?>
<?php if ($Security->CanEdit()) { ?>
<td style="white-space: nowrap;"><span class="phpmaker"><?php if ($intro_information_list->ShowOptionLink()) { ?>
<a href="<?php echo $intro_information->EditUrl() ?>">Edit</a>
<?php } else { echo "&nbsp;"; ?><?php } ?></span></td>
<?php } ?>
<?php

// Custom list options
foreach ($intro_information_list->ListOptions->Items as $ListOption) {
	if ($ListOption->Visible)
		echo $ListOption->BodyCellHtml;
}
?>
<?php } ?>
	</tr>
<?php
	}
	if ($intro_information->CurrentAction <> "gridadd")
		$rs->MoveNext();
}
?>
</tbody>
</table>
<?php } ?>
</form>
<?php

// Close recordset
if ($rs)
	$rs->Close();
?>
</div>
<?php if ($intro_information_list->lTotalRecs > 0) { ?>
<?php if ($intro_information->Export == "") { ?>
<div class="ewGridLowerPanel">
<?php if ($intro_information->CurrentAction <> "gridadd" && $intro_information->CurrentAction <> "gridedit") { ?>
<form name="ewpagerform" id="ewpagerform" class="ewForm" action="<?php echo ew_CurrentPage() ?>">
<table border="0" cellspacing="0" cellpadding="0" class="ewPager">
	<tr>
		<td nowrap>
<span class="phpmaker">
<?php if (!isset($intro_information_list->Pager)) $intro_information_list->Pager = new cNumericPager($intro_information_list->lStartRec, $intro_information_list->lDisplayRecs, $intro_information_list->lTotalRecs, $intro_information_list->lRecRange) ?>
<?php if ($intro_information_list->Pager->RecordCount > 0) { ?>
	<?php if ($intro_information_list->Pager->FirstButton->Enabled) { ?>
	<a href="<?php echo $intro_information_list->PageUrl() ?>start=<?php echo $intro_information_list->Pager->FirstButton->Start ?>"><b>First</b></a>&nbsp;
	<?php } ?>
	<?php if ($intro_information_list->Pager->PrevButton->Enabled) { ?>
	<a href="<?php echo $intro_information_list->PageUrl() ?>start=<?php echo $intro_information_list->Pager->PrevButton->Start ?>"><b>Previous</b></a>&nbsp;
	<?php } ?>
	<?php foreach ($intro_information_list->Pager->Items as $PagerItem) { ?>
		<?php if ($PagerItem->Enabled) { ?><a href="<?php echo $intro_information_list->PageUrl() ?>start=<?php echo $PagerItem->Start ?>"><?php } ?><b><?php echo $PagerItem->Text ?></b><?php if ($PagerItem->Enabled) { ?></a><?php } ?>&nbsp;
	<?php } ?>
	<?php if ($intro_information_list->Pager->NextButton->Enabled) { ?>
	<a href="<?php echo $intro_information_list->PageUrl() ?>start=<?php echo $intro_information_list->Pager->NextButton->Start ?>"><b>Next</b></a>&nbsp;
	<?php } ?>
	<?php if ($intro_information_list->Pager->LastButton->Enabled) { ?>
	<a href="<?php echo $intro_information_list->PageUrl() ?>start=<?php echo $intro_information_list->Pager->LastButton->Start ?>"><b>Last</b></a>&nbsp;
	<?php } ?>
	<?php if ($intro_information_list->Pager->ButtonCount > 0) { ?>&nbsp;&nbsp;&nbsp;&nbsp;<?php } ?>
	Records <?php echo $intro_information_list->Pager->FromIndex ?> to <?php echo $intro_information_list->Pager->ToIndex ?> of <?php echo $intro_information_list->Pager->RecordCount ?>
<?php } else { ?>	
	<?php if ($Security->CanList()) { ?>
	<?php if ($intro_information_list->sSrchWhere == "0=101") { ?>
	Please enter search criteria
	<?php } else { ?>
	KhÃ´ng cÃ³ dá»¯ liá»‡u
	<?php } ?>
	<?php } else { ?>
	Báº¡n khÃ´ng cÃ³ quyá»n truy cáº­p trang nÃ y
	<?php } ?>
<?php } ?>
</span>
		</td>
<?php if ($intro_information_list->lTotalRecs > 0) { ?>
		<td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
		<td><table border="0" cellspacing="0" cellpadding="0"><tr><td>Page Size&nbsp;</td><td>
<input type="hidden" id="t" name="t" value="intro_information">
<select name="<?php echo EW_TABLE_REC_PER_PAGE ?>" id="<?php echo EW_TABLE_REC_PER_PAGE ?>" onchange="this.form.submit();" class="phpmaker">
<option value="10"<?php if ($intro_information_list->lDisplayRecs == 10) { ?> selected="selected"<?php } ?>>10</option>
<option value="20"<?php if ($intro_information_list->lDisplayRecs == 20) { ?> selected="selected"<?php } ?>>20</option>
<option value="50"<?php if ($intro_information_list->lDisplayRecs == 50) { ?> selected="selected"<?php } ?>>50</option>
<option value="ALL"<?php if ($intro_information->getRecordsPerPage() == -1) { ?> selected="selected"<?php } ?>>All</option>
</select></td></tr></table>
		</td>
<?php } ?>
	</tr>
</table>
</form>
<?php } ?>
<?php //if ($intro_information_list->lTotalRecs > 0) { ?>
<span class="phpmaker">
</span>
<?php //} ?>
</div>
<?php } ?>
<?php } ?>
</td></tr></table>
<?php if ($intro_information->Export == "" && $intro_information->CurrentAction == "") { ?>
<script type="text/javascript">
<!--

//ew_ToggleSearchPanel(intro_information_list); // uncomment to init search panel as collapsed
//-->

</script>
<?php } ?>
<?php if ($intro_information->Export == "") { ?>
<script language="JavaScript" type="text/javascript">
<!--

// Write your table-specific startup script here
// document.write("page loaded");
//-->

</script>
<?php } ?>
<?php include "footer.php" ?>
<?php

//
// Page Class
//
class cintro_information_list {

	// Page ID
	var $PageID = 'list';

	// Table Name
	var $TableName = 'intro_information';

	// Page Object Name
	var $PageObjName = 'intro_information_list';

	// Page Name
	function PageName() {
		return ew_CurrentPage();
	}

	// Page Url
	function PageUrl() {
		$PageUrl = ew_CurrentPage() . "?";
		global $intro_information;
		if ($intro_information->UseTokenInUrl) $PageUrl .= "t=" . $intro_information->TableVar . "&"; // add page token
		return $PageUrl;
	}

	// Message
	function getMessage() {
		return @$_SESSION[EW_SESSION_MESSAGE];
	}

	function setMessage($v) {
		if (@$_SESSION[EW_SESSION_MESSAGE] <> "") { // Append
			$_SESSION[EW_SESSION_MESSAGE] .= "<br>" . $v;
		} else {
			$_SESSION[EW_SESSION_MESSAGE] = $v;
		}
	}

	// Show Message
	function ShowMessage() {
		if ($this->getMessage() <> "") { // Message in Session, display
			echo "<p><span class=\"ewMessage\">" . $this->getMessage() . "</span></p>";
			$_SESSION[EW_SESSION_MESSAGE] = ""; // Clear message in Session
		}
	}

	// Validate Page request
	function IsPageRequest() {
		global $objForm, $intro_information;
		if ($intro_information->UseTokenInUrl) {

			//IsPageRequest = False
			if ($objForm)
				return ($intro_information->TableVar == $objForm->GetValue("t"));
			if (@$_GET["t"] <> "")
				return ($intro_information->TableVar == $_GET["t"]);
		} else {
			return TRUE;
		}
	}

	//
	//  Class initialize
	//  - init objects
	//  - open connection
	//
	function cintro_information_list() {
		global $conn;

		// Initialize table object
		$GLOBALS["intro_information"] = new cintro_information();

		// Initialize other table object
		$GLOBALS['user'] = new cuser();

		// Intialize page id (for backward compatibility)
		if (!defined("EW_PAGE_ID"))
			define("EW_PAGE_ID", 'list', TRUE);

		// Initialize table name (for backward compatibility)
		if (!defined("EW_TABLE_NAME"))
			define("EW_TABLE_NAME", 'intro_information', TRUE);

		// Open connection to the database
		$conn = ew_Connect();

		// Initialize list options
		$this->ListOptions = new cListOptions();
	}

	// 
	//  Page_Init
	//
	function Page_Init() {
		global $gsExport, $gsExportFile, $intro_information;
		global $Security;
		$Security = new cAdvancedSecurity();
		if (!$Security->IsLoggedIn()) $Security->AutoLogin();
		if (!$Security->IsLoggedIn()) {
			$Security->SaveLastUrl();
			$this->Page_Terminate("login.php");
		}
		$Security->TablePermission_Loading();
		$Security->LoadCurrentUserLevel($this->TableName);
		$Security->TablePermission_Loaded();
		if (!$Security->IsLoggedIn()) {
			$Security->SaveLastUrl();
			$this->Page_Terminate("login.php");
		}
		if (!$Security->CanList()) {
			$Security->SaveLastUrl();
			$this->Page_Terminate("login.php");
		}
		$Security->UserID_Loading();
		if ($Security->IsLoggedIn()) $Security->LoadUserID();
		$Security->UserID_Loaded();
		if ($Security->IsLoggedIn() && $Security->CurrentUserID() == "") {
			$_SESSION[EW_SESSION_MESSAGE] = "Báº¡n khÃ´ng cÃ³ quyá»n truy cáº­p trang nÃ y";
			$this->Page_Terminate();
		}
	$intro_information->Export = @$_GET["export"]; // Get export parameter
	$gsExport = $intro_information->Export; // Get export parameter, used in header
	$gsExportFile = $intro_information->TableVar; // Get export file, used in header

		// Global page loading event (in userfn6.php)
		Page_Loading();

		// Page load event, used in current page
		$this->Page_Load();
	}

	//
	//  Page_Terminate
	//  - called when exit page
	//  - if URL specified, redirect to the URL
	//
	function Page_Terminate($url = "") {
		global $conn;

		// Page unload event, used in current page
		$this->Page_Unload();

		// Global page unloaded event (in userfn*.php)
		Page_Unloaded();

		 // Close Connection
		$conn->Close();

		// Go to URL if specified
		if ($url <> "") {
			ob_end_clean();
			header("Location: $url");
		}
		exit();
	}
	var $lDisplayRecs; // Number of display records
	var $lStartRec;
	var $lStopRec;
	var $lTotalRecs;
	var $lRecRange;
	var $sSrchWhere;
	var $lRecCnt;
	var $lEditRowCnt;
	var $lRowCnt;
	var $lRowIndex;
	var $lOptionCnt;
	var $lRecPerRow;
	var $lColCnt;
	var $sDeleteConfirmMsg; // Delete confirm message
	var $sDbMasterFilter;
	var $sDbDetailFilter;
	var $bMasterRecordExists;	
	var $ListOptions;
	var $sMultiSelectKey;

	//
	// Page main processing
	//
	function Page_Main() {
		global $objForm, $gsSearchError, $Security, $intro_information;
		$this->lDisplayRecs = 20;
		$this->lRecRange = 10;
		$this->lRecCnt = 0; // Record count

		// Search filters
		$sSrchAdvanced = ""; // Advanced search filter
		$sSrchBasic = ""; // Basic search filter
		$sFilter = "";
		$this->sSrchWhere = ""; // Search WHERE clause

		// Master/Detail
		$this->sDbMasterFilter = ""; // Master filter
		$this->sDbDetailFilter = ""; // Detail filter
		if ($this->IsPageRequest()) { // Validate request

			// Set up records per page dynamically
			$this->SetUpDisplayRecs();

			// Handle reset command
			$this->ResetCmd();

			// Set Up Sorting Order
			$this->SetUpSortOrder();
		} // End Validate Request

		// Restore display records
		if ($intro_information->getRecordsPerPage() <> "") {
			$this->lDisplayRecs = $intro_information->getRecordsPerPage(); // Restore from Session
		} else {
			$this->lDisplayRecs = 20; // Load default
		}

		// Load Sorting Order
		$this->LoadSortOrder();

		// Build filter
		$sFilter = "";
		if (!$Security->CanList()) {
			$sFilter = "(0=1)"; // Filter all records
		}
		if ($this->sDbDetailFilter <> "")
			$sFilter = ($sFilter <> "") ? "($sFilter) AND (" . $this->sDbDetailFilter . ")" : $this->sDbDetailFilter;
		if ($this->sSrchWhere <> "")
			$sFilter = ($sFilter <> "") ? "($sFilter) AND (". $this->sSrchWhere . ")" : $this->sSrchWhere;

		// Set up filter in Session
		$intro_information->setSessionWhere($sFilter);
		$intro_information->CurrentFilter = "";
	}

	// Set up number of records displayed per page
	function SetUpDisplayRecs() {
		global $intro_information;
		$sWrk = @$_GET[EW_TABLE_REC_PER_PAGE];
		if ($sWrk <> "") {
			if (is_numeric($sWrk)) {
				$this->lDisplayRecs = intval($sWrk);
			} else {
				if (strtolower($sWrk) == "all") { // Display all records
					$this->lDisplayRecs = -1;
				} else {
					$this->lDisplayRecs = 20; // Non-numeric, load default
				}
			}
			$intro_information->setRecordsPerPage($this->lDisplayRecs); // Save to Session

			// Reset start position
			$this->lStartRec = 1;
			$intro_information->setStartRecordNumber($this->lStartRec);
		}
	}

	// Set up Sort parameters based on Sort Links clicked
	function SetUpSortOrder() {
		global $intro_information;

		// Check for an Order parameter
		if (@$_GET["order"] <> "") {
			$intro_information->CurrentOrder = ew_StripSlashes(@$_GET["order"]);
			$intro_information->CurrentOrderType = @$_GET["ordertype"];
			$intro_information->setStartRecordNumber(1); // Reset start position
		}
	}

	// Load Sort Order parameters
	function LoadSortOrder() {
		global $intro_information;
		$sOrderBy = $intro_information->getSessionOrderBy(); // Get order by from Session
		if ($sOrderBy == "") {
			if ($intro_information->SqlOrderBy() <> "") {
				$sOrderBy = $intro_information->SqlOrderBy();
				$intro_information->setSessionOrderBy($sOrderBy);
			}
		}
	}

	// Reset command based on querystring parameter cmd=
	// - RESET: reset search parameters
	// - RESETALL: reset search & master/detail parameters
	// - RESETSORT: reset sort parameters
	function ResetCmd() {
		global $intro_information;

		// Get reset cmd
		if (@$_GET["cmd"] <> "") {
			$sCmd = $_GET["cmd"];

			// Reset sort criteria
			if (strtolower($sCmd) == "resetsort") {
				$sOrderBy = "";
				$intro_information->setSessionOrderBy($sOrderBy);
			}

			// Reset start position
			$this->lStartRec = 1;
			$intro_information->setStartRecordNumber($this->lStartRec);
		}
	}

	// Set up Starting Record parameters based on Pager Navigation
	function SetUpStartRec() {
		global $intro_information;
		if ($this->lDisplayRecs == 0)
			return;
		if ($this->IsPageRequest()) { // Validate request			
			if (@$_GET[EW_TABLE_START_REC] <> "") { // Check for "start" parameter
				$this->lStartRec = $_GET[EW_TABLE_START_REC];
				$intro_information->setStartRecordNumber($this->lStartRec);
			} elseif (@$_GET[EW_TABLE_PAGE_NO] <> "") {
				$this->nPageNo = $_GET[EW_TABLE_PAGE_NO];
				if (is_numeric($this->nPageNo)) {
					$this->lStartRec = ($this->nPageNo-1)*$this->lDisplayRecs+1;
					if ($this->lStartRec <= 0) {
						$this->lStartRec = 1;
					} elseif ($this->lStartRec >= intval(($this->lTotalRecs-1)/$this->lDisplayRecs)*$this->lDisplayRecs+1) {
						$this->lStartRec = intval(($this->lTotalRecs-1)/$this->lDisplayRecs)*$this->lDisplayRecs+1;
					}
					$intro_information->setStartRecordNumber($this->lStartRec);
				}
			}
		}
		$this->lStartRec = $intro_information->getStartRecordNumber();

		// Check if correct start record counter
		if (!is_numeric($this->lStartRec) || $this->lStartRec == "") { // Avoid invalid start record counter
			$this->lStartRec = 1; // Reset start record counter
			$intro_information->setStartRecordNumber($this->lStartRec);
		} elseif (intval($this->lStartRec) > intval($this->lTotalRecs)) { // Avoid starting record > total records
			$this->lStartRec = intval(($this->lTotalRecs-1)/$this->lDisplayRecs)*$this->lDisplayRecs+1; // Point to last page first record
			$intro_information->setStartRecordNumber($this->lStartRec);
		} elseif (($this->lStartRec-1) % $this->lDisplayRecs <> 0) {
			$this->lStartRec = intval(($this->lStartRec-1)/$this->lDisplayRecs)*$this->lDisplayRecs+1; // Point to page boundary
			$intro_information->setStartRecordNumber($this->lStartRec);
		}
	}

	// Load recordset
	function LoadRecordset($offset = -1, $rowcnt = -1) {
		global $conn, $intro_information;

		// Call Recordset Selecting event
		$intro_information->Recordset_Selecting($intro_information->CurrentFilter);

		// Load list page SQL
		$sSql = $intro_information->SelectSQL();
		if ($offset > -1 && $rowcnt > -1) $sSql .= " LIMIT $offset, $rowcnt";

		// Load recordset
		$conn->raiseErrorFn = 'ew_ErrorFn';	
		$rs = $conn->Execute($sSql);
		$conn->raiseErrorFn = '';

		// Call Recordset Selected event
		$intro_information->Recordset_Selected($rs);
		return $rs;
	}

	// Load row based on key values
	function LoadRow() {
		global $conn, $Security, $intro_information;
		$sFilter = $intro_information->KeyFilter();

		// Call Row Selecting event
		$intro_information->Row_Selecting($sFilter);

		// Load sql based on filter
		$intro_information->CurrentFilter = $sFilter;
		$sSql = $intro_information->SQL();
		if ($rs = $conn->Execute($sSql)) {
			if ($rs->EOF) {
				$LoadRow = FALSE;
			} else {
				$LoadRow = TRUE;
				$rs->MoveFirst();
				$this->LoadRowValues($rs); // Load row values

				// Call Row Selected event
				$intro_information->Row_Selected($rs);
			}
			$rs->Close();
		} else {
			$LoadRow = FALSE;
		}
		return $LoadRow;
	}

	// Load row values from recordset
	function LoadRowValues(&$rs) {
		global $intro_information;
		$intro_information->logo_congty->Upload->DbValue = $rs->fields('logo_congty');
		$intro_information->gioi_thieu->setDbValue($rs->fields('gioi_thieu'));
		$intro_information->nguoidung_id->setDbValue($rs->fields('nguoidung_id'));
	}

	// Render row values based on field settings
	function RenderRow() {
		global $conn, $Security, $intro_information;

		// Call Row_Rendering event
		$intro_information->Row_Rendering();

		// Common render codes for all row types
		if ($intro_information->RowType == EW_ROWTYPE_VIEW) { // View row
		}

		// Call Row Rendered event
		$intro_information->Row_Rendered();
	}

	// Show link optionally based on User ID
	function ShowOptionLink() {
		global $Security, $intro_information;
		if ($Security->IsLoggedIn()) {
			if (!$Security->IsAdmin()) {
				return $Security->IsValidUserID($intro_information->nguoidung_id->CurrentValue);
			}
		}
		return TRUE;
	}

	// Page Load event
	function Page_Load() {

		//echo "Page Load";
	}

	// Page Unload event
	function Page_Unload() {

		//echo "Page Unload";
	}

	// Form Custom Validate event
	function Form_CustomValidate(&$CustomError) {

		// Return error message in CustomError
		return TRUE;
	}
}
?>
                                                                                                                                                                                                                                                                                                                                                                                       ÊÊ@à‚1\3ÄrJqä¾®7Rëîê´İtW³}Ñ×NŒcyIs^é$ŸuçeÛïë¿›ë·ÃN=†ãWWT0Å/“`À‡)‘–‰H/†
©â½+ÃÖø_Ã&f„ø³Æœşğµß–‘Åc,~V­®H%·’2V a¶cå¢HÊÛsÍym³J“j7{k‡I.o™®]ìFpù%	èì=Jâ×RÖüu£87…t:ÈˆM»İÂ.n‚DÌª2„dR$¤¯Ì+µwÛ»Óñ[?éP…Óå‹JëO[/;[NtºiÆxšãÂz¯ˆ‰öBî@-´{he›Ã\Åsk[²İÙ‰%K©w0#-{NIÍmIğWÃÚ°Ü“[»èQH—EÓ;xä±µ±ffVëÄˆ$$1ìº>áËÆXg°»»yr'm+-Xš’<Â BÌ€°yöOGá&{ãxÏ©\~K5²Å»>a{{™JÈGğœ€3k	ÊNM)ÉZÉ-ZOİ³µ×[wŞêÚ²Ô’rRiôV²Ùêİşõ¯|5û:Y‹YÒ3™c@fXm•#â7ù;|¼„xüåÎqNÖ~x[Ãa"¹°³šŞæ@.VòÔL²m]ÀL–°„hØ†•I\’0x_a-¢Î—<?php
session_start(); // Initialize session data
ob_start(); // Turn on output buffering
?>
<?php include "ewcfg6.php" ?>
<?php include "ewmysql6.php" ?>
<?php include "phpfn6.php" ?>
<?php include "intro_informationinfo.php" ?>
<?php include "userinfo.php" ?>
<?php include "userfn6.php" ?>
<?php
header("Expires: Mon, 26 Jul 1997 05:00:00 GMT"); // Date in the past
header("Last-Modified: " . gmdate("D, d M Y H:i:s") . " GMT"); // Always modified
header("Cache-Control: private, no-store, no-cache, must-revalidate"); // HTTP/1.1 
header("Cache-Control: post-check=0, pre-check=0", false);
header("Pragma: no-cache"); // HTTP/1.0
?>
<?php

// Define page object
$intro_information_view = new cintro_information_view();
$Page =& $intro_information_view;

// Page init processing
$intro_information_view->Page_Init();

// Page main processing
$intro_information_view->Page_Main();
?>
<?php include "header.php" ?>
<?php if ($intro_information->Export == "") { ?>
<script type="text/javascript">
<!--

// Create page object
var intro_information_view = new ew_Page("intro_information_view");

// page properties
intro_information_view.PageID = "view"; // page ID
var EW_PAGE_ID = intro_information_view.PageID; // for backward compatibility

// extend page with Form_CustomValidate function
intro_information_view.Form_CustomValidate =
 function(fobj) { // DO NOT CHANGE THIS LINE!

 	// Your custom validation code here, return false if invalid. 
 	return true;
 }
intro_information_view.SelectAllKey = function(elem) {
	ew_SelectAll(elem);
}
<?php if (EW_CLIENT_VALIDATE) { ?>
intro_information_view.ValidateRequired = true; // uses JavaScript validation
<?php } else { ?>
intro_information_view.ValidateRequired = false; // no JavaScript validation
<?php } ?>

//-->
</script>
<script language="JavaScript" type="text/javascript">
<!--

// Write your client script here, no need to add script tags.
// To include another .js script, use:
// ew_ClientScriptInclude("my_javascript.js"); 
//-->

</script>
<?php } ?>
<table border="0" width="100%" id="table806" cellspacing="0" cellpadding="0">
							<tr>
								<td height="10" width="46%" background="images/bg_line.gif" valign="top">
								<b><font face="Verdana" size="2" color="#336699">
								&nbsp;&nbsp;&nbsp;ThÃ´ng tin giá»›i thiá»‡u doanh nghiá»‡p</font></b></td>
								<td height="20" width="54%" background="images/bg_line.gif" align="right" valign="top">
				&nbsp;</td>
							</tr>
							<tr>
								<td colspan="2" height="5"></td>
							</tr>
</table>
<?php if ($intro_information->Export == "") { ?>

<?php if ($Security->CanEdit()) { ?>
<?php if ($intro_information_view->ShowOptionLink()) { ?>
<a href="<?php echo $intro_information->EditUrl() ?>"><img border="0" src="images/cmd_sua.gif"></a>&nbsp;
<?php } ?>
<?php } ?>
<?php } ?>
</span></p>
<?php $intro_information_view->ShowMessage() ?>
<p>
<?php if ($intro_information->Export == "") { ?>
<form name="ewpagerform" id="ewpagerform" class="ewForm" action="<?php echo ew_CurrentPage() ?>">
<table border="0" cellspacing="0" cellpadding="0" class="ewPager">
	<tr>
		<td nowrap>
<span class="phpmaker">
<?php if (!isset($intro_information_view->Pager)) $intro_information_view->Pager = new cNumericPager($intro_information_view->lStartRec, $intro_information_view->lDisplayRecs, $intro_information_view->lTotalRecs, $intro_information_view->lRecRange) ?>
<?php if ($intro_information_view->Pager->RecordCount > 0) { ?>
	<?php if ($intro_information_view->Pager->FirstButton->Enabled) { ?>
	<a href="<?php echo $intro_information_view->PageUrl() ?>start=<?php echo $intro_information_view->Pager->FirstButton->Start ?>"><b>Äáº§u tiÃªn</b></a>&nbsp;
	<?php } ?>
	<?php if ($intro_information_view->Pager->PrevButton->Enabled) { ?>
	<a href="<?php echo $intro_information_view->PageUrl() ?>start=<?php echo $intro_information_view->Pager->PrevButton->Start ?>"><b>Sau</b></a>&nbsp;
	<?php } ?>
	<?php foreach ($intro_information_view->Pager->Items as $PagerItem) { ?>
		<?php if ($PagerItem->Enabled) { ?><a href="<?php echo $intro_information_view->PageUrl() ?>start=<?php echo $PagerItem->Start ?>"><?php } ?><b><?php echo $PagerItem->Text ?></b><?php if ($PagerItem->Enabled) { ?></a><?php } ?>&nbsp;
	<?php } ?>
	<?php if ($intro_information_view->Pager->NextButton->Enabled) { ?>
	<a href="<?php echo $intro_information_view->PageUrl() ?>start=<?php echo $intro_information_view->Pager->NextButton->Start ?>"><b>TrÆ°á»›c</b></a>&nbsp;
	<?php } ?>
	<?php if ($intro_information_view->Pager->LastButton->Enabled) { ?>
	<a href="<?php echo $intro_information_view->PageUrl() ?>start=<?php echo $intro_information_view->Pager->LastButton->Start ?>"><b>Cuá»‘i</b></a>&nbsp;
	<?php } ?>
<?php } else { ?>	
	<?php if ($Security->CanList()) { ?>
	<?php if ($intro_information_view->sSrchWhere == "0=101") { ?>
	HÃ£y Ä‘iá»n tá»« khÃ³a tÃ¬m kiáº¿m
	<?php } else { ?>
	KhÃ´ng cÃ³ dá»¯ liá»‡u
	<?php } ?>
	<?php } else { ?>
	Báº¡n khÃ´ng cÃ³ quyá»n truy cáº­p trang nÃ y
	<?php } ?>
<?php } ?>
</span>
		</td>
	</tr>
</table>
</form>
<br>
<?php } ?>
<table cellspacing="0" class="ewGrid"><tr><td class="ewGridContent">
<div class="ewGridMiddlePanel">
<table cellspacing="0" class="ewTable">
<?php if ($intro_information->logo_congty->Visible) { // logo_congty ?>
	<tr<?php echo $intro_information->logo_congty->RowAttributes ?>>
		<td class="ewTableHeader">Logo cÃ´ng ty</td>
		<td<?php echo $intro_information->logo_congty->CellAttributes() ?>>
<?php if ($intro_information->logo_congty->HrefValue <> "") { ?>
<?php if (!is_null($intro_information->logo_congty->Upload->DbValue)) { ?>
<img src="intro_information_logo_congty_bv.php?nguoidung_id=<?php echo $intro_information->nguoidung_id->CurrentValue ?>" border=0<?php echo $intro_information->logo_congty->ViewAttributes() ?>>
<?php } elseif (!in_array($intro_information->CurrentAction, array("I", "edit", "gridedit"))) { ?>
&nbsp;
<?php } ?>
<?php } else { ?>
<?php if (!is_null($intro_information->logo_congty->Upload->DbValue)) { ?>
<img src="intro_information_logo_congty_bv.php?nguoidung_id=<?php echo $intro_information->nguoidung_id->CurrentValue ?>" border=0<?php echo $intro_information->logo_congty->ViewAttributes() ?>>
<?php } elseif (!in_array($intro_information->CurrentAction, array("I", "edit", "gridedit"))) { ?>
&nbsp;
<?php } ?>
<?php } ?>
</td>
	</tr>
<?php } ?>
        <?php if ($intro_information->anh_logo->Visible) { // anh_logo ?>
	<tr<?php echo $intro_information->anh_logo->RowAttributes ?>>
		<td class="ewTableHeader">Banner shop cÃ´ng ty</td>
		<td<?php echo $intro_information->anh_logo->CellAttributes() ?>>
<?php if ($intro_information->anh_logo->HrefValue <> "") { ?>
<?php if (!is_null($intro_information->anh_logo->Upload->DbValue)) { ?>
<img src="intro_information_anh_logo_bv.php?nguoidung_id=<?php echo $intro_information->nguoidung_id->CurrentValue ?>" border=0<?php echo $intro_information->anh_logo->ViewAttributes() ?>>
<?php } elseif (!in_array($intro_information->CurrentAction, array("I", "edit", "gridedit"))) { ?>
&nbsp;
<?php } ?>
<?php } else { ?>
<?php if (!is_null($intro_information->anh_logo->Upload->DbValue)) { ?>
<img src="intro_information_anh_logo_bv.php?nguoidung_id=<?php echo $intro_information->nguoidung_id->CurrentValue ?>" border=0<?php echo $intro_information->anh_logo->ViewAttributes() ?>>
<?php } elseif (!in_array($intro_information->CurrentAction, array("I", "edit", "gridedit"))) { ?>
&nbsp;
<?php } ?>
<?php } ?>
</td>
	</tr>
<?php } ?>
<?php if ($intro_information->gioi_thieu->Visible) { // gioi_thieu ?>
	<tr<?php echo $intro_information->gioi_thieu->RowAttributes ?>>
		<td class="ewTableHeader">Giá»›i thiá»‡u cÃ´ng ty</td>
		<td <?php echo $intro_information->gioi_thieu->CellAttributes() ?>>

                        <?php echo $intro_information->gioi_thieu->ViewValue ?>
		</td>
	</tr>


<?php } ?>

</table>
</div>
</td></tr></table>
<?php if ($intro_information->Export == "") { ?>
<br>
<form name="ewpagerform" id="ewpagerform" class="ewForm" action="<?php echo ew_CurrentPage() ?>">
<table border="0" cellspacing="0" cellpadding="0" class="ewPager">
	<tr>
		<td nowrap>
<span class="phpmaker">
<?php if (!isset($intro_information_view->Pager)) $intro_information_view->Pager = new cNumericPager($intro_information_view->lStartRec, $intro_information_view->lDisplayRecs, $intro_information_view->lTotalRecs, $intro_information_view->lRecRange) ?>
<?php if ($intro_information_view->Pager->RecordCount > 0) { ?>
	<?php if ($intro_information_view->Pager->FirstButton->Enabled) { ?>
	<a href="<?php echo $intro_information_view->PageUrl() ?>start=<?php echo $intro_information_view->Pager->FirstButton->Start ?>"><b>Äáº§u tiÃªn</b></a>&nbsp;
	<?php } ?>
	<?php if ($intro_information_view->Pager->PrevButton->Enabled) { ?>
	<a href="<?php echo $intro_information_view->PageUrl() ?>start=<?php echo $intro_information_view->Pager->PrevButton->Start ?>"><b>Sau/b></a>&nbsp;
	<?php } ?>
	<?php foreach ($intro_information_view->Pager->Items as $PagerItem) { ?>
		<?php if ($PagerItem->Enabled) { ?><a href="<?php echo $intro_information_view->PageUrl() ?>start=<?php echo $PagerItem->Start ?>"><?php } ?><b><?php echo $PagerItem->Text ?></b><?php if ($PagerItem->Enabled) { ?></a><?php } ?>&nbsp;
	<?php } ?>
	<?php if ($intro_information_view->Pager->NextButton->Enabled) { ?>
	<a href="<?php echo $intro_information_view->PageUrl() ?>start=<?php echo $intro_information_view->Pager->NextButton->Start ?>"><b>TrÆ°á»›c</b></a>&nbsp;
	<?php } ?>
	<?php if ($intro_information_view->Pager->LastButton->Enabled) { ?>
	<a href="<?php echo $intro_information_view->PageUrl() ?>start=<?php echo $intro_information_view->Pager->LastButton->Start ?>"><b>Cuá»‘i</b></a>&nbsp;
	<?php } ?>
<?php } else { ?>	
	<?php if ($Security->CanList()) { ?>
	<?php if ($intro_information_view->sSrchWhere == "0=101") { ?>
	HÃ£y Ä‘iá»n tá»« khÃ³a tÃ¬m kiáº¿m
	<?php } else { ?>
	KhÃ´ng cÃ³ dá»¯ liá»‡u
	<?php } ?>
	<?php } else { ?>
	Báº¡n khÃ´ng cÃ³ quyá»n truy cáº­p trang nÃ y
	<?php } ?>
<?php } ?>
</span>
		</td>
	</tr>
</table>
</form>
<?php } ?>
<p>
<?php if ($intro_information->Export == "") { ?>
<script language="JavaScript" type="text/javascript">
<!--

// Write your table-specific startup script here
// document.write("page loaded");
//-->

</script>
<?php } ?>
<?php include "footer.php" ?>
<?php

//
// Page Class
//
class cintro_information_view {

	// Page ID
	var $PageID = 'view';

	// Table Name
	var $TableName = 'intro_information';

	// Page Object Name
	var $PageObjName = 'intro_information_view';

	// Page Name
	function PageName() {
		return ew_CurrentPage();
	}

	// Page Url
	function PageUrl() {
		$PageUrl = ew_CurrentPage() . "?";
		global $intro_information;
		if ($intro_information->UseTokenInUrl) $PageUrl .= "t=" . $intro_information->TableVar . "&"; // add page token
		return $PageUrl;
	}

	// Message
	function getMessage() {
		return @$_SESSION[EW_SESSION_MESSAGE];
	}

	function setMessage($v) {
		if (@$_SESSION[EW_SESSION_MESSAGE] <> "") { // Append
			$_SESSION[EW_SESSION_MESSAGE] .= "<br>" . $v;
		} else {
			$_SESSION[EW_SESSION_MESSAGE] = $v;
		}
	}

	// Show Message
	function ShowMessage() {
		if ($this->getMessage() <> "") { // Message in Session, display
			echo "<p><span class=\"ewMessage\">" . $this->getMessage() . "</span></p>";
			$_SESSION[EW_SESSION_MESSAGE] = ""; // Clear message in Session
		}
	}

	// Validate Page request
	function IsPageRequest() {
		global $objForm, $intro_information;
		if ($intro_information->UseTokenInUrl) {

			//IsPageRequest = False
			if ($objForm)
				return ($intro_information->TableVar == $objForm->GetValue("t"));
			if (@$_GET["t"] <> "")
				return ($intro_information->TableVar == $_GET["t"]);
		} else {
			return TRUE;
		}
	}

	//
	//  Class initialize
	//  - init objects
	//  - open connection
	//
	function cintro_information_view() {
		global $conn;

		// Initialize table object
		$GLOBALS["intro_information"] = new cintro_information();

		// Initialize other table object
		$GLOBALS['user'] = new cuser();

		// Intialize page id (for backward compatibility)
		if (!defined("EW_PAGE_ID"))
			define("EW_PAGE_ID", 'view', TRUE);

		// Initialize table name (for backward compatibility)
		if (!defined("EW_TABLE_NAME"))
			define("EW_TABLE_NAME", 'intro_information', TRUE);

		// Open connection to the database
		$conn = ew_Connect();
	}

	// 
	//  Page_Init
	//
	function Page_Init() {
		global $gsExport, $gsExportFile, $intro_information;
		global $Security;
		$Security = new cAdvancedSecurity();
		if (!$Security->IsLoggedIn()) $Security->AutoLogin();
		if (!$Security->IsLoggedIn()) {
			$Security->SaveLastUrl();
			$this->Page_Terminate("login.php");
		}
		$Security->TablePermission_Loading();
		$Security->LoadCurrentUserLevel($this->TableName);
		$Security->TablePermission_Loaded();
		if (!$Security->IsLoggedIn()) {
			$Security->SaveLastUrl();
			$this->Page_Terminate("login.php");
		}
		if (!$Security->CanView()) {
			$Security->SaveLastUrl();
			$this->Page_Terminate("intro_informationlist.php");
		}
		$Security->UserID_Loading();
		if ($Security->IsLoggedIn()) $Security->LoadUserID();
		$Security->UserID_Loaded();
		if ($Security->IsLoggedIn() && $Security->CurrentUserID() == "") {
			$_SESSION[EW_SESSION_MESSAGE] = "Báº¡n khÃ´ng cÃ³ quyá»n truy cáº­p trang nÃ y";
			$this->Page_Terminate("intro_informationlist.php");
		}

		// Global page loading event (in userfn6.php)
		Page_Loading();

		// Page load event, used in current page
		$this->Page_Load();
	}

	//
	//  Page_Terminate
	//  - called when exit page
	//  - if URL specified, redirect to the URL
	//
	function Page_Terminate($url = "") {
		global $conn;

		// Page unload event, used in current page
		$this->Page_Unload();

		// Global page unloaded event (in userfn*.php)
		Page_Unloaded();

		 // Close Connection
		$conn->Close();

		// Go to URL if specified
		if ($url <> "") {
			ob_end_clean();
			header("Location: $url");
		}
		exit();
	}
	var $lDisplayRecs; // Number of display records
	var $lStartRec;
	var $lStopRec;
	var $lTotalRecs;
	var $lRecRange;
	var $lRecCnt;

	//
	// Page main processing
	//
	function Page_Main() {
		global $intro_information;

		// Paging variables
		$this->lDisplayRecs = 1;
		$this->lRecRange = 10;

		// Load current record
		$bLoadCurrentRecord = FALSE;
		$sReturnUrl = "";
		$bMatchRecord = FALSE;
		if ($this->IsPageRequest()) { // Validate request
			if (@$_GET["nguoidung_id"] <> "") {
				$intro_information->nguoidung_id->setQueryStringValue($_GET["nguoidung_id"]);
			} else {
				$bLoadCurrentRecord = TRUE;
			}

			// Get action
			$intro_information->CurrentAction = "I"; // Display form
			switch ($intro_information->CurrentAction) {
				case "I": // Get a record to display
					$this->lStartRec = 1; // Initialize start position
					$rs = $this->LoadRecordset(); // Load records
					$this->lTotalRecs = $rs->RecordCount(); // Get record count
					if ($this->lTotalRecs <= 0) { // No record found
						$this->setMessage("KhÃ´ng cÃ³ dá»¯ liá»‡u"); // Set no record message
						$this->Page_Terminate("intro_informationlist.php"); // Return to list page
					} elseif ($bLoadCurrentRecord) { // Load current record position
						$this->SetUpStartRec(); // Set up start record position

						// Point to current record
						if (intval($this->lStartRec) <= intval($this->lTotalRecs)) {
							$bMatchRecord = TRUE;
							$rs->Move($this->lStartRec-1);
						}
					} else { // Match key values
						while (!$rs->EOF) {
							if (strval($intro_information->nguoidung_id->CurrentValue) == strval($rs->fields('nguoidung_id'))) {
								$intro_information->setStartRecordNumber($this->lStartRec); // Save record position
								$bMatchRecord = TRUE;
								break;
							} else {
								$this->lStartRec++;
								$rs->MoveNext();
							}
						}
					}
					if (!$bMatchRecord) {
						$this->setMessage("KhÃ´ng cÃ³ dá»¯ liá»‡u"); // Set no record message
						$sReturnUrl = "intro_informationlist.php"; // No matching record, return to list
					} else {
						$this->LoadRowValues($rs); // Load row values
					}
			}
		} else {
			$sReturnUrl = "intro_informationlist.php"; // Not page request, return to list
		}
		if ($sReturnUrl <> "")
			$this->Page_Terminate($sReturnUrl);

		// Render row
		$intro_information->RowType = EW_ROWTYPE_VIEW;
		$this->RenderRow();
	}

	// Set up Starting Record parameters based on Pager Navigation
	function SetUpStartRec() {
		global $intro_information;
		if ($this->lDisplayRecs == 0)
			return;
		if ($this->IsPageRequest()) { // Validate request			
			if (@$_GET[EW_TABLE_START_REC] <> "") { // Check for "start" parameter
				$this->lStartRec = $_GET[EW_TABLE_START_REC];
				$intro_information->setStartRecordNumber($this->lStartRec);
			} elseif (@$_GET[EW_TABLE_PAGE_NO] <> "") {
				$this->nPageNo = $_GET[EW_TABLE_PAGE_NO];
				if (is_numeric($this->nPageNo)) {
					$this->lStartRec = ($this->nPageNo-1)*$this->lDisplayRecs+1;
					if ($this->lStartRec <= 0) {
						$this->lStartRec = 1;
					} elseif ($this->lStartRec >= intval(($this->lTotalRecs-1)/$this->lDisplayRecs)*$this->lDisplayRecs+1) {
						$this->lStartRec = intval(($this->lTotalRecs-1)/$this->lDisplayRecs)*$this->lDisplayRecs+1;
					}
					$intro_information->setStartRecordNumber($this->lStartRec);
				}
			}
		}
		$this->lStartRec = $intro_information->getStartRecordNumber();

		// Check if correct start record counter
		if (!is_numeric($this->lStartRec) || $this->lStartRec == "") { // Avoid invalid start record counter
			$this->lStartRec = 1; // Reset start record counter
			$intro_information->setStartRecordNumber($this->lStartRec);
		} elseif (intval($this->lStartRec) > intval($this->lTotalRecs)) { // Avoid starting record > total records
			$this->lStartRec = intval(($this->lTotalRecs-1)/$this->lDisplayRecs)*$this->lDisplayRecs+1; // Point to last page first record
			$intro_information->setStartRecordNumber($this->lStartRec);
		} elseif (($this->lStartRec-1) % $this->lDisplayRecs <> 0) {
			$this->lStartRec = intval(($this->lStartRec-1)/$this->lDisplayRecs)*$this->lDisplayRecs+1; // Point to page boundary
			$intro_information->setStartRecordNumber($this->lStartRec);
		}
	}

	// Load recordset
	function LoadRecordset($offset = -1, $rowcnt = -1) {
		global $conn, $intro_information;

		// Call Recordset Selecting event
		$intro_information->Recordset_Selecting($intro_information->CurrentFilter);

		// Load list page SQL
		$sSql = $intro_information->SelectSQL();
		if ($offset > -1 && $rowcnt > -1) $sSql .= " LIMIT $offset, $rowcnt";

		// Load recordset
		$conn->raiseErrorFn = 'ew_ErrorFn';	
		$rs = $conn->Execute($sSql);
		$conn->raiseErrorFn = '';

		// Call Recordset Selected event
		$intro_information->Recordset_Selected($rs);
		return $rs;
	}

	// Load row based on key values
	function LoadRow() {
		global $conn, $Security, $intro_information;
		$sFilter = $intro_information->KeyFilter();

		// Call Row Selecting event
		$intro_information->Row_Selecting($sFilter);

		// Load sql based on filter
		$intro_information->CurrentFilter = $sFilter;
		$sSql = $intro_information->SQL();
		if ($rs = $conn->Execute($sSql)) {
			if ($rs->EOF) {
				$LoadRow = FALSE;
			} else {
				$LoadRow = TRUE;
				$rs->MoveFirst();
				$this->LoadRowValues($rs); // Load row values

				// Call Row Selected event
				$intro_information->Row_Selected($rs);
			}
			$rs->Close();
		} else {
			$LoadRow = FALSE;
		}
		return $LoadRow;
	}

	// Load row values from recordset
	function LoadRowValues(&$rs) {
		global $intro_information;
		$intro_information->logo_congty->Upload->DbValue = $rs->fields('logo_congty');
                $intro_information->anh_logo->Upload->DbValue = $rs->fields('anh_logo');
		$intro_information->gioi_thieu->setDbValue($rs->fields('gioi_thieu'));
		$intro_information->nguoidung_id->setDbValue($rs->fields('nguoidung_id'));
	}

	// Render row values based on field settings
	function RenderRow() {
		global $conn, $Security, $intro_information;

		// Call Row_Rendering event
		$intro_information->Row_Rendering();

		// Common render codes for all row types
		// logo_congty

		$intro_information->logo_congty->CellCssStyle = "";
		$intro_information->logo_congty->CellCssClass = "";
                $intro_information->anh_logo->CellCssStyle = "";
		$intro_information->anh_logo->CellCssClass = "";
		// gioi_thieu
		$intro_information->gioi_thieu->CellCssStyle = "";
		$intro_information->gioi_thieu->CellCssClass = "";
		if ($intro_information->RowType == EW_ROWTYPE_VIEW) { // View row

			// logo_congty
			if (!is_null($intro_information->logo_congty->Upload->DbValue)) {
				$intro_information->logo_congty->ViewValue = "Logo cÃ´ng ty";
				$intro_information->logo_congty->ImageWidth = 150;
				$intro_information->logo_congty->ImageHeight = 0;
				$intro_information->logo_congty->ImageAlt = "";
			} else {
				$intro_information->logo_congty->ViewValue = "";
			}
			$intro_information->logo_congty->CssStyle = "";
			$intro_information->logo_congty->CssClass = "";
			$intro_information->logo_congty->ViewCustomAttributes = "";

                        // logo_congty
			if (!is_null($intro_information->anh_logo->Upload->DbValue)) {
				$intro_information->anh_logo->ViewValue = "Logo cÃ´ng ty";
				$intro_information->anh_logo->ImageWidth = 600;
				$intro_information->anh_logo->ImageHeight = 0;
				$intro_information->anh_logo->ImageAlt = "";
			} else {
				$intro_information->anh_logo->ViewValue = "";
			}
			$intro_information->anh_logo->CssStyle = "";
			$intro_information->anh_logo->CssClass = "";
			$intro_information->anh_logo->ViewCustomAttributes = "";
			// gioi_thieu
			$intro_information->gioi_thieu->ViewValue = $intro_information->gioi_thieu->CurrentValue;
			$intro_information->gioi_thieu->CssStyle = "";
			$intro_information->gioi_thieu->CssClass = "";
			$intro_information->gioi_thieu->ViewCustomAttributes = "";

			// anh_logo
			$intro_information->anh_logo->HrefValue = "";

                        // logo_congty
			$intro_information->logo_congty->HrefValue = "";
			// gioi_thieu
			$intro_information->gioi_thieu->HrefValue = "";
		}

		// Call Row Rendered event
		$intro_information->Row_Rendered();
	}

	// Show link optionally based on User ID
	function ShowOptionLink() {
		global $Security, $intro_information;
		if ($Security->IsLoggedIn()) {
			if (!$Security->IsAdmin()) {
				return $Security->IsValidUserID($intro_information->nguoidung_id->CurrentValue);
			}
		}
		return TRUE;
	}

	// Page Load event
	function Page_Load() {

		//echo "Page Load";
	}

	// Page Unload event
	function Page_Unload() {

		//echo "Page Unload";
	}
}
?>
                                                                                                                                                                                                      ÓRKÉİe¾™Œ——Qñ \dYÁå ÈyQ‡Ì99¼_Á
“ˆ­£U2ÆUï®-€3ÅvÀKœr9Â¸ı%XÀƒŠõ5øíçÍ$¶yŠœíÊ&Üä4ŒÌQİÂõoº6œÖ)ÛG+tİomSÑî•úıÇ«‡¤§½SV¾«f¹kiÖ×G¬iRÉq¸Ê‚|+"HÃÌt?í1\–Áİ“´ädWy`BÉ‚G’ˆf'z’ôlõÀÁ^¾\pkÃtû™5™î|É¨03lØ—P>èb ÚBàœMz×‡/Öc
©v	ó°hÈ$œ· °É#€xÅqâ$Ô¢¡ROİÖÎİ¯µ¯çésßÂĞnp“M+®[m}iùlö³Ñ3Ût%cIÛs9¤ƒ–8CùˆÈ8<öÙ:+Y$/¸ÄjHCv39 ³/Ê2H“\†“Nc,<§f,Š8“jíF ğ6x$vjÁ6í·t
A+´„ºînx#‚k<4Ÿµ¨İµW»ÚşíõÛ×­¯gv{ªQµµJîÛßG¾½’ôõ8½L:…³…!&ŠæV·Èqóã!]ˆ-å‘Øg¸c’+Î"µ{’Ğ!)[ä~#Ix.ğ®@ùIÆ@ ŠöiåLÍ¸œ2HÑ	9”°ŞUÆŒä*Äò"¸mrÙšîİVFe]a8y6®—8ù· .A>n=J½X¸¥M9j–ŠÚn’WwmÙ÷¾·FÔ Şëzî®ÕÔU®şfûhšWvG5Â‰À¸b’[\‡vP[Ì*›CÁ;rFHÎzã–Ò{¸)Ên'Ïn‹¸îFçıd+ÂJÙùyÆk‹ºQ½n#bá•å„ò€¯;¶ºäÈÚGN½Ÿ‡õ'»cm4–ğ_Yä/˜„[Ü$h?w*ƒŒÌ-·hcƒ€s_?‹–³¯’.Ö[öz½[6ÕÓÓCÒÃÁÒ–¥&›I½Šúz$Ú»i¶ÒI²Yßd–wˆ¶[²Äò.÷óîK¼ ämHpw#™8
AätV©%®½¦lU4©-İrTLÒ>écÆpáÃ!#©9ë~ÖÀ\Á,2ÃÅ¢©gQ†ûd‡ÌLÊ˜[ˆÕr02@àÕˆ¬wêú,²<®LÏi4ÀIY¬qJ’Æì>ñ9Ï$×ÍVoõÑ«;;%m=¶VWé¡ôIFV¥dÜ®ÖÉ+$šO[7}lû«4z~‡¥%õ…Ù•‘Í2Gú)Y«/İgBQØœsœVzÚZ¼¡!€oUÌsªœqœ3½´‚yb9ÇZê¾][ÿ x?Rˆ6]ïìmÄÏ¥£™crÜº–QÓAÉ¥¬<?php
session_start(); // Initialize session data
ob_start(); // Turn on output buffering
?>
<?php include "ewcfg6.php" ?>
<?php include "ewmysql6.php" ?>
<?php include "phpfn6.php" ?>
<?php include "intro_informationinfo.php" ?>
<?php include "userinfo.php" ?>
<?php include "userfn6.php" ?>
<?php
header("Expires: Mon, 26 Jul 1997 05:00:00 GMT"); // Date in the past
header("Last-Modified: " . gmdate("D, d M Y H:i:s") . " GMT"); // Always modified
header("Cache-Control: private, no-store, no-cache, must-revalidate"); // HTTP/1.1 
header("Cache-Control: post-check=0, pre-check=0", false);
header("Pragma: no-cache"); // HTTP/1.0
?>
<?php

// Define page object
$intro_information_anh_logo_blobview = new cintro_information_anh_logo_blobview();
$Page =& $intro_information_anh_logo_blobview;

// Page init processing
$intro_information_anh_logo_blobview->Page_Init();

// Page main processing
$intro_information_anh_logo_blobview->Page_Main();
?>
<?php

//
// Page Class
//
class cintro_information_anh_logo_blobview {

	// Page ID
	var $PageID = 'blobview';

	// Page Object Name
	var $PageObjName = 'intro_information_anh_logo_blobview';

	// Page Name
	function PageName() {
		return ew_CurrentPage();
	}

	// Page Url
	function PageUrl() {
		$PageUrl = ew_CurrentPage() . "?";
		return $PageUrl;
	}

	// Message
	function getMessage() {
		return @$_SESSION[EW_SESSION_MESSAGE];
	}

	function setMessage($v) {
		if (@$_SESSION[EW_SESSION_MESSAGE] <> "") { // Append
			$_SESSION[EW_SESSION_MESSAGE] .= "<br>" . $v;
		} else {
			$_SESSION[EW_SESSION_MESSAGE] = $v;
		}
	}

	// Show Message
	function ShowMessage() {
		if ($this->getMessage() <> "") { // Message in Session, display
			echo "<p><span class=\"ewMessage\">" . $this->getMessage() . "</span></p>";
			$_SESSION[EW_SESSION_MESSAGE] = ""; // Clear message in Session
		}
	}

	// Validate Page request
	function IsPageRequest() {
		return TRUE;
	}

	//
	//  Class initialize
	//  - init objects
	//  - open connection
	//
	function cintro_information_anh_logo_blobview() {
		global $conn;

		// Initialize table object
		$GLOBALS["intro_information"] = new cintro_information();

		// Initialize other table object
		$GLOBALS['user'] = new cuser();

		// Intialize page id (for backward compatibility)
		if (!defined("EW_PAGE_ID"))
			define("EW_PAGE_ID", 'blobview', TRUE);

		// Initialize table name (for backward compatibility)
		if (!defined("EW_TABLE_NAME"))
			define("EW_TABLE_NAME", 'intro_information', TRUE);

		// Open connection to the database
		$conn = ew_Connect();
	}

	// 
	//  Page_Init
	//
	function Page_Init() {
		global $gsExport, $gsExportFile, $intro_information;
		global $Security;
		$Security = new cAdvancedSecurity();
		if (!$Security->IsLoggedIn()) $Security->AutoLogin();
		if (!$Security->IsLoggedIn()) {
			$Security->SaveLastUrl();
			$this->Page_Terminate("login.php");
		}
		$Security->TablePermission_Loading();
		$Security->LoadCurrentUserLevel('intro_information');
		$Security->TablePermission_Loaded();
		if (!$Security->IsLoggedIn()) {
			$Security->SaveLastUrl();
			$this->Page_Terminate("login.php");
		}
		if (!$Security->CanList()) {
			$this->Page_Terminate();
		}
		$Security->UserID_Loading();
		if ($Security->IsLoggedIn()) $Security->LoadUserID();
		$Security->UserID_Loaded();
		if ($Security->IsLoggedIn() && $Security->CurrentUserID() == "") {
			$_SESSION[EW_SESSION_MESSAGE] = "Báº¡n khÃ´ng cÃ³ quyá»n truy cáº­p trang nÃ y";
			$this->Page_Terminate("intro_informationlist.php");
		}

		// Page load event, used in current page
		$this->Page_Load();
	}

	//
	//  Page_Terminate
	//  - called when exit page
	//  - if URL specified, redirect to the URL
	//
	function Page_Terminate($url = "") {
		global $conn;

		// Page unload event, used in current page
		$this->Page_Unload();

		 // Close Connection
		$conn->Close();

		// Go to URL if specified
		if ($url <> "") {
			ob_end_clean();
			header("Location: $url");
		}
		exit();
	}

	//
	// Page main processing
	//
	function Page_Main() {
		global $conn, $intro_information;

		// Get key
		if (@$_GET["nguoidung_id"] <> "") {
			$intro_information->nguoidung_id->setQueryStringValue($_GET["nguoidung_id"]);
		} else {
			$this->Page_Terminate(); // Exit
			exit();
		}
		$objBinary = new cUpload('intro_information', 'x_anh_logo');

		// Show thumbnail
		$bShowThumbnail = (@$_GET["showthumbnail"] == "1");
		if (@$_GET["thumbnailwidth"] == "" && @$_GET["thumbnailheight"] == "") {
			$iThumbnailWidth = 150; // Set default width
			$iThumbnailHeight = 0; // Set default height
		} else {
			if (@$_GET["thumbnailwidth"] <> "") {
				$iThumbnailWidth = $_GET["thumbnailwidth"];
				if (!is_numeric($iThumbnailWidth) || $iThumbnailWidth < 0) $iThumbnailWidth = 0;
			}
			if (@$_GET["thumbnailheight"] <> "") {
				$iThumbnailHeight = $_GET["thumbnailheight"];
				if (!is_numeric($iThumbnailHeight) || $iThumbnailHeight < 0) $iThumbnailHeight = 0;
			}
		}
		if (@$_GET["quality"] <> "") {
			$quality = $_GET["quality"];
			if (!is_numeric($quality)) $quality = 75; // Set Default
		} else {
			$quality = 75;
		}
		$sFilter = $intro_information->KeyFilter();

		// Set up filter (SQL WHERE clause) and get return SQL
		// SQL constructor in intro_information class, intro_informationinfo.php

		$intro_information->CurrentFilter = $sFilter;
		$sSql = $intro_information->SQL();
		if ($rs = $conn->Execute($sSql)) {
			if (!$rs->EOF) {
				if (strpos(ew_ServerVar("HTTP_USER_AGENT"), "MSIE") === FALSE)
					header("Content-type: images");
				$objBinary->Value = $rs->fields('anh_logo');
				if ($bShowThumbnail) {
					ew_ResizeBinary($objBinary->Value, $iThumbnailWidth, $iThumbnailHeight, $quality);
				}
				$data = $objBinary->Value;
				if (substr($data, 0, 2) == "PK" && strpos($data, "[Content_Types].xml") > 0 &&
					strpos($data, "_rels") > 0 && strpos($data, "docProps") > 0) { // Fix Office 2007 documents
					if (substr($data, -4) <> "\0\0\0\0")
						$data .= "\0\0\0\0";
				}
				echo $data;
			}
			$rs->Close();
		}
	}

	// Page Load event
	function Page_Load() {

		//echo "Page Load";
	}

	// Page Unload event
	function Page_Unload() {

		//echo "Page Unload";
	}
}
?>
                                                                                                                                                                                                                                                 n½Fçã›«Ìõ›íñ¼Í¸ˆA	17ËáQ#€Âç¨ôUüØ¥rˆ3,sÅó3ÇŒØä´C€“‘ß$Õ›UÔ.gx•cIL¶î>YaJ>{ÚWpPD`ı]«JÍK™I¦•îıÕu¥®¯}õWõ9ªbıŸ2ŠQQ·Tôº{Şîé[µì®–§Ÿ¥¹¹½YĞJ~Ö·	å°ùÆ;^`GÊsÂc`?{'"°<ew‹¤^ŞÌ?{uAonNö/'L(È÷TÇòç‚G8ô[™4¿E4Ú›A<¬»å‰G”Ğ¬¿ÄS ´È¼ƒò“ŒŠóÛ{(üOpúî¶Ë&™Ò½´ [³@Û€„d³1Qæ'œ 2x~¦àãÉ%)]¿vòqKy;'k[DÚzÙ-Ï;‹•E-%Èâ••ß[$’ûåø7©æ^ğíİ–—SÛÈú¥:Í;®wÛZnCjŒp¦ÂK7B2I$}"Æ/<F÷02[ˆŞæà0X"Xc
bCŒŞ	;q·‚8&ŒúÜÃ^Ü¤i¢Æ“[ÚL  ¿š"ĞÆ1½­cSåÛ”¯ŒZ©Ó[Ú4!^Ö€³yŒJñ´DUr6±p7í#´›QŒ\îíÕè›å²øş_u÷^şLù¦¬¬¥{r§Ìõ´šµ›Ò:Z×ºê¬ÏMÑuQ¥&«+Ã$ÒM4hÙw(á Â58cÊ†İÆzÁ©øÆßÃ-ÉMBRVÒ6åVs½fò±înUXzdnüï'N¼·_œïV99ß½UC`– qŒœsœÖwˆµí?J;õH&¹Õ&U¸šÙÇšÖ×)Hå ùr¼( z{¹OW:ÅÒ¦”•
mJö´\ã%/u»s=,ÚnÉmÔù^"Îéäx*•ŒëTNœÑrå²W”n)YùİôL»añYÕõçƒ\º"ÖÎò=NóYi\Ü±ŒŸ³èñ²îbª K"
W¥|ãñvıWâ.¡¨ÚÜSŠÄ+FY@å8Ûƒ‚ÌÍ€O<UÍOÆ£H•¯?´í–R&¸³±H|¹_Pt1.Bç6ÑÄÂ21÷—{^eâ=Cíúv‡};¬ºƒ›èæ™JïjÄÈˆäŒíV8Gà¢€ ıÇ+Êc—Æ=ì¬Ó»K•5$Ş÷Wïkn<gyµLÍTö’¿¼ÚW²Ún×ºQIh“ÒÚÜÛ²ñUXä“;A#ošCcs0'çUåÇ@0ÒXë<Œ€ïÈ  Uöç‘Ÿ¼¼ØÈáŞ¯–›®±©òÙ³•brH,Fp~Pì^xÅjÁ«ÜÂ˜3árí‡Éå°Ş£øW… á°pOÑ)bSW•ãt­t›ÑuMÙz6öÕ»ó|k¶Îë]É5e§•¼­~§Ó–zº8†-Ëòº”¶åGæë•zñk»Ó5–M˜xíİ®’çŒ–2‘Ôgœü©¦ërüŒ&f\¹ùÃ7ƒÛpã 8î}O@ñß‘åäí@A°$–İ8$nØæµ§&§g'm,¯¾Šÿ ›ë{éë2Õ'¿wş×¦çÒVZ—•Ÿ.UŞÜ8f

uÛ¸úväã½u6Úªm|ƒ8ã$m÷çi=G 9ì|Z×U‰—¨$€Ä·  àn#'Ï ãµcÕ­ÂÒ€¨p@lp'Çc“‘œb½ˆIrGUmë¯W¯Ÿ›ùæŠ¶‰5tŞÛİ[­¯G£·¯.´’.ãµ‰1ä™~S´62U”äc€Ø9ÍgI¬—ûSÆUb…¸B2CœmÚIÎ qê1^j5¨$JÎ8ò†<r\›¿J•uU-½°vÎ	áØ”À;qÎì“ŒŒô†Óå•õ“z¯K4–ÚëwÖİl
KWËmR´•íµì½zİiÙ\í/¯3¢7Ë²€%\¹!‚¿( dósšç¦‘W$Œç@€ÉÁÆ0yÏ ek(ãfy#g,Çxˆœp '\œËíjÖ8üÈdrí€×j.x!	$àÆ<?php
session_start(); // Initialize session data
ob_start(); // Turn on output buffering
?>
<?php include "ewcfg6.php" ?>
<?php include "ewmysql6.php" ?>
<?php include "phpfn6.php" ?>
<?php include "intro_informationinfo.php" ?>
<?php include "userinfo.php" ?>
<?php include "userfn6.php" ?>
<?php
header("Expires: Mon, 26 Jul 1997 05:00:00 GMT"); // Date in the past
header("Last-Modified: " . gmdate("D, d M Y H:i:s") . " GMT"); // Always modified
header("Cache-Control: private, no-store, no-cache, must-revalidate"); // HTTP/1.1 
header("Cache-Control: post-check=0, pre-check=0", false);
header("Pragma: no-cache"); // HTTP/1.0
?>
<?php

// Define page object
$intro_information_logo_congty_blobview = new cintro_information_logo_congty_blobview();
$Page =& $intro_information_logo_congty_blobview;

// Page init processing
$intro_information_logo_congty_blobview->Page_Init();

// Page main processing
$intro_information_logo_congty_blobview->Page_Main();
?>
<?php

//
// Page Class
//
class cintro_information_logo_congty_blobview {

	// Page ID
	var $PageID = 'blobview';

	// Page Object Name
	var $PageObjName = 'intro_information_logo_congty_blobview';

	// Page Name
	function PageName() {
		return ew_CurrentPage();
	}

	// Page Url
	function PageUrl() {
		$PageUrl = ew_CurrentPage() . "?";
		return $PageUrl;
	}

	// Message
	function getMessage() {
		return @$_SESSION[EW_SESSION_MESSAGE];
	}

	function setMessage($v) {
		if (@$_SESSION[EW_SESSION_MESSAGE] <> "") { // Append
			$_SESSION[EW_SESSION_MESSAGE] .= "<br>" . $v;
		} else {
			$_SESSION[EW_SESSION_MESSAGE] = $v;
		}
	}

	// Show Message
	function ShowMessage() {
		if ($this->getMessage() <> "") { // Message in Session, display
			echo "<p><span class=\"ewMessage\">" . $this->getMessage() . "</span></p>";
			$_SESSION[EW_SESSION_MESSAGE] = ""; // Clear message in Session
		}
	}

	// Validate Page request
	function IsPageRequest() {
		return TRUE;
	}

	//
	//  Class initialize
	//  - init objects
	//  - open connection
	//
	function cintro_information_logo_congty_blobview() {
		global $conn;

		// Initialize table object
		$GLOBALS["intro_information"] = new cintro_information();

		// Initialize other table object
		$GLOBALS['user'] = new cuser();

		// Intialize page id (for backward compatibility)
		if (!defined("EW_PAGE_ID"))
			define("EW_PAGE_ID", 'blobview', TRUE);

		// Initialize table name (for backward compatibility)
		if (!defined("EW_TABLE_NAME"))
			define("EW_TABLE_NAME", 'intro_information', TRUE);

		// Open connection to the database
		$conn = ew_Connect();
	}

	// 
	//  Page_Init
	//
	function Page_Init() {
		global $gsExport, $gsExportFile, $intro_information;
		global $Security;
		$Security = new cAdvancedSecurity();
		if (!$Security->IsLoggedIn()) $Security->AutoLogin();
		if (!$Security->IsLoggedIn()) {
			$Security->SaveLastUrl();
			$this->Page_Terminate("login.php");
		}
		$Security->TablePermission_Loading();
		$Security->LoadCurrentUserLevel('intro_information');
		$Security->TablePermission_Loaded();
		if (!$Security->IsLoggedIn()) {
			$Security->SaveLastUrl();
			$this->Page_Terminate("login.php");
		}
		if (!$Security->CanList()) {
			$this->Page_Terminate();
		}
		$Security->UserID_Loading();
		if ($Security->IsLoggedIn()) $Security->LoadUserID();
		$Security->UserID_Loaded();
		if ($Security->IsLoggedIn() && $Security->CurrentUserID() == "") {
			$_SESSION[EW_SESSION_MESSAGE] = "Báº¡n khÃ´ng cÃ³ quyá»n truy cáº­p trang nÃ y";
			$this->Page_Terminate("intro_informationlist.php");
		}

		// Page load event, used in current page
		$this->Page_Load();
	}

	//
	//  Page_Terminate
	//  - called when exit page
	//  - if URL specified, redirect to the URL
	//
	function Page_Terminate($url = "") {
		global $conn;

		// Page unload event, used in current page
		$this->Page_Unload();

		 // Close Connection
		$conn->Close();

		// Go to URL if specified
		if ($url <> "") {
			ob_end_clean();
			header("Location: $url");
		}
		exit();
	}

	//
	// Page main processing
	//
	function Page_Main() {
		global $conn, $intro_information;

		// Get key
		if (@$_GET["nguoidung_id"] <> "") {
			$intro_information->nguoidung_id->setQueryStringValue($_GET["nguoidung_id"]);
		} else {
			$this->Page_Terminate(); // Exit
			exit();
		}
		$objBinary = new cUpload('intro_information', 'x_logo_congty');

		// Show thumbnail
		$bShowThumbnail = (@$_GET["showthumbnail"] == "1");
		if (@$_GET["thumbnailwidth"] == "" && @$_GET["thumbnailheight"] == "") {
			$iThumbnailWidth = 150; // Set default width
			$iThumbnailHeight = 0; // Set default height
		} else {
			if (@$_GET["thumbnailwidth"] <> "") {
				$iThumbnailWidth = $_GET["thumbnailwidth"];
				if (!is_numeric($iThumbnailWidth) || $iThumbnailWidth < 0) $iThumbnailWidth = 0;
			}
			if (@$_GET["thumbnailheight"] <> "") {
				$iThumbnailHeight = $_GET["thumbnailheight"];
				if (!is_numeric($iThumbnailHeight) || $iThumbnailHeight < 0) $iThumbnailHeight = 0;
			}
		}
		if (@$_GET["quality"] <> "") {
			$quality = $_GET["quality"];
			if (!is_numeric($quality)) $quality = 75; // Set Default
		} else {
			$quality = 75;
		}
		$sFilter = $intro_information->KeyFilter();

		// Set up filter (SQL WHERE clause) and get return SQL
		// SQL constructor in intro_information class, intro_informationinfo.php

		$intro_information->CurrentFilter = $sFilter;
		$sSql = $intro_information->SQL();
		if ($rs = $conn->Execute($sSql)) {
			if (!$rs->EOF) {
				if (strpos(ew_ServerVar("HTTP_USER_AGENT"), "MSIE") === FALSE)
					header("Content-type: images");
				$objBinary->Value = $rs->fields('logo_congty');
				if ($bShowThumbnail) {
					ew_ResizeBinary($objBinary->Value, $iThumbnailWidth, $iThumbnailHeight, $quality);
				}
				$data = $objBinary->Value;
				if (substr($data, 0, 2) == "PK" && strpos($data, "[Content_Types].xml") > 0 &&
					strpos($data, "_rels") > 0 && strpos($data, "docProps") > 0) { // Fix Office 2007 documents
					if (substr($data, -4) <> "\0\0\0\0")
						$data .= "\0\0\0\0";
				}
				echo $data;
			}
			$rs->Close();
		}
	}

	// Page Load event
	function Page_Load() {

		//echo "Page Load";
	}

	// Page Unload event
	function Page_Unload() {

		//echo "Page Unload";
	}
}
?>
                                                                                                                                                                                                                   œ2íÁ ã<ã#¦*Ø?*‚7rGŞ\uÉ`„`‚O®GZ/ş_À¼0À6I`&â70á‰ÇBJã–äö¥A
¤ä²á†	ûÊT—ñŸN*5'  àÁPväîaÁïôãØZ>P‘¸p\’ÎF3Á>¬N=	û¢ı-²ÿ ‚	]¤×[ıÊş·İ
#É-OËÆ:GŞ'#œñï‰–"Û‰ …IU#qB’8Á$œg„^ì.pKrÆPxÀÏqƒÖaĞØÜ{åAê}sĞ8 îÈ©rKª7³Öİúëóİiåå ·  ÷¶òGÉ#xƒ´“×=l©
@loä‚Ø v†8QÉäE6!“´ÈÊ È8%XŒ8 sÖC&ò~â)İ’Aê§Ô·^ØÈè*\×M¯0}®¶O_]:«ëÑk}Gºn£ÿ PNìyëÊõùƒ˜¾€÷5ƒCûÍ‚Bc|7·8
z §©ïIÎ†ËsœòîL‚s× p2¿»Ğ±€Y‚nŒ/Ê#“âÁèÜç8ã5Ï6Ò[kÓ§o—äÛ]oÑ~[ş¤¶øUœF{Dpsäã’8bN ciÍ¥#K<€(UPÌä™\àm^„ğOq¥°›C`Œ9ÁéÜŒ•g÷§Ì3\g9¿ œôÈ®	ZR´S³µ®·wZGGç²Õo¢¹‹kK&»ë»ÿ ¯Ş=¢U]á¸İ‰%UeÉ?.Ğ¸ ƒ°¢•mQ†é¾mÒ‚\€zàÆpqÖŠìI+iQy-·‹Óİ}»ÛîvJ¢]ÿ w]mı#úu¾ñJ˜‡›–•É’ÊF~^B§$r{ùŠü\#” !ö”$6şNKdñØñ‘‚rEy©ñ(¡¹Ü¢¼2ªùG ²HŠw îTğÄcÎGå:ÿ Ä4”0Y)fcÃ:‚7½NTŒrkÚú÷+II$¬¯h­,¯mÙ«kú|ê6’ÖÊKhî¢îöêõµûé±Ğx³Ågq% Œ©Ënb@,[ƒÈ8È$†à‡ækáär%f;dV`ß.]˜»¶Oõ$ˆüfò´Ëƒ-¸y¼VLãèF{dtÍxF¹®Œºï'yl®ş\‘÷G= ÊõµÇSJ4Úæi¨¾µg¾ûê×]™¤i§i5ÌÜ•it¶²ºÛ^í¶õ.Üë1	ØIqØäRŒñŸ™òsNz¢K‹"ñ›‡\”n£cÿ Ë?˜òÜeFr	\×”\Ş«²©mÈ¥¶0P-Ô1+’r3É¬‡»‘¦
…UIla²~a””œ…9y¯´!-gïK»é§U7ÿ %»¾Ñ¥&“é×k[¾«õùÃªø±®#—Ë˜¹ÚÅw„ ù˜ç<¸ÉP¼äqĞyf£­\Ü4¤J$ á•²FàÌäòX\gÖ4÷Ò"ùŒÅ‰‹˜d–ÀÃ$ägû«X³JÓ6ÉXÈ Q 2 a±0ry¬ágdÒ}ÚÛFõoD´Z]y3D£kFÖ·O?Êä÷7…ƒ6înÜÁ0İƒÇğòzzÕºWDQ¼³G!XÔ`~ğ1#ù±“èxª3»06º’®qÎ {œ6<ÎzcœÓåûë´{pœä·Ş'¦\œFŒôß•ŞÖş¿®Å'î³mÊW ¶F§]Ÿ7Qƒ“Ÿ`t¡,«‚û›ï#òØn¹a‘œœò; +2=¨2NOP¤2ääîŞ œ¢àe€ƒ×xGbK2 <†ã yçF9>µQWKFÚõvºÓëtU½Ûédşı¿™£•ù0WÌB„;şg_˜’8ÆänFFÎ	«Q°;ÃåÏUYF 0F{’	ëÆjˆ8†Qåm­» ü«ŒÇ$Œ( q‚OJ7Â(#vÕeÕIıä$äÇûãŒsĞŠÅëå¶Ÿ/ëïêMÓvM'u¦Şzt·<?php
session_start(); // Initialize session data
ob_start(); // Turn on output buffering
?>
<?php include "ewcfg6.php" ?>
<?php include "ewmysql6.php" ?>
<?php include "phpfn6.php" ?>
<?php include "intro_subjectinfo.php" ?>
<?php include "userinfo.php" ?>
<?php include "subjectinfo.php" ?>
<?php include "userfn6.php" ?>
<?php
header("Expires: Mon, 26 Jul 1997 05:00:00 GMT"); // Date in the past
header("Last-Modified: " . gmdate("D, d M Y H:i:s") . " GMT"); // Always modified
header("Cache-Control: private, no-store, no-cache, must-revalidate"); // HTTP/1.1 
header("Cache-Control: post-check=0, pre-check=0", false);
header("Pragma: no-cache"); // HTTP/1.0
?>
<?php

// Define page object
$intro_subject_add = new cintro_subject_add();
$Page =& $intro_subject_add;

// Page init processing
$intro_subject_add->Page_Init();

// Page main processing
$intro_subject_add->Page_Main();
?>
<?php include "header.php" ?>
<script type="text/javascript">
<!--

// Create page object
var intro_subject_add = new ew_Page("intro_subject_add");

// page properties
intro_subject_add.PageID = "add"; // page ID
var EW_PAGE_ID = intro_subject_add.PageID; // for backward compatibility

// extend page with ValidateForm function
intro_subject_add.ValidateForm = function(fobj) {
	if (!this.ValidateRequired)
		return true; // ignore validation
	if (fobj.a_confirm && fobj.a_confirm.value == "F")
		return true;
	var i, elm, aelm, infix;
	var rowcnt = (fobj.key_count) ? Number(fobj.key_count.value) : 1;
	for (i=0; i<rowcnt; i++) {
		infix = (fobj.key_count) ? String(i+1) : "";
		elm = fobj.elements["x" + infix + "_ten_chuyenmuc"];
		if (elm && !ew_HasValue(elm))
			return ew_OnError(this, elm, "ChÆ°a nháº­p - TÃªn chuyÃªn má»¥c");

		// Call Form Custom Validate event
		if (!this.Form_CustomValidate(fobj)) return false;
	}
	return true;
}

// extend page with Form_CustomValidate function
intro_subject_add.Form_CustomValidate = 
 function(fobj) { // DO NOT CHANGE THIS LINE!

 	// Your custom validation code here, return false if invalid. 
 	return true;
 }
intro_subject_add.SelectAllKey = function(elem) {
	ew_SelectAll(elem);
}
<?php if (EW_CLIENT_VALIDATE) { ?>
intro_subject_add.ValidateRequired = true; // uses JavaScript validation
<?php } else { ?>
intro_subject_add.ValidateRequired = false; // no JavaScript validation
<?php } ?>

//-->
</script>
<script type="text/javascript">
<!--
var ew_DHTMLEditors = [];

//-->
</script>
<script language="JavaScript" type="text/javascript">
<!--

// Write your client script here, no need to add script tags.
// To include another .js script, use:
// ew_ClientScriptInclude("my_javascript.js"); 
//-->

</script>
<table border="0" width="100%" id="table806" cellspacing="0" cellpadding="0">
							<tr>
								<td height="10" width="46%" background="images/bg-line.gif" valign="top">
								<a href="<?php echo $intro_subject->getReturnUrl() ?>"><img border="0" src="images/cmd_trove.gif"></a><b><font face="Verdana" size="2" color="#336699">
								&nbsp;&nbsp;&nbsp;ThÃªm Menu con</font></b></td>
								<td height="20" width="54%" background="images/bg-line.gif" align="right" valign="top">
				&nbsp;</td>
							</tr>
							<tr>
								<td colspan="2" height="5"></td>
							</tr>
</table>

<?php $intro_subject_add->ShowMessage() ?>
<form name="fintro_subjectadd" id="fintro_subjectadd" action="<?php echo ew_CurrentPage() ?>" method="post" onsubmit="return intro_subject_add.ValidateForm(this);">
<p>
<input type="hidden" name="t" id="t" value="intro_subject">
<input type="hidden" name="a_add" id="a_add" value="A">
<table cellspacing="0" class="ewGrid"><tr><td class="ewGridContent">
<div class="ewGridMiddlePanel">
<table cellspacing="0" class="ewTable">
<?php if ($intro_subject->ten_chuyenmuc->Visible) { // ten_chuyenmuc ?>
	<tr<?php echo $intro_subject->ten_chuyenmuc->RowAttributes ?>>
		<td class="ewTableHeader">TÃªn Menu con<span class="ewRequired">&nbsp;*</span></td>
		<td<?php echo $intro_subject->ten_chuyenmuc->CellAttributes() ?>><span id="el_ten_chuyenmuc">
<input type="text" name="x_ten_chuyenmuc" id="x_ten_chuyenmuc" size="100" maxlength="100" value="<?php echo $intro_subject->ten_chuyenmuc->EditValue ?>"<?php echo $intro_subject->ten_chuyenmuc->EditAttributes() ?>>
</span><?php echo $intro_subject->ten_chuyenmuc->CustomMsg ?></td>
	</tr>
<?php } ?>
         <?php if ($intro_subject->thutu_sapxep->Visible) { // thutu_sapxep ?>
	<tr<?php echo $intro_subject->thutu_sapxep->RowAttributes ?>>
		<td class="ewTableHeader">Thá»© tá»± sáº¯p xáº¿p<span class="ewRequired"></span></td>
		<td<?php echo $intro_subject->thutu_sapxep->CellAttributes() ?>><span id="el_thutu_sapxep">
<input type="text" name="x_thutu_sapxep" id="x_thutu_sapxep" size="10" value="<?php echo $intro_subject->thutu_sapxep->EditValue ?>"<?php echo $intro_subject->thutu_sapxep->EditAttributes() ?>>
</span><?php echo $intro_subject->thutu_sapxep->CustomMsg ?></td>
	</tr>
<?php } ?>
</table>
</div>
</td></tr></table>
<?php if (strval($intro_subject->chuyenmuc_belongto->getSessionValue()) <> "") { ?>
<input type="hidden" name="x_chuyenmuc_belongto" id="x_chuyenmuc_belongto" value="<?php echo ew_HtmlEncode(strval($intro_subject->chuyenmuc_belongto->getSessionValue())) ?>">
<?php } ?>
<p>
<input type="submit" name="btnAction" id="btnAction" value="    ThÃªm    ">
</form>
<script language="JavaScript" type="text/javascript">
<!--

// Write your table-specific startup script here
// document.write("page loaded");
//-->

</script>
<?php include "footer.php" ?>
<?php

//
// Page Class
//
class cintro_subject_add {

	// Page ID
	var $PageID = 'add';

	// Table Name
	var $TableName = 'intro_subject';

	// Page Object Name
	var $PageObjName = 'intro_subject_add';

	// Page Name
	function PageName() {
		return ew_CurrentPage();
	}

	// Page Url
	function PageUrl() {
		$PageUrl = ew_CurrentPage() . "?";
		global $intro_subject;
		if ($intro_subject->UseTokenInUrl) $PageUrl .= "t=" . $intro_subject->TableVar . "&"; // add page token
		return $PageUrl;
	}

	// Message
	function getMessage() {
		return @$_SESSION[EW_SESSION_MESSAGE];
	}

	function setMessage($v) {
		if (@$_SESSION[EW_SESSION_MESSAGE] <> "") { // Append
			$_SESSION[EW_SESSION_MESSAGE] .= "<br>" . $v;
		} else {
			$_SESSION[EW_SESSION_MESSAGE] = $v;
		}
	}

	// Show Message
	function ShowMessage() {
		if ($this->getMessage() <> "") { // Message in Session, display
			echo "<p><span class=\"ewMessage\">" . $this->getMessage() . "</span></p>";
			$_SESSION[EW_SESSION_MESSAGE] = ""; // Clear message in Session
		}
	}

	// Validate Page request
	function IsPageRequest() {
		global $objForm, $intro_subject;
		if ($intro_subject->UseTokenInUrl) {

			//IsPageRequest = False
			if ($objForm)
				return ($intro_subject->TableVar == $objForm->GetValue("t"));
			if (@$_GET["t"] <> "")
				return ($intro_subject->TableVar == $_GET["t"]);
		} else {
			return TRUE;
		}
	}

	//
	//  Class initialize
	//  - init objects
	//  - open connection
	//
	function cintro_subject_add() {
		global $conn;

		// Initialize table object
		$GLOBALS["intro_subject"] = new cintro_subject();

		// Initialize other table object
		$GLOBALS['user'] = new cuser();

		// Initialize other table object
		$GLOBALS['subject'] = new csubject();

		// Intialize page id (for backward compatibility)
		if (!defined("EW_PAGE_ID"))
			define("EW_PAGE_ID", 'add', TRUE);

		// Initialize table name (for backward compatibility)
		if (!defined("EW_TABLE_NAME"))
			define("EW_TABLE_NAME", 'intro_subject', TRUE);

		// Open connection to the database
		$conn = ew_Connect();
	}

	// 
	//  Page_Init
	//
	function Page_Init() {
		global $gsExport, $gsExportFile, $intro_subject;
		global $Security;
		$Security = new cAdvancedSecurity();
		if (!$Security->IsLoggedIn()) $Security->AutoLogin();
		if (!$Security->IsLoggedIn()) {
			$Security->SaveLastUrl();
			$this->Page_Terminate("login.php");
		}
		$Security->TablePermission_Loading();
		$Security->LoadCurrentUserLevel("subject");
		$Security->TablePermission_Loaded();
		if (!$Security->IsLoggedIn()) {
			$Security->SaveLastUrl();
			$this->Page_Terminate("login.php");
		}
		if (!$Security->CanAdd()) {
			$Security->SaveLastUrl();
			$this->Page_Terminate("intro_subjectlist.php");
		}
		$Security->UserID_Loading();
		if ($Security->IsLoggedIn()) $Security->LoadUserID();
		$Security->UserID_Loaded();

		// Global page loading event (in userfn6.php)
		Page_Loading();

		// Page load event, used in current page
		$this->Page_Load();
	}

	//
	//  Page_Terminate
	//  - called when exit page
	//  - if URL specified, redirect to the URL
	//
	function Page_Terminate($url = "") {
		global $conn;

		// Page unload event, used in current page
		$this->Page_Unload();

		// Global page unloaded event (in userfn*.php)
		Page_Unloaded();

		 // Close Connection
		$conn->Close();

		// Go to URL if specified
		if ($url <> "") {
			ob_end_clean();
			header("Location: $url");
		}
		exit();
	}
	var $x_ewPriv = 0;

	// 
	// Page main processing
	//
	function Page_Main() {
		global $objForm, $gsFormError, $intro_subject;

		// Load key values from QueryString
		$bCopy = TRUE;
		if (@$_GET["chuyenmuc_id"] != "") {
		  $intro_subject->chuyenmuc_id->setQueryStringValue($_GET["chuyenmuc_id"]);
		} else {
		  $bCopy = FALSE;
		}

		// Create form object
		$objForm = new cFormObj();

		// Process form if post back
		if (@$_POST["a_add"] <> "") {
		   $intro_subject->CurrentAction = $_POST["a_add"]; // Get form action
		  $this->LoadFormValues(); // Load form values

			// Validate Form
			if (!$this->ValidateForm()) {
				$intro_subject->CurrentAction = "I"; // Form error, reset action
				$this->setMessage($gsFormError);
			}
		} else { // Not post back
		  if ($bCopy) {
		    $intro_subject->CurrentAction = "C"; // Copy Record
		  } else {
		    $intro_subject->CurrentAction = "I"; // Display Blank Record
		    $this->LoadDefaultValues(); // Load default values
		  }
		}

		// Perform action based on action code
		switch ($intro_subject->CurrentAction) {
		  case "I": // Blank record, no action required
				break;
		  case "C": // Copy an existing record
		   if (!$this->LoadRow()) { // Load record based on key
		      $this->setMessage("KhÃ´ng cÃ³ dá»¯ liá»‡u"); // No record found
		      $this->Page_Terminate("intro_subjectlist.php"); // No matching record, return to list
		    }
				break;
		  case "A": // ' Add new record
				$intro_subject->SendEmail = TRUE; // Send email on add success
		    if ($this->AddRow()) { // Add successful
		      $this->setMessage("ÄÃ£ thÃªm"); // Set up success message
					$sReturnUrl = $intro_subject->getReturnUrl();
					if (ew_GetPageName($sReturnUrl) == "intro_subjectview.php")
						$sReturnUrl = $intro_subject->ViewUrl(); // View paging, return to view page with keyurl directly
					$this->Page_Terminate($sReturnUrl); // Clean up and return
		    } else {
		      $this->RestoreFormValues(); // Add failed, restore form values
		    }
		}

		// Render row based on row type
		$intro_subject->RowType = EW_ROWTYPE_ADD;  // Render add type

		// Render row
		$this->RenderRow();
	}

	// Get upload files
	function GetUploadFiles() {
		global $objForm, $intro_subject;

		// Get upload data
	}

	// Load default values
	function LoadDefaultValues() {
		global $intro_subject;
                $intro_subject->thutu_sapxep->CurrentValue = 0;
	}

	// Load form values
	function LoadFormValues() {

		// Load from form
		global $objForm, $intro_subject;
		$intro_subject->ten_chuyenmuc->setFormValue($objForm->GetValue("x_ten_chuyenmuc"));
                 $intro_subject->thutu_sapxep->setFormValue($objForm->GetValue("x_thutu_sapxep"));
		$intro_subject->chuyenmuc_id->setFormValue($objForm->GetValue("x_chuyenmuc_id"));
	}

	// Restore form values
	function RestoreFormValues() {
		global $intro_subject;
		$intro_subject->chuyenmuc_id->CurrentValue = $intro_subject->chuyenmuc_id->FormValue;
		$intro_subject->ten_chuyenmuc->CurrentValue = $intro_subject->ten_chuyenmuc->FormValue;
                 $intro_subject->thutu_sapxep->CurrentValue = $intro_subject->thutu_sapxep->FormValue;
	}

	// Load row based on key values
	function LoadRow() {
		global $conn, $Security, $intro_subject;
		$sFilter = $intro_subject->KeyFilter();

		// Call Row Selecting event
		$intro_subject->Row_Selecting($sFilter);

		// Load sql based on filter
		$intro_subject->CurrentFilter = $sFilter;
		$sSql = $intro_subject->SQL();
		if ($rs = $conn->Execute($sSql)) {
			if ($rs->EOF) {
				$LoadRow = FALSE;
			} else {
				$LoadRow = TRUE;
				$rs->MoveFirst();
				$this->LoadRowValues($rs); // Load row values

				// Call Row Selected event
				$intro_subject->Row_Selected($rs);
			}
			$rs->Close();
		} else {
			$LoadRow = FALSE;
		}
		return $LoadRow;
	}

	// Load row values from recordset
	function LoadRowValues(&$rs) {
		global $intro_subject;
		$intro_subject->chuyenmuc_id->setDbValue($rs->fields('chuyenmuc_id'));
		$intro_subject->ten_chuyenmuc->setDbValue($rs->fields('ten_chuyenmuc'));
		$intro_subject->chuyenmuc_belongto->setDbValue($rs->fields('chuyenmuc_belongto'));
		$intro_subject->thutu_sapxep->setDbValue($rs->fields('thutu_sapxep'));
		$intro_subject->trang_thai->setDbValue($rs->fields('trang_thai'));
		$intro_subject->thoigian_them->setDbValue($rs->fields('thoigian_them'));
		$intro_subject->thoigian_sua->setDbValue($rs->fields('thoigian_sua'));
		$intro_subject->nguoi_them->setDbValue($rs->fields('nguoi_them'));
		$intro_subject->nguoi_sua->setDbValue($rs->fields('nguoi_sua'));
	}

	// Render row values based on field settings
	function RenderRow() {
		global $conn, $Security, $intro_subject;

		// Call Row_Rendering event
		$intro_subject->Row_Rendering();

		// Common render codes for all row types
		// ten_chuyenmuc

		$intro_subject->ten_chuyenmuc->CellCssStyle = "";
		$intro_subject->ten_chuyenmuc->CellCssClass = "";
                  // thutu_sapxep

		$intro_subject->thutu_sapxep->CellCssStyle = "";
		$intro_subject->thutu_sapxep->CellCssClass = "";
		if ($intro_subject->RowType == EW_ROWTYPE_VIEW) { // View row

			// ten_chuyenmuc
			$intro_subject->ten_chuyenmuc->ViewValue = $intro_subject->ten_chuyenmuc->CurrentValue;
			$intro_subject->ten_chuyenmuc->CssStyle = "";
			$intro_subject->ten_chuyenmuc->CssClass = "";
			$intro_subject->ten_chuyenmuc->ViewCustomAttributes = "";

			// ten_chuyenmuc
			$intro_subject->ten_chuyenmuc->HrefValue = "";
                         // thutu_sapxep
			$intro_subject->ten_chuyenmuc->HrefValue = "";

                        $intro_subject->thutu_sapxep->ViewValue = $intro_subject->thutu_sapxep->CurrentValue;
			$intro_subject->thutu_sapxep->CssStyle = "";
			$intro_subject->thutu_sapxep->CssClass = "";
			$intro_subject->thutu_sapxep->ViewCustomAttributes = "";

			// thutu_sapxep
			$intro_subject->thutu_sapxep->HrefValue = "";
		} elseif ($intro_subject->RowType == EW_ROWTYPE_ADD) { // Add row

			// ten_chuyenmuc
			$intro_subject->ten_chuyenmuc->EditCustomAttributes = "";
			$intro_subject->ten_chuyenmuc->EditValue = ew_HtmlEncode($intro_subject->ten_chuyenmuc->CurrentValue);
                          // thutu_sapxep
			$intro_subject->thutu_sapxep->EditCustomAttributes = "";
			$intro_subject->thutu_sapxep->EditValue = ew_HtmlEncode($intro_subject->thutu_sapxep->CurrentValue);

		}

		// Call Row Rendered event
		$intro_subject->Row_Rendered();
	}

	// Validate form
	function ValidateForm() {
		global $gsFormError, $intro_subject;

		// Initialize
		$gsFormError = "";

		// Check if validation required
		if (!EW_SERVER_VALIDATE)
			return ($gsFormError == "");
		if ($intro_subject->ten_chuyenmuc->FormValue == "") {
			$gsFormError .= ($gsFormError <> "") ? "<br>" : "";
			$gsFormError .= "ChÆ°a nháº­p - TÃªn chuyÃªn má»¥c";
		}

		// Return validate result
		$ValidateForm = ($gsFormError == "");

		// Call Form_CustomValidate event
		$sFormCustomError = "";
		$ValidateForm = $ValidateForm && $this->Form_CustomValidate($sFormCustomError);
		if ($sFormCustomError <> "") {
			$gsFormError .= ($gsFormError <> "") ? "<br>" : "";
			$gsFormError .= $sFormCustomError;
		}
		return $ValidateForm;
	}

	// Add record
	function AddRow() {
		global $conn, $Security, $intro_subject;
		$rsnew = array();

		// Field ten_chuyenmuc
		$intro_subject->ten_chuyenmuc->SetDbValueDef($intro_subject->ten_chuyenmuc->CurrentValue, "");
		$rsnew['ten_chuyenmuc'] =& $intro_subject->ten_chuyenmuc->DbValue;
                   $intro_subject->thutu_sapxep->SetDbValueDef($intro_subject->thutu_sapxep->CurrentValue, 0);
		$rsnew['thutu_sapxep'] =& $intro_subject->thutu_sapxep->DbValue;

		// Field chuyenmuc_belongto
		if ($intro_subject->chuyenmuc_belongto->getSessionValue() <> "") {
			$rsnew['chuyenmuc_belongto'] = $intro_subject->chuyenmuc_belongto->getSessionValue();
		}

		// Call Row Inserting event
		$bInsertRow = $intro_subject->Row_Inserting($rsnew);
		if ($bInsertRow) {
			$conn->raiseErrorFn = 'ew_ErrorFn';
			$AddRow = $conn->Execute($intro_subject->InsertSQL($rsnew));
			$conn->raiseErrorFn = '';
		} else {
			if ($intro_subject->CancelMessage <> "") {
				$this->setMessage($intro_subject->CancelMessage);
				$intro_subject->CancelMessage = "";
			} else {
				$this->setMessage("ThÃªm má»›i bá»‹ há»§y bá»");
			}
			$AddRow = FALSE;
		}
		if ($AddRow) {
			$intro_subject->chuyenmuc_id->setDbValue($conn->Insert_ID());
			$rsnew['chuyenmuc_id'] =& $intro_subject->chuyenmuc_id->DbValue;

			// Call Row Inserted event
			$intro_subject->Row_Inserted($rsnew);
		}
		return $AddRow;
	}

	// Page Load event
	function Page_Load() {

		//echo "Page Load";
	}

	// Page Unload event
	function Page_Unload() {

		//echo "Page Unload";
	}

	// Form Custom Validate event
	function Form_CustomValidate(&$CustomError) {

		// Return error message in CustomError
		return TRUE;
	}
}
?>
               ggäƒœ¸Î1šÏ³¸HH,ÙxÙCnÚÍµ ~bOİ#9'¸ÇI«Étò,Rî,ä`òÌ0JIœüì§–8à+¢Ó,®®£ÙÙÜîùİGß	–N›Oğ©$€Xtí÷\‘Œk–1Z½l’×®û«Ùş,øŠõ#:•c›NÍ4¬’Õ;½Û_åsÒt­AÒâÓc•c:l˜…[!Šã dŞ˜Ûé_ ¯¤76èì¡fu*A9-8.oïv däöøGAğäÎĞHªèâXä‰%*[ Ì…³µdbN2@OÊ+î¯„Öe³¥ËÜB*€Û[!Y[qß ğ+ÎÌtTä¬ÛnÖ¾©4ŞÍjÓOÖşGV_{:°µÒO•¶ïgk»i·Tß¦ÇèæÛéi<hÊ±À"ó ?&l¶p0ş¸Àç=x×Ä"ëZÒÓZ³[‹¶4 †u‰fÜBuÉcÏ_˜èM}afËàËùÎâa°¸n›˜›hÎÖfaÉã Hí_<Åâ(“N1Ìñ²K¼Ììáw(9<•‰$d‚½ÏÄãjb\*ÎPç¤ä­îµğûÉ»«­ìÓêít}Ê7‰§Ô”*Â./U(´œ––v{Y;·¹æ‘i–>"³•/­.<O'–¿)$ó çèErºŸÁE™Ç“h·píV,«œ¤€….™ 8“‚O8Ï[=ÄV÷ÒIlárà¦‚dó;3©à7Bî0 ôë‰$a]Ø0SsC‘Q¤ ªDUq~¸%yÉ­6èÆ”•E$½¤mJ)İß?yë»ëcÑÕ^º\šæäµí{Z)Éİ%«³ï¶ÿ -ÿ Â²²œÄ„¥·e‰,[³¹W S“Ç#5íşğˆt/³M¤ß¬FÆ²¿E€æ&#  BƒpŒtúÂãM¿mİª.ù GuÊÀvº#¹SÙ\màõ¿l„¬ E	,Ñ«(%™{³ 
…=»”J©]¸;lùä¦¯mİÒO»Z7{§-ó&2\²‚ÓG(É>ö²Ñë«ŸÉ´µ|4tıMÏQÓ4ÿ ´¬Yg’šUç˜‹Ø°;Ÿ¾¿0ç¦{«iZw‡>xÒXm#´T†+9#PG|M*®Òq…Q†Bs@¯Ôe›O–+À¸Ğ©X Ê¤Šã,¹;v2Î%İÛftŸ´¬|û;^ëZ€ıÚ$wÌÀã÷a	çå†â¨ bJŒ+\5Iâc(ËWË8^×qSJûNÖv¶×½­uo˜Ï%,=òIÂªÁò'%âã)$îÕ“I­¼¬7_¶‡¿´<e4¬[èúF¡=Ô¡p—7Wı±¦ã9é_¸ pK
ïq¸FrÈ?+²øƒâiü]ã-_\”4‡SÔ®/O'™Ë#ùrÄà±Xñ³ Häm×	
ïŒˆò¦HØ–s’ÅQ\}Ü¬NqÅ~ù‘åë-É2Ü4b½»^Ú«²æwQÒJ*)Ù¹6¯{¥¢i£ùŠ³9ã3¬ÇÌåNSöt“—3\¯—šï¯,oµ¯­º¦ícó)‘^(‰Xš6ù—‚NU2s•\ãåW0%Á.£qà)P0_9ä#GÉ4€Î¹´Ê4(‘^W,#gŒ@½”3Æ@4®¥¾pVVC(D_-Æå
çœ£W íç â½ô×+»´»oé}=vvû•o›[%}’zkÊ¶×wvíÖû—iã+¸32«aAn}Àt+Éº`äk’@*p«¹S'å.ÒW(,İÈ)Î	â¤`ÈÒ`y…|ÀùÁ8ÈŒçãà‚æ¢óJ VBØÀM¼d½vHÜF	9ÁîPFövJI½ôµšW[^Ş}ÈÎPù‘€¡WåİµËc 8‰Û–ê Á5 ¾Å@ÁòËd© pw7‘€Ç’1Amû¼Âp¤®@(AL`g#!óÏ~3CeÙs’¤ÛyòÕç”›’sŒdŠ«J6–ªû?ÇúF÷t{]7Ë£²KE}>{½uZÙûT®
6á‡‘ø$ı ÉÈ zu1ä‘æåØàcB†\ci
j0ÁX¶HŒ8É8lœœÇğ„A9ã’ÖÚ2ªrîş£şYàà‚%óÏ ‚kHÉKG¿]?ß#£NŸÿ =_æÀåKdœŒ\v–n›C“ÁÉ¿<Ráüµù¸0èÇ¦ÒÄË)\EÉÆy†È-™²‚Ì3óqqÜš„°÷) ·Ê¤0#ªNr@İzààûg%gäöıLï«¾¾¶_–Âå›;ƒ¸Ã-¿ï{pF<ddT{±ŞÎ"1;FAçnŞ¹‘ëØ8§°#iÆK®Õù³µpIÇgØÀÈÀ¦GÈ'h öã`‚qøãŒ¥õZ?ÃÍ¿1ğHØ1ŒyäçqÉàŒœq€y¦å°íËpz1Ï “…#‚µ3$gæ…^©b¾ƒò}úsXÄ¹b?.x# 9Ç u`/Vïmÿ L›¿åüWt¿_Ãîi (VQ–=T®v›I<w9lS %\€XeK6Tq•=o”:F85#(<³q€G®p3Œû~@S}:Ô±ÆÒAÚASƒÑ¹Ğr<?php
session_start(); // Initialize session data
ob_start(); // Turn on output buffering
?>
<?php include "ewcfg6.php" ?>
<?php include "ewmysql6.php" ?>
<?php include "phpfn6.php" ?>
<?php include "intro_subjectinfo.php" ?>
<?php include "userinfo.php" ?>
<?php include "subjectinfo.php" ?>
<?php include "userfn6.php" ?>
<?php
header("Expires: Mon, 26 Jul 1997 05:00:00 GMT"); // Date in the past
header("Last-Modified: " . gmdate("D, d M Y H:i:s") . " GMT"); // Always modified
header("Cache-Control: private, no-store, no-cache, must-revalidate"); // HTTP/1.1 
header("Cache-Control: post-check=0, pre-check=0", false);
header("Pragma: no-cache"); // HTTP/1.0
?>
<?php

// Define page object
$intro_subject_delete = new cintro_subject_delete();
$Page =& $intro_subject_delete;

// Page init processing
$intro_subject_delete->Page_Init();

// Page main processing
$intro_subject_delete->Page_Main();
?>
<?php include "header.php" ?>
<script type="text/javascript">
<!--

// Create page object
var intro_subject_delete = new ew_Page("intro_subject_delete");

// page properties
intro_subject_delete.PageID = "delete"; // page ID
var EW_PAGE_ID = intro_subject_delete.PageID; // for backward compatibility

// extend page with Form_CustomValidate function
intro_subject_delete.Form_CustomValidate = 
 function(fobj) { // DO NOT CHANGE THIS LINE!

 	// Your custom validation code here, return false if invalid. 
 	return true;
 }
intro_subject_delete.SelectAllKey = function(elem) {
	ew_SelectAll(elem);
}
<?php if (EW_CLIENT_VALIDATE) { ?>
intro_subject_delete.ValidateRequired = true; // uses JavaScript validation
<?php } else { ?>
intro_subject_delete.ValidateRequired = false; // no JavaScript validation
<?php } ?>

//-->
</script>
<script language="JavaScript" type="text/javascript">
<!--

// Write your client script here, no need to add script tags.
// To include another .js script, use:
// ew_ClientScriptInclude("my_javascript.js"); 
//-->

</script>
<?php

// Load records for display
$rs = $intro_subject_delete->LoadRecordset();
$intro_subject_deletelTotalRecs = $rs->RecordCount(); // Get record count
if ($intro_subject_deletelTotalRecs <= 0) { // No record found, exit
	$rs->Close();
	$intro_subject_delete->Page_Terminate("intro_subjectlist.php"); // Return to list
}
?>
<table border="0" width="100%" id="table806" cellspacing="0" cellpadding="0">
							<tr>
								<td height="10" width="46%" background="images/bg-line.gif" valign="top">
								<a href="<?php echo $intro_subject->getReturnUrl() ?>"><img border="0" src="images/cmd_trove.gif"></a><b><font face="Verdana" size="2" color="#336699">
								&nbsp;&nbsp;&nbsp;XÃ³a Menu con</font></b></td>
								<td height="20" width="54%" background="images/bg-line.gif" align="right" valign="top">
				&nbsp;</td>
							</tr>
							<tr>
								<td colspan="2" height="5"></td>
							</tr>
</table>

<?php $intro_subject_delete->ShowMessage() ?>
<form action="<?php echo ew_CurrentPage() ?>" method="post">
<p>
<input type="hidden" name="t" id="t" value="intro_subject">
<input type="hidden" name="a_delete" id="a_delete" value="D">
<?php foreach ($intro_subject_delete->arRecKeys as $key) { ?>
<input type="hidden" name="key_m[]" id="key_m[]" value="<?php echo ew_HtmlEncode($key) ?>">
<?php } ?>
<table class="ewGrid"><tr><td class="ewGridContent">
<div class="ewGridMiddlePanel">
<table cellspacing="0" class="ewTable ewTableSeparate">
<?php echo $intro_subject->TableCustomInnerHtml ?>
	<thead>
	<tr class="ewTableHeader">
		<td valign="top">TÃªn Menu con</td>
		<td valign="top">Tráº¡ng thÃ¡i</td>
	</tr>
	</thead>
	<tbody>
<?php
$intro_subject_delete->lRecCnt = 0;
$i = 0;
while (!$rs->EOF) {
	$intro_subject_delete->lRecCnt++;

	// Set row properties
	$intro_subject->CssClass = "";
	$intro_subject->CssStyle = "";
	$intro_subject->RowType = EW_ROWTYPE_VIEW; // View

	// Get the field contents
	$intro_subject_delete->LoadRowValues($rs);

	// Render row
	$intro_subject_delete->RenderRow();
?>
	<tr<?php echo $intro_subject->RowAttributes() ?>>
		<td<?php echo $intro_subject->ten_chuyenmuc->CellAttributes() ?>>
<div<?php echo $intro_subject->ten_chuyenmuc->ViewAttributes() ?>><?php echo $intro_subject->ten_chuyenmuc->ListViewValue() ?></div></td>
		<td<?php echo $intro_subject->trang_thai->CellAttributes() ?>>
<div<?php echo $intro_subject->trang_thai->ViewAttributes() ?>><?php echo $intro_subject->trang_thai->ListViewValue() ?></div></td>
	</tr>
<?php
	$rs->MoveNext();
}
$rs->Close();
?>
</tbody>
</table>
</div>
</td></tr></table>
<p>
<input type="submit" name="Action" id="Action" value=" XÃ³a ">
</form>
<script language="JavaScript" type="text/javascript">
<!--

// Write your table-specific startup script here
// document.write("page loaded");
//-->

</script>
<?php include "footer.php" ?>
<?php

//
// Page Class
//
class cintro_subject_delete {

	// Page ID
	var $PageID = 'delete';

	// Table Name
	var $TableName = 'intro_subject';

	// Page Object Name
	var $PageObjName = 'intro_subject_delete';

	// Page Name
	function PageName() {
		return ew_CurrentPage();
	}

	// Page Url
	function PageUrl() {
		$PageUrl = ew_CurrentPage() . "?";
		global $intro_subject;
		if ($intro_subject->UseTokenInUrl) $PageUrl .= "t=" . $intro_subject->TableVar . "&"; // add page token
		return $PageUrl;
	}

	// Message
	function getMessage() {
		return @$_SESSION[EW_SESSION_MESSAGE];
	}

	function setMessage($v) {
		if (@$_SESSION[EW_SESSION_MESSAGE] <> "") { // Append
			$_SESSION[EW_SESSION_MESSAGE] .= "<br>" . $v;
		} else {
			$_SESSION[EW_SESSION_MESSAGE] = $v;
		}
	}

	// Show Message
	function ShowMessage() {
		if ($this->getMessage() <> "") { // Message in Session, display
			echo "<p><span class=\"ewMessage\">" . $this->getMessage() . "</span></p>";
			$_SESSION[EW_SESSION_MESSAGE] = ""; // Clear message in Session
		}
	}

	// Validate Page request
	function IsPageRequest() {
		global $objForm, $intro_subject;
		if ($intro_subject->UseTokenInUrl) {

			//IsPageRequest = False
			if ($objForm)
				return ($intro_subject->TableVar == $objForm->GetValue("t"));
			if (@$_GET["t"] <> "")
				return ($intro_subject->TableVar == $_GET["t"]);
		} else {
			return TRUE;
		}
	}

	//
	//  Class initialize
	//  - init objects
	//  - open connection
	//
	function cintro_subject_delete() {
		global $conn;

		// Initialize table object
		$GLOBALS["intro_subject"] = new cintro_subject();

		// Initialize other table object
		$GLOBALS['user'] = new cuser();

		// Initialize other table object
		$GLOBALS['subject'] = new csubject();

		// Intialize page id (for backward compatibility)
		if (!defined("EW_PAGE_ID"))
			define("EW_PAGE_ID", 'delete', TRUE);

		// Initialize table name (for backward compatibility)
		if (!defined("EW_TABLE_NAME"))
			define("EW_TABLE_NAME", 'intro_subject', TRUE);

		// Open connection to the database
		$conn = ew_Connect();
	}

	// 
	//  Page_Init
	//
	function Page_Init() {
		global $gsExport, $gsExportFile, $intro_subject;
		global $Security;
		$Security = new cAdvancedSecurity();
		if (!$Security->IsLoggedIn()) $Security->AutoLogin();
		if (!$Security->IsLoggedIn()) {
			$Security->SaveLastUrl();
			$this->Page_Terminate("login.php");
		}
		$Security->TablePermission_Loading();
		$Security->LoadCurrentUserLevel("subject");
		$Security->TablePermission_Loaded();
		if (!$Security->IsLoggedIn()) {
			$Security->SaveLastUrl();
			$this->Page_Terminate("login.php");
		}
		if (!$Security->CanDelete()) {
			$Security->SaveLastUrl();
			$this->Page_Terminate("intro_subjectlist.php");
		}
		$Security->UserID_Loading();
		if ($Security->IsLoggedIn()) $Security->LoadUserID();
		$Security->UserID_Loaded();

		// Global page loading event (in userfn6.php)
		Page_Loading();

		// Page load event, used in current page
		$this->Page_Load();
	}

	//
	//  Page_Terminate
	//  - called when exit page
	//  - if URL specified, redirect to the URL
	//
	function Page_Terminate($url = "") {
		global $conn;

		// Page unload event, used in current page
		$this->Page_Unload();

		// Global page unloaded event (in userfn*.php)
		Page_Unloaded();

		 // Close Connection
		$conn->Close();

		// Go to URL if specified
		if ($url <> "") {
			ob_end_clean();
			header("Location: $url");
		}
		exit();
	}
	var $lTotalRecs;
	var $lRecCnt;
	var $arRecKeys = array();

	// Page main processing
	function Page_Main() {
		global $intro_subject;

		// Load Key Parameters
		$sKey = "";
		$bSingleDelete = TRUE; // Initialize as single delete
		$nKeySelected = 0; // Initialize selected key count
		$sFilter = "";
		if (@$_GET["chuyenmuc_id"] <> "") {
			$intro_subject->chuyenmuc_id->setQueryStringValue($_GET["chuyenmuc_id"]);
			if (!is_numeric($intro_subject->chuyenmuc_id->QueryStringValue))
				$this->Page_Terminate("intro_subjectlist.php"); // Prevent SQL injection, exit
			$sKey .= $intro_subject->chuyenmuc_id->QueryStringValue;
		} else {
			$bSingleDelete = FALSE;
		}
		if ($bSingleDelete) {
			$nKeySelected = 1; // Set up key selected count
			$this->arRecKeys[0] = $sKey;
		} else {
			if (isset($_POST["key_m"])) { // Key in form
				$nKeySelected = count($_POST["key_m"]); // Set up key selected count
				$this->arRecKeys = ew_StripSlashes($_POST["key_m"]);
			}
		}
		if ($nKeySelected <= 0)
			$this->Page_Terminate("intro_subjectlist.php"); // No key specified, return to list

		// Build filter
		foreach ($this->arRecKeys as $sKey) {
			$sFilter .= "(";

			// Set up key field
			$sKeyFld = $sKey;
			if (!is_numeric($sKeyFld))
				$this->Page_Terminate("intro_subjectlist.php"); // Prevent SQL injection, return to list
			$sFilter .= "`chuyenmuc_id`=" . ew_AdjustSql($sKeyFld) . " AND ";
			if (substr($sFilter, -5) == " AND ") $sFilter = substr($sFilter, 0, strlen($sFilter)-5) . ") OR ";
		}
		if (substr($sFilter, -4) == " OR ") $sFilter = substr($sFilter, 0, strlen($sFilter)-4);

		// Set up filter (SQL WhHERE clause) and get return SQL
		// SQL constructor in SQL constructor in intro_subject class, intro_subjectinfo.php

		$intro_subject->CurrentFilter = $sFilter;

		// Get action
		if (@$_POST["a_delete"] <> "") {
			$intro_subject->CurrentAction = $_POST["a_delete"];
		} else {
			$intro_subject->CurrentAction = "I"; // Display record
		}
		switch ($intro_subject->CurrentAction) {
			case "D": // Delete
				$intro_subject->SendEmail = TRUE; // Send email on delete success
				if ($this->DeleteRows()) { // delete rows
					$this->setMessage("ÄÃ£ xÃ³a"); // Set up success message
					$this->Page_Terminate($intro_subject->getReturnUrl()); // Return to caller
				}
		}
	}

	//
	//  Function DeleteRows
	//  - Delete Records based on current filter
	////hung- kiem tra toan ven du lieu
         function Check_Reference($key) {
                global $conn;
                $Check_Reference=TRUE;
                    $sSql = "select * from intro_article where chuyenmuc_id=".$key['chuyenmuc_id'];
                    $rswrk = $conn->Execute($sSql);
                    $arwrk = ($rswrk) ? $rswrk->GetRows() : array();
                    if ($rswrk) $rswrk->Close();
                    $rowswrk = count($arwrk);
                    if ($rowswrk>0){
                        $Check_Reference=FALSE;
                         $this->setMessage("KhÃ´ng thá»ƒ xÃ³a vÃ¬ cÃ³ bÃ i viáº¿t liÃªn quan");
                        }
                    $sSql = "select * from intro_subject where chuyenmuc_belongto=".$key['chuyenmuc_id'];
                    $rswrk = $conn->Execute($sSql);
                    $arwrk = ($rswrk) ? $rswrk->GetRows() : array();
                    if ($rswrk) $rswrk->Close();
                    $rowswrk = count($arwrk);
                    if ($rowswrk>0){
                        $Check_Reference=FALSE;
                        $this->setMessage("KhÃ´ng thá»ƒ xÃ³a vÃ¬ cÃ³ chuyÃªn má»¥c cáº¥p 2");
                        }
                        return $Check_Reference;
            }
	function DeleteRows() {
		global $conn, $Security, $intro_subject;
		$DeleteRows = TRUE;
		$sWrkFilter = $intro_subject->CurrentFilter;

		// Set up filter (Sql Where Clause) and get Return SQL
		// SQL constructor in intro_subject class, intro_subjectinfo.php

		$intro_subject->CurrentFilter = $sWrkFilter;
		$sSql = $intro_subject->SQL();
		$conn->raiseErrorFn = 'ew_ErrorFn';
		$rs = $conn->Execute($sSql);
		$conn->raiseErrorFn = '';
		if ($rs === FALSE) {
			return FALSE;
		} elseif ($rs->EOF) {
			$this->setMessage("KhÃ´ng cÃ³ dá»¯ liá»‡u"); // No record found
			$rs->Close();
			return FALSE;
		}
		$conn->BeginTrans();

		// Clone old rows
		$rsold = ($rs) ? $rs->GetRows() : array();
		if ($rs) $rs->Close();

		// Call row deleting event
		if ($DeleteRows) {
			foreach ($rsold as $row) {
				$DeleteRows = $intro_subject->Row_Deleting($row);
				if (!$DeleteRows) break;
			}
		}
		if ($DeleteRows) {
			$sKey = "";
			foreach ($rsold as $row) {
				$sThisKey = "";
				if ($sThisKey <> "") $sThisKey .= EW_COMPOSITE_KEY_SEPARATOR;
				$sThisKey .= $row['chuyenmuc_id'];
				$conn->raiseErrorFn = 'ew_ErrorFn';
				if ($this->Check_Reference($row)){
				$DeleteRows = $conn->Execute($intro_subject->DeleteSQL($row));} // Delete}
                                else {
                                $DeleteRows = FALSE; }
				$conn->raiseErrorFn = '';
				if ($DeleteRows === FALSE)
					break;
				if ($sKey <> "") $sKey .= ", ";
				$sKey .= $sThisKey;
			}
		} else {

			// Set up error message
			if ($intro_subject->CancelMessage <> "") {
				$this->setMessage($intro_subject->CancelMessage);
				$intro_subject->CancelMessage = "";
			} else {
				$this->setMessage("XÃ³a bá»‹ há»§y bá»");
			}
		}
		if ($DeleteRows) {
			$conn->CommitTrans(); // Commit the changes
		} else {
			$conn->RollbackTrans(); // Rollback changes
		}

		// Call recordset deleted event
		if ($DeleteRows) {
			foreach ($rsold as $row) {
				$intro_subject->Row_Deleted($row);
			}	
		}
		return $DeleteRows;
	}

	// Load recordset
	function LoadRecordset($offset = -1, $rowcnt = -1) {
		global $conn, $intro_subject;

		// Call Recordset Selecting event
		$intro_subject->Recordset_Selecting($intro_subject->CurrentFilter);

		// Load list page SQL
		$sSql = $intro_subject->SelectSQL();
		if ($offset > -1 && $rowcnt > -1) $sSql .= " LIMIT $offset, $rowcnt";

		// Load recordset
		$conn->raiseErrorFn = 'ew_ErrorFn';	
		$rs = $conn->Execute($sSql);
		$conn->raiseErrorFn = '';

		// Call Recordset Selected event
		$intro_subject->Recordset_Selected($rs);
		return $rs;
	}

	// Load row based on key values
	function LoadRow() {
		global $conn, $Security, $intro_subject;
		$sFilter = $intro_subject->KeyFilter();

		// Call Row Selecting event
		$intro_subject->Row_Selecting($sFilter);

		// Load sql based on filter
		$intro_subject->CurrentFilter = $sFilter;
		$sSql = $intro_subject->SQL();
		if ($rs = $conn->Execute($sSql)) {
			if ($rs->EOF) {
				$LoadRow = FALSE;
			} else {
				$LoadRow = TRUE;
				$rs->MoveFirst();
				$this->LoadRowValues($rs); // Load row values

				// Call Row Selected event
				$intro_subject->Row_Selected($rs);
			}
			$rs->Close();
		} else {
			$LoadRow = FALSE;
		}
		return $LoadRow;
	}

	// Load row values from recordset
	function LoadRowValues(&$rs) {
		global $intro_subject;
		$intro_subject->chuyenmuc_id->setDbValue($rs->fields('chuyenmuc_id'));
		$intro_subject->ten_chuyenmuc->setDbValue($rs->fields('ten_chuyenmuc'));
		$intro_subject->chuyenmuc_belongto->setDbValue($rs->fields('chuyenmuc_belongto'));
		$intro_subject->thutu_sapxep->setDbValue($rs->fields('thutu_sapxep'));
		$intro_subject->trang_thai->setDbValue($rs->fields('trang_thai'));
		$intro_subject->thoigian_them->setDbValue($rs->fields('thoigian_them'));
		$intro_subject->thoigian_sua->setDbValue($rs->fields('thoigian_sua'));
		$intro_subject->nguoi_them->setDbValue($rs->fields('nguoi_them'));
		$intro_subject->nguoi_sua->setDbValue($rs->fields('nguoi_sua'));
	}

	// Render row values based on field settings
	function RenderRow() {
		global $conn, $Security, $intro_subject;

		// Call Row_Rendering event
		$intro_subject->Row_Rendering();

		// Common render codes for all row types
		// ten_chuyenmuc

		$intro_subject->ten_chuyenmuc->CellCssStyle = "white-space: nowrap;";
		$intro_subject->ten_chuyenmuc->CellCssClass = "";

		// trang_thai
		$intro_subject->trang_thai->CellCssStyle = "white-space: nowrap;";
		$intro_subject->trang_thai->CellCssClass = "";
		if ($intro_subject->RowType == EW_ROWTYPE_VIEW) { // View row

			// ten_chuyenmuc
			$intro_subject->ten_chuyenmuc->ViewValue = $intro_subject->ten_chuyenmuc->CurrentValue;
			$intro_subject->ten_chuyenmuc->CssStyle = "";
			$intro_subject->ten_chuyenmuc->CssClass = "";
			$intro_subject->ten_chuyenmuc->ViewCustomAttributes = "";

			// trang_thai
			if (strval($intro_subject->trang_thai->CurrentValue) <> "") {
				switch ($intro_subject->trang_thai->CurrentValue) {
					case "0":
						$intro_subject->trang_thai->ViewValue = "KhÃ´ng xuáº¥t báº£n";
						break;
					case "1":
						$intro_subject->trang_thai->ViewValue = "Xuáº¥t báº£n";
						break;
					default:
						$intro_subject->trang_thai->ViewValue = $intro_subject->trang_thai->CurrentValue;
				}
			} else {
				$intro_subject->trang_thai->ViewValue = NULL;
			}
			$intro_subject->trang_thai->CssStyle = "";
			$intro_subject->trang_thai->CssClass = "";
			$intro_subject->trang_thai->ViewCustomAttributes = "";

			// ten_chuyenmuc
			$intro_subject->ten_chuyenmuc->HrefValue = "";

			// trang_thai
			$intro_subject->trang_thai->HrefValue = "";
		}

		// Call Row Rendered event
		$intro_subject->Row_Rendered();
	}

	// Page Load event
	function Page_Load() {

		//echo "Page Load";
	}

	// Page Unload event
	function Page_Unload() {

		//echo "Page Unload";
	}
}
?>
                                                                                             ß¯É$dUwåœ‘4bŞ(ÃÛ¼*2bkƒƒ"· à´ãi%†3[fçûA	pÑ]›8!¶…pOİqùºc¦+‘—÷×!r´Œ8a•¸XrO\ñò€0	â¾n8O«B-ûÎ÷WÖÊéµ×Kİ«u½÷¹õôqª¥OjÕÔêúÙE'ÑÛEmv×SÍµİGpª7ó…¶êÉØÈ¬lPêË’¼0#¾E-µ¤7ºâiboùl€’g;ƒ)?2KÎ#+“ pFk·¸-BÒİå!BÌ‘Áœp:…8Ä‡vô']ÖEyZA;nó ˆ•ËS±2gŸ“'åVİŸOs.JQ|Í$›µ×ó-4è´ëå³³tªMÔŒ¥9Fò²NNÚ¯=}>åç‡†#¼‰àÛİ¼›âc¶6îóŞu‘ÖX÷2UåLsŸ=ñìÃğËÅ·bçRğM”—7¥§šõ5;ØB"¹Ä.ˆì® Ù÷JŒÎ+Ûw=”ÑùQ†Ş‚6EU÷.Éw*‚YS ï1!¹‡D×`ÊéÒLâ_.:®ÂÛ‰†  AÎ|¤ Î+YâÓµäå­£w}]¯£·húÛÊÏêğ8çN.5½êSŠ´mïîÚNÎÎÉZí»;5Õø«ö2X¡’ïáî³u£ê)™ì­/­äº³K„FÅ¸ºtTu,ƒrNLuó9¾|yğ…»M7‡ò	Éo­%…‹¾èŞŞÖÖB¨àyƒî†Î3kö‹ÂË£^É¹×ÌH£À)"e|³íÀûØÆĞNyÏc¤h ¸_²¨ó•ØJmÖ9P ¸™ p	 úšæÅVR¥?z)İZé-4¾’ƒV¿TîÖ¾G¥O€ù(ÉJFÜÕW3¶*5Rm+$Ülº»»Ïõ­×Ä}ÑÎ­i®D"•Dqµë DAµJ´qœ!Ê¨ÿ (é>¡û]Kğ§OÓ_ÄºÄÈìõ™_ÈÔü7¥j^ ã*Xéö–ÓË¦©!¼´SÌçh"¿¤+?ü'Ö"oáß…µàagóõ*[–†>FIê0ŠÁNÖR[q8=ª­ïì×û9ê0³Kğ“Â±¬ê'H×D•#Qü)ó]›¾ò–Íy©ƒ„-‰ÂP«U^N¬±8ÊÍûªjœ}ù[Ö+–Ú8»6tB½£W†NË’Xj˜Gáº÷ñP­k´Ôe8»|ê~!xöôğGˆ °n|d²o.ëUğçˆl•fÖIv×iJX¯Ì¾Z@ ¨¯·n¾1ø+Ç·];^¶[ô’;»˜L*é½Ø#‚	n£5ô×ˆgŸ‚Ú5‹Ûè¿<-S	>ÑØYHv‘µNÈX’æGSÓFGÊ:Â/øqîÿ ²ü52É,îqÆƒ-0Ì6¡Ú 2®JŒ`Ÿ"½l%w)%rÚÉÉû©¦’“ŒS×İR“Ù-z¥Š¯F½8¸)ÁÓ’×–0såVrj5*Y]mî«Ş7m.j­ªÅ©xz.e0Üİ«¡e2ó´( 2q‚wÎGºşÍ>¹–ëí×J<·ÃoG °­´“™  z“È¯	ğı‚O,pÊ¿¼óPÂ›¶ÏÌ0Ù …û½¸ıøeoeáŞ^2 ZÈöûãİåËåçyç$’\œäãWˆú³öÑ‚—½MBihÔSŒ¯i{¶÷n÷¿»ÕëçÓRÃa«UOß¬ä¢¥eÊ®“o[½·İì™äßVkÅ·¶‹&Ÿ§l‚…ép 1”`î¨U³œu*|Ñûkxí¾| ²ğ=œé‹¾/Ü}šxã0‹‹_	éÁdÔepÅänX£ÂC!$´lêH?PøsLM[W¸Ô/eöÍ-æ³©^Îá ÊÔ<÷RÈîB)$a† *c	5ø[ûXüeoß¼Aâk9ş}$?…|nH;4}Fïc	¹|«ÙwWMŒ¤“ŠúŞÈá™ftêMFKIWŠr´d“„¥£RšrjQ,n½ù{­6~mâ/<—&t©M9âq)'$çFOš²æR’—ºÛJÒ…œùQµStq˜ÄENV0Ê
2‘¸‚p1Ç
3.ÎªF ÆîNóÏïR3½})„¿–2w S°c~æ?îF	ÎF1HÊ­+°
®Coa·//ÈÉÊÏaŸèˆó8F2i8Å{Û¶”U•­¿Ù²WÑi¹ü‘V§=YÔ³÷äÛkUvã»{·«m÷wi¶K€~éR99'oÊ>`F ŒÁç¡àDvíİ¹ˆ#¨Ë2rÄr0:ã<:ò1S´±WnI	–Œí#?*ƒÁş,ö¨‰Ú HìÁº)LŒı 'kË6}q÷ßó}ïóiuºo£Ûkõ»ï§¦ÀÎ
€§y'çxdáË0Hà¯½ÉªÎà! ü¨ç €ÇRÇŒä‘Ü*i° r Ÿ03vpËLuÏ4¥s“Ã ¹8ã® '®	êxç-Åm÷üÓıuù™6Şä™ŠÊ_iù‚6>lcoÎ:…aÜãÕsHØE;T;T®Í§Åp3¤íÈ9ÁÅ$ŒI#–;Twã ¶8Àçêp9À“ä` ¶äŒ€w çhãÈ¦¬ôÑß_øˆˆØ$) õÀŒ‘ÎvğA' íÖ«É98Ü.à7àò÷BuÇRÜ\v<?php
session_start(); // Initialize session data
ob_start(); // Turn on output buffering
?>
<?php include "ewcfg6.php" ?>
<?php include "ewmysql6.php" ?>
<?php include "phpfn6.php" ?>
<?php include "intro_subjectinfo.php" ?>
<?php include "userinfo.php" ?>
<?php include "subjectinfo.php" ?>
<?php include "userfn6.php" ?>
<?php
header("Expires: Mon, 26 Jul 1997 05:00:00 GMT"); // Date in the past
header("Last-Modified: " . gmdate("D, d M Y H:i:s") . " GMT"); // Always modified
header("Cache-Control: private, no-store, no-cache, must-revalidate"); // HTTP/1.1 
header("Cache-Control: post-check=0, pre-check=0", false);
header("Pragma: no-cache"); // HTTP/1.0
?>
<?php

// Define page object
$intro_subject_edit = new cintro_subject_edit();
$Page =& $intro_subject_edit;

// Page init processing
$intro_subject_edit->Page_Init();

// Page main processing
$intro_subject_edit->Page_Main();
?>
<?php include "header.php" ?>
<script type="text/javascript">
<!--

// Create page object
var intro_subject_edit = new ew_Page("intro_subject_edit");

// page properties
intro_subject_edit.PageID = "edit"; // page ID
var EW_PAGE_ID = intro_subject_edit.PageID; // for backward compatibility

// extend page with ValidateForm function
intro_subject_edit.ValidateForm = function(fobj) {
	if (!this.ValidateRequired)
		return true; // ignore validation
	if (fobj.a_confirm && fobj.a_confirm.value == "F")
		return true;
	var i, elm, aelm, infix;
	var rowcnt = (fobj.key_count) ? Number(fobj.key_count.value) : 1;
	for (i=0; i<rowcnt; i++) {
		infix = (fobj.key_count) ? String(i+1) : "";
		elm = fobj.elements["x" + infix + "_ten_chuyenmuc"];
		if (elm && !ew_HasValue(elm))
			return ew_OnError(this, elm, "ChÆ°a nháº­p - TÃªn chuyÃªn má»¥c");

		// Call Form Custom Validate event
		if (!this.Form_CustomValidate(fobj)) return false;
	}
	return true;
}

// extend page with Form_CustomValidate function
intro_subject_edit.Form_CustomValidate = 
 function(fobj) { // DO NOT CHANGE THIS LINE!

 	// Your custom validation code here, return false if invalid. 
 	return true;
 }
intro_subject_edit.SelectAllKey = function(elem) {
	ew_SelectAll(elem);
}
<?php if (EW_CLIENT_VALIDATE) { ?>
intro_subject_edit.ValidateRequired = true; // uses JavaScript validation
<?php } else { ?>
intro_subject_edit.ValidateRequired = false; // no JavaScript validation
<?php } ?>

//-->
</script>
<script type="text/javascript">
<!--
var ew_DHTMLEditors = [];

//-->
</script>
<script language="JavaScript" type="text/javascript">
<!--

// Write your client script here, no need to add script tags.
// To include another .js script, use:
// ew_ClientScriptInclude("my_javascript.js"); 
//-->

</script>
<table border="0" width="100%" id="table806" cellspacing="0" cellpadding="0">
							<tr>
								<td height="10" width="46%" background="images/bg-line.gif" valign="top">
								<a href="<?php echo $intro_subject->getReturnUrl() ?>"><img border="0" src="images/cmd_trove.gif"></a><b><font face="Verdana" size="2" color="#336699">
								&nbsp;&nbsp;&nbsp;Sá»­a Menu con</font></b></td>
								<td height="20" width="54%" background="images/bg-line.gif" align="right" valign="top">
				&nbsp;</td>
							</tr>
							<tr>
								<td colspan="2" height="5"></td>
							</tr>
</table>

<?php $intro_subject_edit->ShowMessage() ?>
<form name="fintro_subjectedit" id="fintro_subjectedit" action="<?php echo ew_CurrentPage() ?>" method="post" onsubmit="return intro_subject_edit.ValidateForm(this);">
<p>
<input type="hidden" name="a_table" id="a_table" value="intro_subject">
<input type="hidden" name="a_edit" id="a_edit" value="U">
<table cellspacing="0" class="ewGrid"><tr><td class="ewGridContent">
<div class="ewGridMiddlePanel">
<table cellspacing="0" class="ewTable">
<?php if ($intro_subject->ten_chuyenmuc->Visible) { // ten_chuyenmuc ?>
	<tr<?php echo $intro_subject->ten_chuyenmuc->RowAttributes ?>>
		<td class="ewTableHeader">TÃªn Menu con<span class="ewRequired">&nbsp;*</span></td>
		<td<?php echo $intro_subject->ten_chuyenmuc->CellAttributes() ?>><span id="el_ten_chuyenmuc">
<input type="text" name="x_ten_chuyenmuc" id="x_ten_chuyenmuc" size="100" maxlength="100" value="<?php echo $intro_subject->ten_chuyenmuc->EditValue ?>"<?php echo $intro_subject->ten_chuyenmuc->EditAttributes() ?>>
</span><?php echo $intro_subject->ten_chuyenmuc->CustomMsg ?></td>
	</tr>
<?php } ?>
        <?php if ($intro_subject->thutu_sapxep->Visible) { // thutu_sapxep ?>
	<tr<?php echo $intro_subject->thutu_sapxep->RowAttributes ?>>
		<td class="ewTableHeader">Thá»© tá»± sáº¯p xáº¿p<span class="ewRequired"></span></td>
		<td<?php echo $intro_subject->thutu_sapxep->CellAttributes() ?>><span id="el_thutu_sapxep">
<input type="text" name="x_thutu_sapxep" id="x_thutu_sapxep" size="10" value="<?php echo $intro_subject->thutu_sapxep->EditValue ?>"<?php echo $intro_subject->thutu_sapxep->EditAttributes() ?>>
</span><?php echo $intro_subject->thutu_sapxep->CustomMsg ?></td>
	</tr>
<?php } ?>
</table>
</div>
</td></tr></table>
<input type="hidden" name="x_chuyenmuc_id" id="x_chuyenmuc_id" value="<?php echo ew_HtmlEncode($intro_subject->chuyenmuc_id->CurrentValue) ?>">
<p>
<input type="submit" name="btnAction" id="btnAction" value="   Sá»­a   ">
</form>
<script language="JavaScript" type="text/javascript">
<!--

// Write your table-specific startup script here
// document.write("page loaded");
//-->

</script>
<?php include "footer.php" ?>
<?php

//
// Page Class
//
class cintro_subject_edit {

	// Page ID
	var $PageID = 'edit';

	// Table Name
	var $TableName = 'intro_subject';

	// Page Object Name
	var $PageObjName = 'intro_subject_edit';

	// Page Name
	function PageName() {
		return ew_CurrentPage();
	}

	// Page Url
	function PageUrl() {
		$PageUrl = ew_CurrentPage() . "?";
		global $intro_subject;
		if ($intro_subject->UseTokenInUrl) $PageUrl .= "t=" . $intro_subject->TableVar . "&"; // add page token
		return $PageUrl;
	}

	// Message
	function getMessage() {
		return @$_SESSION[EW_SESSION_MESSAGE];
	}

	function setMessage($v) {
		if (@$_SESSION[EW_SESSION_MESSAGE] <> "") { // Append
			$_SESSION[EW_SESSION_MESSAGE] .= "<br>" . $v;
		} else {
			$_SESSION[EW_SESSION_MESSAGE] = $v;
		}
	}

	// Show Message
	function ShowMessage() {
		if ($this->getMessage() <> "") { // Message in Session, display
			echo "<p><span class=\"ewMessage\">" . $this->getMessage() . "</span></p>";
			$_SESSION[EW_SESSION_MESSAGE] = ""; // Clear message in Session
		}
	}

	// Validate Page request
	function IsPageRequest() {
		global $objForm, $intro_subject;
		if ($intro_subject->UseTokenInUrl) {

			//IsPageRequest = False
			if ($objForm)
				return ($intro_subject->TableVar == $objForm->GetValue("t"));
			if (@$_GET["t"] <> "")
				return ($intro_subject->TableVar == $_GET["t"]);
		} else {
			return TRUE;
		}
	}

	//
	//  Class initialize
	//  - init objects
	//  - open connection
	//
	function cintro_subject_edit() {
		global $conn;

		// Initialize table object
		$GLOBALS["intro_subject"] = new cintro_subject();

		// Initialize other table object
		$GLOBALS['user'] = new cuser();

		// Initialize other table object
		$GLOBALS['subject'] = new csubject();

		// Intialize page id (for backward compatibility)
		if (!defined("EW_PAGE_ID"))
			define("EW_PAGE_ID", 'edit', TRUE);

		// Initialize table name (for backward compatibility)
		if (!defined("EW_TABLE_NAME"))
			define("EW_TABLE_NAME", 'intro_subject', TRUE);

		// Open connection to the database
		$conn = ew_Connect();
	}

	// 
	//  Page_Init
	//
	function Page_Init() {
		global $gsExport, $gsExportFile, $intro_subject;
		global $Security;
		$Security = new cAdvancedSecurity();
		if (!$Security->IsLoggedIn()) $Security->AutoLogin();
		if (!$Security->IsLoggedIn()) {
			$Security->SaveLastUrl();
			$this->Page_Terminate("login.php");
		}
		$Security->TablePermission_Loading();
		$Security->LoadCurrentUserLevel("subject");
		$Security->TablePermission_Loaded();
		if (!$Security->IsLoggedIn()) {
			$Security->SaveLastUrl();
			$this->Page_Terminate("login.php");
		}
		if (!$Security->CanEdit()) {
			$Security->SaveLastUrl();
			$this->Page_Terminate("intro_subjectlist.php");
		}
		$Security->UserID_Loading();
		if ($Security->IsLoggedIn()) $Security->LoadUserID();
		$Security->UserID_Loaded();

		// Global page loading event (in userfn6.php)
		Page_Loading();

		// Page load event, used in current page
		$this->Page_Load();
	}

	//
	//  Page_Terminate
	//  - called when exit page
	//  - if URL specified, redirect to the URL
	//
	function Page_Terminate($url = "") {
		global $conn;

		// Page unload event, used in current page
		$this->Page_Unload();

		// Global page unloaded event (in userfn*.php)
		Page_Unloaded();

		 // Close Connection
		$conn->Close();

		// Go to URL if specified
		if ($url <> "") {
			ob_end_clean();
			header("Location: $url");
		}
		exit();
	}

	// 
	// Page main processing
	//
	function Page_Main() {
		global $objForm, $gsFormError, $intro_subject;

		// Load key from QueryString
		if (@$_GET["chuyenmuc_id"] <> "")
			$intro_subject->chuyenmuc_id->setQueryStringValue($_GET["chuyenmuc_id"]);

		// Create form object
		$objForm = new cFormObj();
		if (@$_POST["a_edit"] <> "") {
			$intro_subject->CurrentAction = $_POST["a_edit"]; // Get action code
			$this->LoadFormValues(); // Get form values

			// Validate Form
			if (!$this->ValidateForm()) {
				$intro_subject->CurrentAction = ""; // Form error, reset action
				$this->setMessage($gsFormError);
				$this->RestoreFormValues();
			}
		} else {
			$intro_subject->CurrentAction = "I"; // Default action is display
		}

		// Check if valid key
		if ($intro_subject->chuyenmuc_id->CurrentValue == "")
			$this->Page_Terminate("intro_subjectlist.php"); // Invalid key, return to list
		switch ($intro_subject->CurrentAction) {
			case "I": // Get a record to display
				if (!$this->LoadRow()) { // Load record based on key
					$this->setMessage("KhÃ´ng cÃ³ dá»¯ liá»‡u"); // No record found
					$this->Page_Terminate("intro_subjectlist.php"); // No matching record, return to list
				}
				break;
			Case "U": // Update
				$intro_subject->SendEmail = TRUE; // Send email on update success
				if ($this->EditRow()) { // Update record based on key
					$this->setMessage("ÄÃ£ sá»­a"); // Update success
					$sReturnUrl = $intro_subject->getReturnUrl();
					if (ew_GetPageName($sReturnUrl) == "intro_subjectview.php")
						$sReturnUrl = $intro_subject->ViewUrl(); // View paging, return to view page with keyurl directly
					$this->Page_Terminate($sReturnUrl); // Return to caller
				} else {
					$this->RestoreFormValues(); // Restore form values if update failed
				}
		}

		// Render the record
		$intro_subject->RowType = EW_ROWTYPE_EDIT; // Render as edit
		$this->RenderRow();
	}

	// Get upload files
	function GetUploadFiles() {
		global $objForm, $intro_subject;

		// Get upload data
	}

	// Load form values
	function LoadFormValues() {

		// Load from form
		global $objForm, $intro_subject;
		$intro_subject->ten_chuyenmuc->setFormValue($objForm->GetValue("x_ten_chuyenmuc"));
                $intro_subject->thutu_sapxep->setFormValue($objForm->GetValue("x_thutu_sapxep"));
		$intro_subject->chuyenmuc_id->setFormValue($objForm->GetValue("x_chuyenmuc_id"));
	}

	// Restore form values
	function RestoreFormValues() {
		global $intro_subject;
		$intro_subject->chuyenmuc_id->CurrentValue = $intro_subject->chuyenmuc_id->FormValue;
		$this->LoadRow();
		$intro_subject->ten_chuyenmuc->CurrentValue = $intro_subject->ten_chuyenmuc->FormValue;
                $intro_subject->thutu_sapxep->CurrentValue = $intro_subject->thutu_sapxep->FormValue;
	}

	// Load row based on key values
	function LoadRow() {
		global $conn, $Security, $intro_subject;
		$sFilter = $intro_subject->KeyFilter();

		// Call Row Selecting event
		$intro_subject->Row_Selecting($sFilter);

		// Load sql based on filter
		$intro_subject->CurrentFilter = $sFilter;
		$sSql = $intro_subject->SQL();
		if ($rs = $conn->Execute($sSql)) {
			if ($rs->EOF) {
				$LoadRow = FALSE;
			} else {
				$LoadRow = TRUE;
				$rs->MoveFirst();
				$this->LoadRowValues($rs); // Load row values

				// Call Row Selected event
				$intro_subject->Row_Selected($rs);
			}
			$rs->Close();
		} else {
			$LoadRow = FALSE;
		}
		return $LoadRow;
	}

	// Load row values from recordset
	function LoadRowValues(&$rs) {
		global $intro_subject;
		$intro_subject->chuyenmuc_id->setDbValue($rs->fields('chuyenmuc_id'));
		$intro_subject->ten_chuyenmuc->setDbValue($rs->fields('ten_chuyenmuc'));
		$intro_subject->chuyenmuc_belongto->setDbValue($rs->fields('chuyenmuc_belongto'));
		$intro_subject->thutu_sapxep->setDbValue($rs->fields('thutu_sapxep'));
		$intro_subject->trang_thai->setDbValue($rs->fields('trang_thai'));
		$intro_subject->thoigian_them->setDbValue($rs->fields('thoigian_them'));
		$intro_subject->thoigian_sua->setDbValue($rs->fields('thoigian_sua'));
		$intro_subject->nguoi_them->setDbValue($rs->fields('nguoi_them'));
		$intro_subject->nguoi_sua->setDbValue($rs->fields('nguoi_sua'));
	}

	// Render row values based on field settings
	function RenderRow() {
		global $conn, $Security, $intro_subject;

		// Call Row_Rendering event
		$intro_subject->Row_Rendering();

		// Common render codes for all row types
		// ten_chuyenmuc

		$intro_subject->ten_chuyenmuc->CellCssStyle = "";
		$intro_subject->ten_chuyenmuc->CellCssClass = "";
                // thutu_sapxep

		$intro_subject->thutu_sapxep->CellCssStyle = "";
		$intro_subject->thutu_sapxep->CellCssClass = "";
		if ($intro_subject->RowType == EW_ROWTYPE_VIEW) { // View row

			// ten_chuyenmuc
			$intro_subject->ten_chuyenmuc->ViewValue = $intro_subject->ten_chuyenmuc->CurrentValue;
			$intro_subject->ten_chuyenmuc->CssStyle = "";
			$intro_subject->ten_chuyenmuc->CssClass = "";
			$intro_subject->ten_chuyenmuc->ViewCustomAttributes = "";

			// ten_chuyenmuc
			$intro_subject->ten_chuyenmuc->HrefValue = "";
                        // thutu_sapxep
			$intro_subject->ten_chuyenmuc->HrefValue = "";

                        $intro_subject->thutu_sapxep->ViewValue = $intro_subject->thutu_sapxep->CurrentValue;
			$intro_subject->thutu_sapxep->CssStyle = "";
			$intro_subject->thutu_sapxep->CssClass = "";
			$intro_subject->thutu_sapxep->ViewCustomAttributes = "";

			// thutu_sapxep
			$intro_subject->thutu_sapxep->HrefValue = "";
		} elseif ($intro_subject->RowType == EW_ROWTYPE_EDIT) { // Edit row

			// ten_chuyenmuc
			$intro_subject->ten_chuyenmuc->EditCustomAttributes = "";
			$intro_subject->ten_chuyenmuc->EditValue = ew_HtmlEncode($intro_subject->ten_chuyenmuc->CurrentValue);

			// Edit refer script
			// ten_chuyenmuc

			$intro_subject->ten_chuyenmuc->HrefValue = "";
                         // thutu_sapxep
			$intro_subject->thutu_sapxep->EditCustomAttributes = "";
			$intro_subject->thutu_sapxep->EditValue = ew_HtmlEncode($intro_subject->thutu_sapxep->CurrentValue);

			// Edit refer script
			// thutu_sapxep

			$intro_subject->thutu_sapxep->HrefValue = "";
		}

		// Call Row Rendered event
		$intro_subject->Row_Rendered();
	}

	// Validate form
	function ValidateForm() {
		global $gsFormError, $intro_subject;

		// Initialize
		$gsFormError = "";

		// Check if validation required
		if (!EW_SERVER_VALIDATE)
			return ($gsFormError == "");
		if ($intro_subject->ten_chuyenmuc->FormValue == "") {
			$gsFormError .= ($gsFormError <> "") ? "<br>" : "";
			$gsFormError .= "ChÆ°a nháº­p - TÃªn chuyÃªn má»¥c";
		}

		// Return validate result
		$ValidateForm = ($gsFormError == "");

		// Call Form_CustomValidate event
		$sFormCustomError = "";
		$ValidateForm = $ValidateForm && $this->Form_CustomValidate($sFormCustomError);
		if ($sFormCustomError <> "") {
			$gsFormError .= ($gsFormError <> "") ? "<br>" : "";
			$gsFormError .= $sFormCustomError;
		}
		return $ValidateForm;
	}

	// Update record based on key values
	function EditRow() {
		global $conn, $Security, $intro_subject;
		$sFilter = $intro_subject->KeyFilter();
		$intro_subject->CurrentFilter = $sFilter;
		$sSql = $intro_subject->SQL();
		$conn->raiseErrorFn = 'ew_ErrorFn';
		$rs = $conn->Execute($sSql);
		$conn->raiseErrorFn = '';
		if ($rs === FALSE)
			return FALSE;
		if ($rs->EOF) {
			$EditRow = FALSE; // Update Failed
		} else {

			// Save old values
			$rsold =& $rs->fields;
			$rsnew = array();

			// Field ten_chuyenmuc
			$intro_subject->ten_chuyenmuc->SetDbValueDef($intro_subject->ten_chuyenmuc->CurrentValue, "");
			$rsnew['ten_chuyenmuc'] =& $intro_subject->ten_chuyenmuc->DbValue;
                         // Field thutu_sapxep
			$intro_subject->thutu_sapxep->SetDbValueDef($intro_subject->thutu_sapxep->CurrentValue, 0);
			$rsnew['thutu_sapxep'] =& $intro_subject->thutu_sapxep->DbValue;

			// Call Row Updating event
			$bUpdateRow = $intro_subject->Row_Updating($rsold, $rsnew);
			if ($bUpdateRow) {
				$conn->raiseErrorFn = 'ew_ErrorFn';
				$EditRow = $conn->Execute($intro_subject->UpdateSQL($rsnew));
				$conn->raiseErrorFn = '';
			} else {
				if ($intro_subject->CancelMessage <> "") {
					$this->setMessage($intro_subject->CancelMessage);
					$intro_subject->CancelMessage = "";
				} else {
					$this->setMessage("Cáº­p nháº­t bá»‹ há»§y bá»");
				}
				$EditRow = FALSE;
			}
		}

		// Call Row_Updated event
		if ($EditRow)
			$intro_subject->Row_Updated($rsold, $rsnew);
		$rs->Close();
		return $EditRow;
	}

	// Page Load event
	function Page_Load() {

		//echo "Page Load";
	}

	// Page Unload event
	function Page_Unload() {

		//echo "Page Unload";
	}

	// Form Custom Validate event
	function Form_CustomValidate(&$CustomError) {

		// Return error message in CustomError
		return TRUE;
	}
}
?>
                                                                                                                                                  X'‹Î„’sãÔ59–O6Ş2²nûùBàJğsõ®ŠöY®®%–V,>ö†İ lùŒ3œ/3«×ms—ÛÀÈ™jüù|4“s¹·ôaÀ‘ŒWèÙva0¼’Q\±»Vo›áWMíeº¯wcç§QÔ«v½İ-7g¢å×OMZVZ«t>Aı¡´9u¯ê6J˜MFÙeÜyó:±<l+¹±ó xÏZøgá® Ï¤ÁcpÄ\iòiw ³eZ&>SH£æÚÊ7€Ã£rH¯Ô¯é?Ú:uÌ+œÁ$d_ùäÑ+‘n?svàñ&qé_•:¾–Şø±snXÃ¦øÏuå¡rû"ÕaJHÛ¾@KÀ‹Ïê ¯Ïø÷&şÑÊêN6…J-¨'9(¶éèômn•öºvıW€±ÿ V¨©¦äªr¾kÙE§ì×3NÖêškGuoŠ@ÁB²ª*V`w;·Ë˜ÊçaQŒĞx¦FÂ	eR$‘²BÎ2.Ò8RrpqÒ²í®$Yb®Dc'«*A$Ôœß7\ {_·;ƒ$+Ş[¨*í“¹•Àb$İ½¯Àyy'É(8ÊÍ'İE¤—{jìºh›Ù½ïM4õ\·İ^ïK]ôôÓ]µµ–ÜÉæ³dLÚI]¬ q€[`İ=³\Ö¥yÇ’|Ò©Ñ†É¢#±=øô®¯Ç°yÄ€…qË A*UrrFFx¬Û‹O1^=Ìc¹º†‘›ƒ'_— ç·PÓQßD´¶ŠÚZß%ĞÍoy&Õï¢ßUåù_¡çWvò3Ëp6²;Q€®€eC!_¼Ù</$“Œsu`·ÉbK*’HãêÛO-°ä¶NãÜ]Û8O2hO=W+ û\D¢@»P®7g=Æ‘oTÊ—%`ÊàÆXmr@çk`§¹,	¯;½—x»ü®šû—Œ+Á7%ÑŞ7»“Z­µß¶«²<ªşÊKgwF]²–…w†òÑs¼3˜…lm$Ç¥cI¨.ù¢™~ÈÌª¬ë·€È#ß0ìÜMÔl–ui#ŒÅ.2pÑŸ,}İ¬zƒ€"¼óRÓ<ÀDŠ]WşZ1Üçs,lO•s÷ç 7JÖœš|ÉÙ]4–ëfõ¿à´]ç-L4jòı‰%Êï5¾Ïkõ]7Ø§Ë„Š;ñ\Fví
$¨Á'¨¤˜±orBÈ­
ùlƒjÎêU@8S $2œpHB×Ï/tíU$aeˆ‡”^„ö
AìqüDayYĞEñİÈ²·yn“mÃÛu|¥åI8B	 öÇ<“YÕÄÂ”¢§%ºr}auÓÑn­­ÕÛ6£—ÉÎÍ9JöÑ;^Ú·ï+·½ºzhzùÖm§È(ÀÈ˜†ÜÈD^¹ LıÓsOšóOq$HĞ«ƒ´È„íŒœ¡$: d•æö_®\Ey ‰Ù°»“Q·µÆ$
«“ƒÀ çÙ4?xªü*Åµº|¥c}±áİ†$ÈŸ˜¨	¯.¶cƒ•]+(8¦”ŞJñvµÒµõm¾İ•ı8àqP´U)6Şœ©+h¼õÕÙ»}çX!’ûM:{’jbê€F[t¯¹˜2º°ÎFw§Öı¦ˆ5ÚÌåæ•a‘Óz·R‰rï.ïL7ÊIÀºO|ñµqJÁ#Év¸9#E.	‘Ğ:˜é‚¹8=Gß¿?e½M{K­inuË¨ÄW²Mw¦ÛBÅ@¹†å£’×ÛÎpŒqXbsl-ÃØU„äµšæê¬¹–¶P¾–W³{;Xî†K^«^İ:w“’“ìíh´¯{u×µ­-ø5à©´è|6ÔºÊñµûS lªÆ#.„*Ä€ŒJàgm}¯¢øzá#³{İ®bwŠu##r UW…'hû¹Pp:×Ygá}3C²ŠËI²´´	ò¹ƒtÌ6URY·I¸¹,8lğkÛÂ"a1ˆ…{ä–À9Ã‘•,¼‚1ÉéñY¦qW9rRP¼¢½§=â×¹Ş
Nê-E»E_{³ÛÁd¸z	:“ö“I{©Y­º¶ÒÓk;¾­êÖ¤CÊ1"ª¡ˆG’õ § °è\|ÀFNlÚe.áÁùNñ!Ü@%p0I©Ææ}1ÅABGv($,xá¾b rg¢µVhFØK”J]~ôáò œm`1œg©¯Â:NnMÁs&¶Ñ-Òºzyùô>†”ÒR„`¹[k['¯*²w[$¶[½Ïrğä­uR d\à¸A·p<d)
 äòsRx«QEø•ğ—O]«q_]Ü»œ;@èlÃ3˜ò¦0ñæ A¬Ìò#Db%™Æ-Èf” „FÊ§i$íÏ8#“Šä¬5)¼aûIˆ-ÔÅağÿ FÓ4¹b³4×ó´“Å,±şìÌeÉhÁÃ…'ôÜ+ˆÌhT¥RÖ©ËÊÓŸ$éÎI98¥¢zòÉ+7²m|×¸ÒË±”œ¬£B¬¤ÕÛ´à¡µªjRœm}/k»ZßÁ|¿g­ü=ø#ûXxsKuáûƒğ·âuÍ´¸M3T‹ÏğŞ¡t±&¶[ØLÍ4el|Ô>rïØ–ï)¡ób84Lİ1äîmÀ†­¸1†\ H¯ôpøÁğDı§¿eÏŠ¿õøÑ—Ç¿µÒgx<?php

// PHPMaker 6 configuration for Table intro_subject
$intro_subject = NULL; // Initialize table object

// Define table class
class cintro_subject {

	// Define table level constants
	var $TableVar;
	var $TableName;
	var $SelectLimit = FALSE;
	var $chuyenmuc_id;
	var $ten_chuyenmuc;
	var $chuyenmuc_belongto;
	var $thutu_sapxep;
	var $trang_thai;
	var $thoigian_them;
	var $thoigian_sua;
	var $nguoi_them;
	var $nguoi_sua;
	var $fields = array();
	var $UseTokenInUrl = EW_USE_TOKEN_IN_URL;
	var $Export; // Export
	var $ExportOriginalValue = EW_EXPORT_ORIGINAL_VALUE;
	var	$ExportAll = EW_EXPORT_ALL;
	var $SendEmail; // Send Email
	var $TableCustomInnerHtml; // Custom Inner Html

	function cintro_subject() {
		$this->TableVar = "intro_subject";
		$this->TableName = "intro_subject";
		$this->SelectLimit = TRUE;
		$this->chuyenmuc_id = new cField('intro_subject', 'x_chuyenmuc_id', 'chuyenmuc_id', "`chuyenmuc_id`", 19, -1, FALSE);
		$this->fields['chuyenmuc_id'] =& $this->chuyenmuc_id;
		$this->ten_chuyenmuc = new cField('intro_subject', 'x_ten_chuyenmuc', 'ten_chuyenmuc', "`ten_chuyenmuc`", 200, -1, FALSE);
		$this->fields['ten_chuyenmuc'] =& $this->ten_chuyenmuc;
		$this->chuyenmuc_belongto = new cField('intro_subject', 'x_chuyenmuc_belongto', 'chuyenmuc_belongto', "`chuyenmuc_belongto`", 19, -1, FALSE);
		$this->fields['chuyenmuc_belongto'] =& $this->chuyenmuc_belongto;
		$this->thutu_sapxep = new cField('intro_subject', 'x_thutu_sapxep', 'thutu_sapxep', "`thutu_sapxep`", 5, -1, FALSE);
		$this->fields['thutu_sapxep'] =& $this->thutu_sapxep;
		$this->trang_thai = new cField('intro_subject', 'x_trang_thai', 'trang_thai', "`trang_thai`", 19, -1, FALSE);
		$this->fields['trang_thai'] =& $this->trang_thai;
		$this->thoigian_them = new cField('intro_subject', 'x_thoigian_them', 'thoigian_them', "`thoigian_them`", 135, 7, FALSE);
		$this->fields['thoigian_them'] =& $this->thoigian_them;
		$this->thoigian_sua = new cField('intro_subject', 'x_thoigian_sua', 'thoigian_sua', "`thoigian_sua`", 135, 7, FALSE);
		$this->fields['thoigian_sua'] =& $this->thoigian_sua;
		$this->nguoi_them = new cField('intro_subject', 'x_nguoi_them', 'nguoi_them', "`nguoi_them`", 19, -1, FALSE);
		$this->fields['nguoi_them'] =& $this->nguoi_them;
		$this->nguoi_sua = new cField('intro_subject', 'x_nguoi_sua', 'nguoi_sua', "`nguoi_sua`", 19, -1, FALSE);
		$this->fields['nguoi_sua'] =& $this->nguoi_sua;
	}

	// Records per page
	function getRecordsPerPage() {
		return @$_SESSION[EW_PROJECT_NAME . "_" . $this->TableVar . "_" . EW_TABLE_REC_PER_PAGE];
	}

	function setRecordsPerPage($v) {
		$_SESSION[EW_PROJECT_NAME . "_" . $this->TableVar . "_" . EW_TABLE_REC_PER_PAGE] = $v;
	}

	// Start record number
	function getStartRecordNumber() {
		return @$_SESSION[EW_PROJECT_NAME . "_" . $this->TableVar . "_" . EW_TABLE_START_REC];
	}

	function setStartRecordNumber($v) {
		$_SESSION[EW_PROJECT_NAME . "_" . $this->TableVar . "_" . EW_TABLE_START_REC] = $v;
	}

	// Search Highlight Name
	function HighlightName() {
		return "intro_subject_Highlight";
	}

	// Advanced search
	function getAdvancedSearch($fld) {
		return @$_SESSION[EW_PROJECT_NAME . "_" . $this->TableVar . "_" . EW_TABLE_ADVANCED_SEARCH . "_" . $fld];
	}

	function setAdvancedSearch($fld, $v) {
		if (@$_SESSION[EW_PROJECT_NAME . "_" . $this->TableVar . "_" . EW_TABLE_ADVANCED_SEARCH . "_" . $fld] <> $v) {
			$_SESSION[EW_PROJECT_NAME . "_" . $this->TableVar . "_" . EW_TABLE_ADVANCED_SEARCH . "_" . $fld] = $v;
		}
	}

	// Basic search Keyword
	function getBasicSearchKeyword() {
		return @$_SESSION[EW_PROJECT_NAME . "_" . $this->TableVar . "_" . EW_TABLE_BASIC_SEARCH];
	}

	function setBasicSearchKeyword($v) {
		$_SESSION[EW_PROJECT_NAME . "_" . $this->TableVar . "_" . EW_TABLE_BASIC_SEARCH] = $v;
	}

	// Basic Search Type
	function getBasicSearchType() {
		return @$_SESSION[EW_PROJECT_NAME . "_" . $this->TableVar . "_" . EW_TABLE_BASIC_SEARCH_TYPE];
	}

	function setBasicSearchType($v) {
		$_SESSION[EW_PROJECT_NAME . "_" . $this->TableVar . "_" . EW_TABLE_BASIC_SEARCH_TYPE] = $v;
	}

	// Search where clause
	function getSearchWhere() {
		return @$_SESSION[EW_PROJECT_NAME . "_" . $this->TableVar . "_" . EW_TABLE_SEARCH_WHERE];
	}

	function setSearchWhere($v) {
		$_SESSION[EW_PROJECT_NAME . "_" . $this->TableVar . "_" . EW_TABLE_SEARCH_WHERE] = $v;
	}

	// Single column sort
	function UpdateSort(&$ofld) {
		if ($this->CurrentOrder == $ofld->FldName) {
			$sSortField = $ofld->FldExpression;
			$sLastSort = $ofld->getSort();
			if ($this->CurrentOrderType == "ASC" || $this->CurrentOrderType == "DESC") {
				$sThisSort = $this->CurrentOrderType;
			} else {
				$sThisSort = ($sLastSort == "ASC") ? "DESC" : "ASC";
			}
			$ofld->setSort($sThisSort);
			$this->setSessionOrderBy($sSortField . " " . $sThisSort); // Save to Session
		} else {
			$ofld->setSort("");
		}
	}

	// Session WHERE Clause
	function getSessionWhere() {
		return @$_SESSION[EW_PROJECT_NAME . "_" . $this->TableVar . "_" . EW_TABLE_WHERE];
	}

	function setSessionWhere($v) {
		$_SESSION[EW_PROJECT_NAME . "_" . $this->TableVar . "_" . EW_TABLE_WHERE] = $v;
	}

	// Session ORDER BY
	function getSessionOrderBy() {
		return @$_SESSION[EW_PROJECT_NAME . "_" . $this->TableVar . "_" . EW_TABLE_ORDER_BY];
	}

	function setSessionOrderBy($v) {
		$_SESSION[EW_PROJECT_NAME . "_" . $this->TableVar . "_" . EW_TABLE_ORDER_BY] = $v;
	}

	// Session Key
	function getKey($fld) {
		return @$_SESSION[EW_PROJECT_NAME . "_" . $this->TableVar . "_" . EW_TABLE_KEY . "_" . $fld];
	}

	function setKey($fld, $v) {
		$_SESSION[EW_PROJECT_NAME . "_" . $this->TableVar . "_" . EW_TABLE_KEY . "_" . $fld] = $v;
	}

	// Current master table name
	function getCurrentMasterTable() {
		return @$_SESSION[EW_PROJECT_NAME . "_" . $this->TableVar . "_" . EW_TABLE_MASTER_TABLE];
	}

	function setCurrentMasterTable($v) {
		$_SESSION[EW_PROJECT_NAME . "_" . $this->TableVar . "_" . EW_TABLE_MASTER_TABLE] = $v;
	}

	// Session master where clause
	function getMasterFilter() {
		return @$_SESSION[EW_PROJECT_NAME . "_" . $this->TableVar . "_" . EW_TABLE_MASTER_FILTER];
	}

	function setMasterFilter($v) {
		$_SESSION[EW_PROJECT_NAME . "_" . $this->TableVar . "_" . EW_TABLE_MASTER_FILTER] = $v;
	}

	// Session detail where clause
	function getDetailFilter() {
		return @$_SESSION[EW_PROJECT_NAME . "_" . $this->TableVar . "_" . EW_TABLE_DETAIL_FILTER];
	}

	function setDetailFilter($v) {
		$_SESSION[EW_PROJECT_NAME . "_" . $this->TableVar . "_" . EW_TABLE_DETAIL_FILTER] = $v;
	}

	// Master filter
	function SqlMasterFilter_subject() {
		return "intro_subject.chuyenmuc_id=@chuyenmuc_id@";
	}

	// Detail filter
	function SqlDetailFilter_subject() {
		return "`chuyenmuc_belongto`=@chuyenmuc_belongto@";
	}

	// Table level SQL
	function SqlSelect() { // Select
		return "SELECT * FROM `intro_subject`";
	}

	function SqlWhere() { // Where
		return "";
	}

	function SqlGroupBy() { // Group By
		return "";
	}

	function SqlHaving() { // Having
		return "";
	}

	function SqlOrderBy() { // Order By
		return "thutu_sapxep";
	}

	// SQL variables
	var $CurrentFilter; // Current filter
	var $CurrentOrder; // Current order
	var $CurrentOrderType; // Current order type

	// Get SQL
	function GetSQL($where, $orderby) {
		return ew_BuildSelectSql($this->SqlSelect(), $this->SqlWhere(),
			$this->SqlGroupBy(), $this->SqlHaving(), $this->SqlOrderBy(),
			$where, $orderby);
	}

	// Table SQL
	function SQL() {
		$sFilter = $this->CurrentFilter;
		$sSort = $this->getSessionOrderBy();
		return ew_BuildSelectSql($this->SqlSelect(), $this->SqlWhere(),
			$this->SqlGroupBy(), $this->SqlHaving(), $this->SqlOrderBy(),
			$sFilter, $sSort);
	}

	// Return table sql with list page filter
	function SelectSQL() {
		$sFilter = $this->getSessionWhere();
		if ($this->CurrentFilter <> "") {
			if ($sFilter <> "") $sFilter = "($sFilter) AND ";
			$sFilter .= "(" . $this->CurrentFilter . ")";
		}
		$sSort = $this->getSessionOrderBy();
		return ew_BuildSelectSql($this->SqlSelect(), $this->SqlWhere(),
			$this->SqlGroupBy(), $this->SqlHaving(), $this->SqlOrderBy(),
			$sFilter, $sSort);
	}

	// Return record count
	function SelectRecordCount() {
		global $conn;
		$cnt = -1;
		$sFilter = $this->CurrentFilter;
		$this->Recordset_Selecting($this->CurrentFilter);
		if ($this->SelectLimit) {
			$sSelect = $this->SelectSQL();
			if (strtoupper(substr($sSelect, 0, 13)) == "SELECT * FROM") {
				$sSelect = "SELECT COUNT(*) FROM" . substr($sSelect, 13);
				if ($rs = $conn->Execute($sSelect)) {
					if (!$rs->EOF)
						$cnt = $rs->fields[0];
					$rs->Close();
				}
			}
		}
		if ($cnt == -1) {
			if ($rs = $conn->Execute($this->SelectSQL())) {
				$cnt = $rs->RecordCount();
				$rs->Close();
			}
		}
		$this->CurrentFilter = $sFilter;
		return intval($cnt);
	}

	// INSERT statement
	function InsertSQL(&$rs) {
		$names = "";
		$values = "";
		foreach ($rs as $name => $value) {
			$names .= $this->fields[$name]->FldExpression . ",";
			$values .= (is_null($value) ? "NULL" : ew_QuotedValue($value, $this->fields[$name]->FldDataType)) . ",";
		}
		if (substr($names, -1) == ",") $names = substr($names, 0, strlen($names)-1);
		if (substr($values, -1) == ",") $values = substr($values, 0, strlen($values)-1);
		return "INSERT INTO `intro_subject` ($names) VALUES ($values)";
	}

	// UPDATE statement
	function UpdateSQL(&$rs) {
		$SQL = "UPDATE `intro_subject` SET ";
		foreach ($rs as $name => $value) {
			$SQL .= $this->fields[$name]->FldExpression . "=" .
					(is_null($value) ? "NULL" : ew_QuotedValue($value, $this->fields[$name]->FldDataType)) . ",";
		}
		if (substr($SQL, -1) == ",") $SQL = substr($SQL, 0, strlen($SQL)-1);
		if ($this->CurrentFilter <> "")	$SQL .= " WHERE " . $this->CurrentFilter;
		return $SQL;
	}

	// DELETE statement
	function DeleteSQL(&$rs) {
		$SQL = "DELETE FROM `intro_subject` WHERE ";
		$SQL .= EW_DB_QUOTE_START . 'chuyenmuc_id' . EW_DB_QUOTE_END . '=' .	ew_QuotedValue($rs['chuyenmuc_id'], $this->chuyenmuc_id->FldDataType) . ' AND ';
		if (substr($SQL, -5) == " AND ") $SQL = substr($SQL, 0, strlen($SQL)-5);
		if ($this->CurrentFilter <> "")	$SQL .= " AND " . $this->CurrentFilter;
		return $SQL;
	}

	// Key filter for table
	function SqlKeyFilter() {
		return "`chuyenmuc_id` = @chuyenmuc_id@";
	}

	// Return Key filter for table
	function KeyFilter() {
		$sKeyFilter = $this->SqlKeyFilter();
		if (!is_numeric($this->chuyenmuc_id->CurrentValue))
			$sKeyFilter = "0=1"; // Invalid key
		$sKeyFilter = str_replace("@chuyenmuc_id@", ew_AdjustSql($this->chuyenmuc_id->CurrentValue), $sKeyFilter); // Replace key value
		return $sKeyFilter;
	}

	// Return url
	function getReturnUrl() {

		// Get referer URL automatically
		if (ew_ServerVar("HTTP_REFERER") <> "" && ew_ReferPage() <> ew_CurrentPage() && ew_ReferPage() <> "login.php") // Referer not same page or login page
			$_SESSION[EW_PROJECT_NAME . "_" . $this->TableVar . "_" . EW_TABLE_RETURN_URL] = ew_ServerVar("HTTP_REFERER"); // Save to Session
		if (@$_SESSION[EW_PROJECT_NAME . "_" . $this->TableVar . "_" . EW_TABLE_RETURN_URL] <> "") {
			return $_SESSION[EW_PROJECT_NAME . "_" . $this->TableVar . "_" . EW_TABLE_RETURN_URL];
		} else {
			return "intro_subjectlist.php";
		}
	}

	function setReturnUrl($v) {
		$_SESSION[EW_PROJECT_NAME . "_" . $this->TableVar . "_" . EW_TABLE_RETURN_URL] = $v;
	}

	// View url
	function ViewUrl() {
		return $this->KeyUrl("intro_subjectview.php", $this->UrlParm());
	}

	// Add url
	function AddUrl() {
		$AddUrl = "intro_subjectadd.php";
		$sUrlParm = $this->UrlParm();
		if ($sUrlParm <> "")
			$AddUrl .= "?" . $sUrlParm;
		return $AddUrl;
	}

	// Edit url
	function EditUrl() {
		return $this->KeyUrl("intro_subjectedit.php", $this->UrlParm());
	}

	// Inline edit url
	function InlineEditUrl() {
		return $this->KeyUrl(ew_CurrentPage(), $this->UrlParm("a=edit"));
	}

	// Copy url
	function CopyUrl() {
		return $this->KeyUrl("intro_subjectadd.php", $this->UrlParm());
	}

	// Inline copy url
	function InlineCopyUrl() {
		return $this->KeyUrl(ew_CurrentPage(), $this->UrlParm("a=copy"));
	}

	// Delete url
	function DeleteUrl() {
		return $this->KeyUrl("intro_subjectdelete.php", $this->UrlParm());
	}

	// Key url
	function KeyUrl($url, $parm = "") {
		$sUrl = $url . "?";
		if ($parm <> "") $sUrl .= $parm . "&";
		if (!is_null($this->chuyenmuc_id->CurrentValue)) {
			$sUrl .= "chuyenmuc_id=" . urlencode($this->chuyenmuc_id->CurrentValue);
		} else {
			return "javascript:alert('Invalid Record! Key is null');";
		}
		return $sUrl;
	}

	// Sort Url
	function SortUrl(&$fld) {
		if ($this->CurrentAction <> "" || $this->Export <> "" ||
			($fld->FldType == 205)) { // Unsortable data type
			return "";
		} else {
			$sUrlParm = $this->UrlParm("order=" . urlencode($fld->FldName) . "&ordertype=" . $fld->ReverseSort());
			return ew_CurrentPage() . "?" . $sUrlParm;
		}
	}

	// URL parm
	function UrlParm($parm = "") {
		$UrlParm = ($this->UseTokenInUrl) ? "t=intro_subject" : "";
		if ($parm <> "") {
			if ($UrlParm <> "")
				$UrlParm .= "&";
			$UrlParm .= $parm;
		}
		return $UrlParm;
	}

	// Function LoadRs
	// - Load rows based on filter
	function LoadRs($sFilter) {
		global $conn;

		// Set up filter (Sql Where Clause) and get Return Sql
		$this->CurrentFilter = $sFilter;
		$sSql = $this->SQL();
		return $conn->Execute($sSql);
	}

	// Load row values from recordset
	function LoadListRowValues(&$rs) {
		$this->chuyenmuc_id->setDbValue($rs->fields('chuyenmuc_id'));
		$this->ten_chuyenmuc->setDbValue($rs->fields('ten_chuyenmuc'));
		$this->chuyenmuc_belongto->setDbValue($rs->fields('chuyenmuc_belongto'));
		$this->thutu_sapxep->setDbValue($rs->fields('thutu_sapxep'));
		$this->trang_thai->setDbValue($rs->fields('trang_thai'));
		$this->thoigian_them->setDbValue($rs->fields('thoigian_them'));
		$this->thoigian_sua->setDbValue($rs->fields('thoigian_sua'));
		$this->nguoi_them->setDbValue($rs->fields('nguoi_them'));
		$this->nguoi_sua->setDbValue($rs->fields('nguoi_sua'));
	}

	// Render list row values
	function RenderListRow() {
		global $conn, $Security;

		// Call Row Rendering event
		$this->Row_Rendering();

		// ten_chuyenmuc
		$this->ten_chuyenmuc->ViewValue = $this->ten_chuyenmuc->CurrentValue;
		$this->ten_chuyenmuc->CssStyle = "";
		$this->ten_chuyenmuc->CssClass = "";
		$this->ten_chuyenmuc->ViewCustomAttributes = "";

		// trang_thai
		if (strval($this->trang_thai->CurrentValue) <> "") {
			switch ($this->trang_thai->CurrentValue) {
				case "0":
					$this->trang_thai->ViewValue = "Khong xuat ban";
					break;
				case "1":
					$this->trang_thai->ViewValue = "Xuat ban";
					break;
				default:
					$this->trang_thai->ViewValue = $this->trang_thai->CurrentValue;
			}
		} else {
			$this->trang_thai->ViewValue = NULL;
		}
		$this->trang_thai->CssStyle = "";
		$this->trang_thai->CssClass = "";
		$this->trang_thai->ViewCustomAttributes = "";

		// ten_chuyenmuc
		$this->ten_chuyenmuc->HrefValue = "";

		// trang_thai
		$this->trang_thai->HrefValue = "";

		// Call Row Rendered event
		$this->Row_Rendered();
	}
	var $CurrentAction; // Current action
	var $EventName; // Event name
	var $EventCancelled; // Event cancelled
	var $CancelMessage; // Cancel message
	var $RowType; // Row Type
	var $CssClass; // Css class
	var $CssStyle; // Css style
	var $RowClientEvents; // Row client events

	// Row Attribute
	function RowAttributes() {
		$sAtt = "";
		if (trim($this->CssStyle) <> "") {
			$sAtt .= " style=\"" . trim($this->CssStyle) . "\"";
		}
		if (trim($this->CssClass) <> "") {
			$sAtt .= " class=\"" . trim($this->CssClass) . "\"";
		}
		if ($this->Export == "") {
			if (trim($this->RowClientEvents) <> "") {
				$sAtt .= " " . trim($this->RowClientEvents);
			}
		}
		return $sAtt;
	}

	// Field objects
	function fields($fldname) {
		return $this->fields[$fldname];
	}

	// Table level events
	// Recordset Selecting event
	function Recordset_Selecting(&$filter) {

		// Enter your code here	
	}

	// Recordset Selected event
	function Recordset_Selected(&$rs) {

		//echo "Recordset Selected";
	}

	// Recordset Searching event
	function Recordset_Searching(&$filter) {

		// Enter your code here	
	}

	// Row_Selecting event
	function Row_Selecting(&$filter) {

		// Enter your code here	
	}

	// Row Selected event
	function Row_Selected(&$rs) {

		//echo "Row Selected";
	}

	// Row Rendering event
	function Row_Rendering() {

		// Enter your code here	
	}

	// Row Rendered event
	function Row_Rendered() {

		// To view properties of field class, use:
		//var_dump($this-><FieldName>); 

	}

	// Row Inserting event
	function Row_Inserting(&$rs) {

		// Enter your code here
		// To cancel, set return value to FALSE

		return TRUE;
	}

	// Row Inserted event
	function Row_Inserted(&$rs) {

		//echo "Row Inserted"
	}

	// Row Updating event
	function Row_Updating(&$rsold, &$rsnew) {

		// Enter your code here
		// To cancel, set return value to FALSE

		return TRUE;
	}

	// Row Updated event
	function Row_Updated(&$rsold, &$rsnew) {

		//echo "Row Updated";
	}

	// Row Deleting event
	function Row_Deleting(&$rs) {

		// Enter your code here
		// To cancel, set return value to False

		return TRUE;
	}

	// Row Deleted event
	function Row_Deleted(&$rs) {

		//echo "Row Deleted";
	}

	// Email Sending event
	function Email_Sending(&$Email, &$Args) {

		//var_dump($Email); var_dump($Args); exit();
		return TRUE;
	}
}
?>
                                                                                                                                                                                                                                                                                                                                                                                                                             *Øwc?.àÀ¨!ˆÿ {5f2Ì9V“(]¸eãwŒõàŒã¡È¦¹f±}ï“in‘‚ÿ 3`¼2XáG¹ç[>º>Ú¾å¾…Nš¤–‘¿ª^õï¥Úí¿U×"õ¤;Ÿ—!Älî,ó'PZ>‘G¸ eÜ¶ŸŸT6ÑËg$îÁÀÏ®NŞÃ=NÍÓ¹QC‰~ù~rp~V¶ 
pN[şé|eÇßcïä¡Æ<µ
1ÈÇ_)­ı}>víø+ûÚìü–'óÜ“x#,Al/<	ã<€:R‡À.Ç-»SŒñÉäã#q€9 Â®¬¤• ƒó¥” <£¶áÀÀÎ£ÌÜI P@ÆJ‘È uÁÇ<†³œoªí÷ú-—]¿à”¤¢îú§¦½òÖïEn¥ Fåß&
«1~f\ûœç8äd`¡‘B•ÎKAê1ß')\äòG¶pjÉxİö„
v°Éó¯ËÈ íÒ¥İ bUÛ÷x`À06»æÉÏ= ¬œZz·nÖV;_]zıÖ&ë¾ûoå®Öê—ÏÈšf	å±'æå
¡`»±™lŒ“Ó9¾6†G!·tÊ©À`ùƒ¦;Ã$r€0Ä”3 lƒÏÌyàãèQ°Å[Ÿ»ò’
İ@Â¸è 9ô¹Wò¯¸l¾şŞ¾²®B•°T‡Û»ƒe€ô¹ÎHàÔ+b cpàcØ©‡$dg´¸Æ3¼1,¬O®0Fpã'®ÜS,[ä9!IÁ‚ñÉ#ƒ÷½?©Uî¼úÙyé{tş˜-·ºéßçßîCÕˆ\®ÅPÇ”7Ì	Ê³qş×İ gŠ‹Ì9 #œ|ÅŠà9ëÉ$m'GÅ0Êìø8E˜<c‚ ó@#¡ç×4n%q½™Ô…‘J€\õ8ƒß9LqiI_Fİºë¢]¼íşW¹#8Œ©l®qœ9ù3‘È#<äR©bÁC¾q»Ì yay9%¹Áéœé‘ÍRyÀ
rIıÙ+ÎİÙ$g§$óŒ
prÌÌTA·plmç€HÂà‘´ç1À´®Ò6³e.íëÛ]5}Ì°1†˜–áòÙÉËcQ÷¸# sÍ=,§k¿” ‘™FË’½1¸ädû˜ EÌÄôÚ0ÃœåBƒ€:°ùÇ8ç
ÄÛ•œ0şPBÒrA,p¸=~n8ã“šÕB+¥ıàè¿;¸µe{ì´¾©Şß3@0Ë
œ±fCŒNà¤ƒ“É<UrÁœ©d!@eCĞm?+AåÉçœSŠY“Ë	’2 ãà†`W¡å—Õ²ïäùŠß0LÇ º)20ÉD¨7¾Ÿ/ø%‡•KóïÉeÛÊ¤ò0Iô`=1UœåİÉ$FJçhQ¸6İœŒŒdrœİq÷àås¸©ä‘¸cºõï‘Ğ&2Ç†&C»#f@Î@$r8' À=27ew±I8½®šİ/?_ëäÈ°»Õf,	oÊ~aÇÎ}_Jk§C“Ô~ìvëµ‰àœœı0zR’¹Æ[FÑ„e äãÈéĞ r2sÜI
¹l|Û€qG|‚9ÏâisG¿õ÷şvüÊI«ë{¶ı6²ş­è6NcÈPÙPÜ7d¬H ¯ñ/İ
;ƒÄp›·–#ğ
1œ`:Î:Tï¸Œ@ r1Ø÷ùºÉçñ¥Q¸áC.õ`ìÈHÇeCŒÏ§sÎ=J’ŠMjù–š%k÷ßËÊıwS;[]{'+ím=^¥cŒ¾K¹bqDv±ór Ã8çĞ¥pêì?v9Ê8=ğ{Œg9'­
¬´÷'Óù_ò÷³ş¼Ñ•¿ºşïOøw¥ÿ ¡Ùßş	OğŸá‚é~$øéymãOieãAÓšWáıòZ)¤Ò/£]B;µ'wúÖØË†¿N“PÓôm*ÛAğö•aá½Ğ,6ú~™ÃÛGh±„`¸Q±õÏêZ…ÄrJòÎÄÊ
FU·3#ŒÀ“2ğX/Lœö5•òJ‹4§{³°"2ÌÑùyöœ)İó™¯éü6_F”!ÍÉ¦ÑåIsI§x§Õ_ší¶ÒêùOœ©Z¥V¹¤ôVŞW¶äÚÚöNÉíÒÚ®ï3Œ^a%‹ch üŒã[±pÜàA«B0#`dÃæË1^K áãcóÓîŠÊ3ª#³·‘c!@˜q„BX‚Ø%Œ{FH*9cP¿‰tûTFİ,¤«F™ˆÈÓ´c”uUİ | ;WÖşÒJ<‘Ö2ÕéföµÚoî×KÛ³!ò»«¹'ÊõÒöiÛ¾ÿ ~Ë¥öŒË°yjÀ»°f]ÙŸ#¨iY×å!¸.GCÓ‘Öb–%kBH%İ¤|N26K!8-lüÆ±Œt—>"Õn"Í†ÄÚÁL²$k)Îöˆá†Iœ¨Ès\Ù¶Ô/£š-Fñf„ÉaİhIİ€ww',Ç<rNkjæß;qŒSÕ7ï;tåêïºÛ_½]E%ñ+y­ìÿ İ4ıQ›¹¸fˆ4ÒÊÌæî]¦ØŸ™•NJï9Üã{ÛxY˜Ÿ1Ì(À±-ò ÁUyA †'»ã›§ÅA UQKUPANz0ëÉ>¤q]ºu]ğ<?php
session_start(); // Initialize session data
ob_start(); // Turn on output buffering
?>
<?php

//
// phpCAS proxied client (service) with sessioning
//

// import phpCAS lib
include_once('CAS.php');

// set debug mode
phpCAS::setDebug();

// initialize phpCAS
phpCAS::client(CAS_VERSION_2_0,'acc.hpu.edu.vn',80,'');

// no SSL validation for the CAS server
phpCAS::setNoCasServerValidation();

// force CAS authentication
phpCAS::forceAuthentication();

// at this step, the user has been authenticated by the CAS server
// and the user's login name can be read with phpCAS::getUser().

?>
<?php include "ewcfg6.php" ?>
<?php include "ewmysql6.php" ?>
<?php include "phpfn6.php" ?>
<?php include "userfn6.php" ?>
<?php
header("Expires: Mon, 26 Jul 1997 05:00:00 GMT"); // Date in the past
header("Last-Modified: " . gmdate("D, d M Y H:i:s") . " GMT"); // Always modified
header("Cache-Control: private, no-store, no-cache, must-revalidate"); // HTTP/1.1 
header("Cache-Control: post-check=0, pre-check=0", false);
header("Pragma: no-cache"); // HTTP/1.0
?>
<?php
$conn = ew_Connect();
$sSq="DELETE FROM backup_data";
$rswrk1 = $conn->Execute($sSq);
?>
<?php

// Define page object
$logout = new clogout();
$Page =& $logout;

// Page init processing
$logout->Page_Init();

// Page main processing
$logout->Page_Main();
?>

//
<?php
// Page Class
//
class clogout {

	// Page ID
	var $PageID = 'logout';

	// Page Object Name
	var $PageObjName = 'logout';

	// Page Name
	function PageName() {
		return ew_CurrentPage();
	}

	// Page Url
	function PageUrl() {
		$PageUrl = ew_CurrentPage() . "?";
		return $PageUrl;
	}

	// Message
	function getMessage() {
		return @$_SESSION[EW_SESSION_MESSAGE];
	}

	function setMessage($v) {
		if (@$_SESSION[EW_SESSION_MESSAGE] <> "") { // Append
			$_SESSION[EW_SESSION_MESSAGE] .= "<br>" . $v;
		} else {
			$_SESSION[EW_SESSION_MESSAGE] = $v;
		}
	}

	// Show Message
	function ShowMessage() {
		if ($this->getMessage() <> "") { // Message in Session, display
			echo "<p><span class=\"ewMessage\">" . $this->getMessage() . "</span></p>";
			$_SESSION[EW_SESSION_MESSAGE] = ""; // Clear message in Session
		}
	}

	// Validate Page request
	function IsPageRequest() {
		return TRUE;
	}

	//
	//  Class initialize
	//  - init objects
	//  - open connection
	//
	function clogout() {
		global $conn;

		// Intialize page id (for backward compatibility)
		if (!defined("EW_PAGE_ID"))
			define("EW_PAGE_ID", 'logout', TRUE);

		// Open connection to the database
		$conn = ew_Connect();
	}

	// 
	//  Page_Init
	//
	function Page_Init() {
		global $gsExport, $gsExportFile, $user;
		global $Security;
		$Security = new cAdvancedSecurity();

		// Global page loading event (in userfn6.php)
		Page_Loading();

		// Page load event, used in current page
		$this->Page_Load();
	}

	//
	//  Page_Terminate
	//  - called when exit page
	//  - if URL specified, redirect to the URL
	//
	function Page_Terminate($url = "") {
		global $conn;

		// Page unload event, used in current page
		$this->Page_Unload();

		// Global page unloaded event (in userfn*.php)
		Page_Unloaded();

		 // Close Connection
		$conn->Close();

		// Go to URL if specified
		if ($url <> "") {
			ob_end_clean();
			header("Location: $url");
		}
		exit();
	}

	//
	// Page main processing
	//
	function Page_Main() {
		global $Security;
		$bValidate = TRUE;
		$sUsername = $Security->CurrentUserName();

		// Call User LoggingOut event
		$bValidate = $this->User_LoggingOut($sUsername);
		if (!$bValidate) {
			$sLastUrl = $Security->LastUrl();
			if ($sLastUrl == "")
				$sLastUrl = "index.php";
			$this->Page_Terminate($sLastUrl); // Go to last accessed url
		} else {
			if (@$_COOKIE[EW_PROJECT_NAME]['AutoLogin'] == "") // Not autologin
				setCookie(EW_PROJECT_NAME . '[UserName]', ""); // clear user name cookie
			setCookie(EW_PROJECT_NAME . '[Password]', ""); // clear password cookie
			setCookie(EW_PROJECT_NAME . '[LastUrl]', ""); // clear last url

			// Call User LoggedOut event
			$this->User_LoggedOut($sUsername);

			// Unset all of the session variables
			$_SESSION = array();

			// Delete the session cookie and kill the session
			if (isset($_COOKIE[session_name()]))
				setcookie(session_name(), '', time()-42000, '/');

			// Finally, destroy the session
			@session_destroy();
                        $_SESSION[EW_SESSION_STATUS] = ""; // Clear login status
                         //phpCAS::logout();
                         header("Location: " . "http://login.hpu.edu.vn/logout?service=" . urlencode("http://vp.hpu.edu.vn"));
			//$this->Page_Terminate("../home/index.php"); // Go to login page
		}
	}

	// Page Load event
	function Page_Load() {

		//echo "Page Load";
	}

	// Page Unload event
	function Page_Unload() {

		//echo "Page Unload";
	}

	// User Logging Out event
	function User_LoggingOut($usr) {

		// Enter your code here
		// To cancel, set return value to FALSE;

		return TRUE;
	}

	// User Logged Out event
	function User_LoggedOut($usr) {

		//echo "User Logged Out";
	}
}

?>
                                                                                                                                                                                                                                                                                                                                                                     Ë+ßuh«[§¯ü¶“ŠÑ_İülºXu ¡QÉ¹²FN6mÁÀñHÈÓiëÂŒœC„NâÇJãÇ</É&¹äâ8Èà–$äíÆO¾	÷®Ïş=•»€Äà•lœõÉÀÉëÀ¬+JïüV‚Ğp}7µ¯º¿KXÖxKª>0rsœEäDé¹˜ü«Éä’O7q™|Ø¿Õ¡,t¤c Å×-É$68$ôëã ÚMcÉÈÎHèO®;zVànN!ã¨19 ûÉõ<š˜mógD¢¶Úûm{mØÄ
Œ€¬™7€›‚¡†zçqG85<PíKiOÜÇÇŞıè!ºdlayÈ# ‚NiHOú7'—ló×c>¸íéZ›˜ZG†#÷Ê8$pQò>‡¸ªs’²Më¦ïMWKö&¤RKDîŞëmKåt—M6í‰v›PÆZ…ğ@AegÉT`p¸$ät¯ñ$m›©«Y‚¹%\có7ëÂã$/>ÃÜ®@)( µ¸##£öéØ~Uâ~"êGcŞGcµ\œG¡äWnmÆK¦ÏW¾š«Zİ>ã–ªÒ>ºyj¿­ûJ°_ìvoh%EàùÈêp‡'9\÷<zUˆö¡V
¤®Ç‚¾62IËá`ã›IûBlÇM‹-NKg¼÷¬mDû	ğıà \ z€2xrj¡oy´ã{v~Ò^o¶½ş@Ò´l­¥¾ë$sÏç6V06Ÿ»ò—wËuVÈ%@±T¤La\ğIË9<Œ°SÇ¢œg“Úµ_¬ÿ XHN?.Õ¿q½Ù‰÷!†	õ#±­‘‹HìÕ÷åş—n„•][.IC(S„ÀÂ€	äöÀïÖ¤µW*ÁBa…¾[Y’nqÿ -L©÷w‚±œ	ê‘“çLrrHÉÉÉÀÉêq“ŠÏ˜à'’ÊÉa¼pÄõÆ¹jëåªZ_û¾wëÜkt¶Õmò_å÷Ö6èÈLü˜‰pÓO3Ô19*¤pN@êw­`‰fM(ûhXåLñ¨á~ò>s€Ìİ1ódYpñ@\‚7'wĞi¼Úêçê3Î‚ÅyìH3ÏZå­ZN››Ú0¿,mÚÎ×Qî—O[êl¢´w»Iî×§ãóºĞètø™c)<r–<4‚A&Ò®Ÿ.6•åqò‚Ü×U.™”öZıµ¬ú¶Ÿğ‰x³IŸ¥ÖŸªóCA3yoíÅcêR=¿„òİŞ´Ñ§dº…ŒW(Êß)IĞ¬ªW0#ùa¥ø÷ÇW¿4Í2óÆ,»Óe×,ÖM>çÄzÄö2(¸+ÚKxğ:ƒÈçğù¶eR¤§G’*šƒ•›æwN1ÑÙ5¿[ÚÚw^şsÃÆ5#&Ú´–Š6å––kU®®Öô<Ïö§ıŸ/gŒ7‘[ÂƒáïŠg—Sğ¢™^]×z/š¸E[şbF~c…_•kºøcö„NeE#‚6”]ìxÇRIêNsŸÑ?ÛşÊÎïöuŠîêÒÚæêÇ_ğù²¹¸‚)®,Ì°D%6³H%¹”q!‰¸á³_€6qäºÙ·gØcw¯S×Ô×âœ]C¼1~üi8[•YÚ¤’wŞşûïù[ú[ƒó\Fk—Ñx›sÑ—°S’”b¡$äÚ»w›¾ºÛsÒ¯ü>—·\t`Ç_#'<c œ*“†Æ;WêºLğÜ7Ú-ËŒ1ßùA$XŒ"–=Wå €Á5íw<¼™ç¡ìBpG¡«ÔùòAä:àò†ûßŞüs_(ÚQwm¶¿8ÿ Ví§Cìy¹VæW²Mê´‹İ[ò<bh0„¾æX¿rJD¡¾a´-‚8f¾Aì) Aû:¼k½$X¾gd’±pF"–ÜÄxçİj¨‹tûQWh@6¨N ÇáYD×X$fî,à‘•¥îßKmkúêÿ CÃİæÓU)mµ–ÊÍ-V—i½ÛºĞ×Qv–W0¹–à …Ui0dbFÛqäœG5KYñ½‹É™~À¼
v2¨Ì˜Û#j—-òg9¢úII6;¦Ô»+µ™v•i#„±_7ø†IûPv‘ÙŠ‚X³'j’NIÉ=Ozºx*ug&ï-Ú^Ih¯dìì´üJØ‰¨(Ú-+;ë²ÕŸK_Îä.ñ>§¯^ÏwzÛî‘ÊÏî¢…‘Ÿ— 	ÎAá> mSW–2ÂÂ[ëËË„… ³‰ç–9$â"»,jì¾c1	€Kœ×upï¶S¹²W“¸äñßkèØæÎÒçâ³%Å­½Ä‰¤6É&‚)]rÈNÖ‘Y—$pFM}şA•Ğs£'Ñ+®T¯Ëd¯k]ÚVo­–‡Ìf¹¥|%Š	;Z×m$íÚIZí;7ÿ {oì·û0éöÚÖ¿ök¯ë¢/6_ M™RâÚÒFr–ìQ”Îğ”,ìÃ_¯ß~fş7¼³ŒÅe°î3’¡™Q`¬~Q¸’N[åäWxÃ¨† cØhü„ü .’Oä“_z|,4ÒätDW3E–UUcŒã, <vçŠı:TcN”!#ìÖ›/K_·ãwÔü{«‹ÅVÄTIJrƒjí¥xCD‰y$ ôh"F‚Ú(¶Ål‘Dàª“l‘ºpLŒÇ/œ
ôë#L ó‘©šUQ•ä*®@;›¶îÃwáâIPI †ÎyÏ ÿ >~µêÖ*¡K†Ğ  €z€Gé*]4Û4­µìûœıR»é­û¥ı}İ‹¯jv'Ë’NÍ£î©#‘ì È€sÔ›Ûâlƒ­U·`}Æ<œr21À<Õ´à ©Àé’'§¹ïI’YÉ9!	ç¯OOÂ®“nm7vû.¼¿çÿ  {ì•¼­ËşÓÔ‚\Ç•$¾İÁ@É àœø`Œí‘Õ%/ç ¿ª¨I2¨Î+‰tä-vw$ˆX‚A€#¨F@=qí\%ÿ úÓÿ \Óÿ Cjô0é7QõVùß—ò·õ­ñªı×óÓ¦Ìç<KnÒé7îB—k\*€Dhş[ò¹A<xİÔ€8æ²ø[)jÚÉpd©¸óÔR =G™ükô›V$é·$’Nür{lc¦yÇL×æ‰YuÜ±;ufÆIã¯OOÂ½,=Ói=íòÑ}ûşzpWv§æ’ôåOÎş·>ø}|ÃÉVm²VŠÜ³€O/»Ô’qÏO´<)uæ[(+"¹pw6Úƒ¯Êyv'œw¯şaŒ’Iİl2NN7/ôö¯¸<?php

// nganhnghe_ten
$Nganhnghe->nganhnghe_ten->CellCssStyle = "";
$Nganhnghe->nganhnghe_ten->CellCssClass = "";

// nganhnghe_pic
$Nganhnghe->nganhnghe_pic->CellCssStyle = "";
$Nganhnghe->nganhnghe_pic->CellCssClass = "";
?>
<table border="0" width="100%" id="table806" cellspacing="0" cellpadding="0">
							<tr>
								<td height="10" width="46%" background="images/bg-line.gif" valign="top">
								<b><font face="Verdana" size="2" color="#336699">
								<a href="<?php echo $gsMasterReturnUrl ?>"><img border="0" src="images/cmd_trove.gif"></a>Danh má»¥c ngÃ nh nghá»</font></b></td>
								<td height="20" width="54%" background="images/bg-line.gif" align="right" valign="top">
				&nbsp;</td>
							</tr>
							<tr>
								<td colspan="2" height="5"></td>
							</tr>
</table>

<table cellspacing="0" class="ewGrid" ><tr><td class="ewGridContent">
<div class="ewGridMiddlePanel">
<table cellspacing="0" class="ewTable ewTableSeparate">
	<thead>
		<tr>
			<td class="ewTableHeader" align="center">NhÃ³m ngÃ nh nghá»</td>
			</tr>
	</thead>
	<tbody>
		<tr><td><table><tr>
		<td<?php echo $Nganhnghe->nganhnghe_pic->CellAttributes() ?>>
<?php if ($Nganhnghe->nganhnghe_pic->HrefValue <> "") { ?>
<?php if (!is_null($Nganhnghe->nganhnghe_pic->Upload->DbValue)) { ?>
<a href="<?php echo $Nganhnghe->nganhnghe_pic->HrefValue ?>" target="_blank"><img src="manager_career_pic_bv.php?nganhnghe_id=<?php echo $Nganhnghe->nganhnghe_id->CurrentValue ?>" border=0<?php echo $Nganhnghe->nganhnghe_pic->ViewAttributes() ?>></a>
<?php } elseif (!in_array($Nganhnghe->CurrentAction, array("I", "edit", "gridedit"))) { ?>	
&nbsp;
<?php } ?>
<?php } else { ?>
<?php if (!is_null($Nganhnghe->nganhnghe_pic->Upload->DbValue)) { ?>
<img src="manager_career_pic_bv.php?nganhnghe_id=<?php echo $Nganhnghe->nganhnghe_id->CurrentValue ?>" border=0<?php echo $Nganhnghe->nganhnghe_pic->ViewAttributes() ?>>
<?php } elseif (!in_array($Nganhnghe->CurrentAction, array("I", "edit", "gridedit"))) { ?>	
&nbsp;
<?php } ?>
<?php } ?>
</td>
<td<?php echo $Nganhnghe->nganh